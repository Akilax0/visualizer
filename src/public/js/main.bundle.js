/*! For license information please see main.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpera_swarm_visualizer=self.webpackChunkpera_swarm_visualizer||[]).push([["main"],{"./src/js/app.js":(e,t,r)=>{r.r(t);var n=r("./src/js/data/config.js"),o=r("./src/js/utils/detector.js"),a=r("./src/js/app/main.js");r("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),n.default.isDev=!0,function(){if(o.default.webgl){var e=document.getElementById("appContainer");new a.default(e)}else o.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}var s=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.domElement.width,i=t.domElement.height;this.threeCamera=new n.PerspectiveCamera(o.default.camera.fov,a/i,o.default.camera.near,o.default.camera.far),this.threeCamera.position.set(o.default.camera.posX,o.default.camera.posY,o.default.camera.posZ),this.threeCamera.up.set(0,0,1),this.updateSize(t),window.addEventListener("resize",(function(){return r.updateSize(t)}),!1)}var t,r,a;return t=e,(r=[{key:"updateSize",value:function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}])&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/components/controls.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/examples/jsm/controls/OrbitControls.js"),o=r("./src/js/data/config.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.threeControls=new n.OrbitControls(t,r),this.init()}var t,r,a;return t=e,(r=[{key:"init",value:function(){this.threeControls.target.set(o.default.controls.target.x,o.default.controls.target.y,o.default.controls.target.z),this.threeControls.autoRotate=o.default.controls.autoRotate,this.threeControls.autoRotateSpeed=o.default.controls.autoRotateSpeed,this.threeControls.rotateSpeed=o.default.controls.rotateSpeed,this.threeControls.zoomSpeed=o.default.controls.zoomSpeed,this.threeControls.minDistance=o.default.controls.minDistance,this.threeControls.maxDistance=o.default.controls.maxDistance,this.threeControls.minPolarAngle=o.default.controls.minPolarAngle,this.threeControls.maxPolarAngle=o.default.controls.maxPolarAngle,this.threeControls.enableDamping=o.default.controls.enableDamping,this.threeControls.enableZoom=o.default.controls.enableZoom,this.threeControls.dampingFactor=o.default.controls.dampingFactor,this.threeControls.enableRotate=!0,null==o.default.controls.minAzimuthAngle?this.threeControls.minAzimuthAngle=-1/0:this.threeControls.minAzimuthAngle=o.default.controls.minAzimuthAngle,null==o.default.controls.maxAzimuthAngle?this.threeControls.maxAzimuthAngle=1/0:this.threeControls.maxAzimuthAngle=o.default.controls.maxAzimuthAngle}}])&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/components/environment.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=s((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("Environment: Scale: ".concat(scene_scale,", arenaSize:").concat(o.default.arena.size));var t=new n.PlaneBufferGeometry(o.default.arena.size,o.default.arena.size),r=new n.MeshPhongMaterial({color:10066329,depthWrite:!1});r.userData.originalColor=new n.Color(10066329);var a=new n.Mesh(t,r);a.scale.set(scene_scale,scene_scale,scene_scale),a.position.set(0,0,0),a.receiveShadow=!0,scene.add(a);var i=new n.GridHelper(o.default.arena.size,Math.round(o.default.arena.size/10),0,5987163);i.rotation.x=-Math.PI/2,i.scale.set(scene_scale,scene_scale,scene_scale),i.position.set(0,0,0),i.material.opacity=.35,i.material.transparent=!0,scene.add(i)}))},"./src/js/app/components/geometry.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/app/components/material.js"),a=r("./src/js/data/config.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.geo=null}var t,r,i;return t=e,r=[{key:"make",value:function(e){var t=this;return"plane"===e?function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.geo=new n.PlaneGeometry(e,r,o,a)}:"sphere"===e?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;t.geo=new n.SphereGeometry(e,r,o)}:void 0}},{key:"place",value:function(e,t){var r,i,l=new o.default(15658734).standard,u=new n.Mesh(this.geo,l);(r=u.position).set.apply(r,s(e)),(i=u.rotation).set.apply(i,s(t)),a.default.shadow.enabled&&(u.receiveShadow=!0),this.scene.add(u)}}],r&&u(t.prototype,r),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/components/label.js":(e,t,r)=>{r.r(t),r.d(t,{addLabel:()=>i,default:()=>a,removeLabel:()=>s});var n=r("./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js"),o=r("./src/js/data/config.js");function a(){var e=new n.CSS2DRenderer;return e.setSize(window.innerWidth,window.innerHeight),e.domElement.style.position="absolute",e.domElement.style.top="0px",e.isShowingLables=o.default.isShowingLables,e.isShowingObstacleLables=o.default.labelsVisibility.obstacles,e.isShowingRobotLables=o.default.labelsVisibility.robots,e.updateSize=function(){e.setSize(window.innerWidth,window.innerHeight)},document.addEventListener("DOMContentLoaded",(function(){return e.updateSize()}),!1),window.addEventListener("resize",(function(){return e.updateSize()}),!1),e}var i=function(e,t,r,o){if(void 0!==r){var a=document.createElement("div");a.className="label",a.textContent=t.name+" ["+r.reality+"]",a.style.marginTop="-1.2em";var i=new n.CSS2DObject(a);i.name="Label[".concat(t.id,"]"),i.position.set(0,1,0),i.visible=o,r.add(i),r.removeLabel=function(){r.remove(i)}}},s=function(e){void 0!==e&&void 0!==e.removeLabel&&e.removeLabel()}},"./src/js/app/components/light.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.init()}var t,r,a;return t=e,(r=[{key:"init",value:function(){this.ambientLight=new n.AmbientLight(o.default.ambientLight.color),this.ambientLight.visible=o.default.ambientLight.enabled,this.pointLight=new n.PointLight(o.default.pointLight.color,o.default.pointLight.intensity,o.default.pointLight.distance),this.pointLight.position.set(o.default.pointLight.x,o.default.pointLight.y,o.default.pointLight.z),this.pointLight.visible=o.default.pointLight.enabled,this.directionalLight=new n.DirectionalLight(o.default.directionalLight.color,o.default.directionalLight.intensity),this.directionalLight.position.set(o.default.directionalLight.x,o.default.directionalLight.y,o.default.directionalLight.z),this.directionalLight.visible=o.default.directionalLight.enabled,this.directionalLight.castShadow=o.default.shadow.enabled,this.directionalLight.shadow.bias=o.default.shadow.bias,this.directionalLight.shadow.camera.near=o.default.shadow.near,this.directionalLight.shadow.camera.far=o.default.shadow.far,this.directionalLight.shadow.camera.left=o.default.shadow.left,this.directionalLight.shadow.camera.right=o.default.shadow.right,this.directionalLight.shadow.camera.top=o.default.shadow.top,this.directionalLight.shadow.camera.bottom=o.default.shadow.bottom,this.directionalLight.shadow.mapSize.width=o.default.shadow.mapWidth,this.directionalLight.shadow.mapSize.height=o.default.shadow.mapHeight,this.directionalLightHelper=new n.CameraHelper(this.directionalLight.shadow.camera),this.directionalLightHelper.visible=o.default.shadow.helperEnabled,this.hemiLight=new n.HemisphereLight(o.default.hemiLight.color,o.default.hemiLight.groundColor,o.default.hemiLight.intensity),this.hemiLight.position.set(o.default.hemiLight.x,o.default.hemiLight.y,o.default.hemiLight.z),this.hemiLight.visible=o.default.hemiLight.enabled}},{key:"place",value:function(e){switch(e){case"ambient":this.scene.add(this.ambientLight);break;case"directional":this.scene.add(this.directionalLight),this.scene.add(this.directionalLightHelper);break;case"point":this.scene.add(this.pointLight);break;case"hemi":this.scene.add(this.hemiLight)}}}])&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/components/material.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===o(i)?i:String(i)),n)}var a,i}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=i((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.basic=new n.MeshBasicMaterial({color:t,side:n.DoubleSide}),this.standard=new n.MeshStandardMaterial({color:t,shading:n.FlatShading,roughness:1,metalness:0,side:n.DoubleSide}),this.wire=new n.MeshBasicMaterial({wireframe:!0})}))},"./src/js/app/components/obstacle.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js"),a=r("./src/js/app/components/label.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}var l="Obstacle_",u=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,console.log("Obstacle Reality:",o.default.mixedReality.obstacles),void 0!==r&&r()}var t,r,i;return t=e,(r=[{key:"createList",value:function(e){var t=this;Object.entries(e).forEach((function(e){void 0!==e&&t.create(e[1])}))}},{key:"create",value:function(e){var t=this.createGeometry(e.geometry),r=this.createMaterial(e.material);r.userData.originalColor=new n.Color(6710886),r.userData.labelVisibility=o.default.isShowingLables&&o.default.labelsVisibility.obstacles,r.userData.originalEmmisive=r.emissive.getHex(),r.selected=!1,r.transparent=!0;var i=e.id||1e3+Math.floor(900*Math.random()),s=null==e.reality?"V":e.reality,u=new n.Mesh(t,r),c="Obs_"+i.toString().substring(0,8)+"...";if(u.name=l+i,u.reality=s,"V"===u.reality?r.opacity=o.default.selectedRealities.virtual?1:o.default.hiddenOpacity:"R"===u.reality&&(r.opacity=o.default.selectedRealities.real?1:o.default.hiddenOpacity),this.deleteIfExists(i),this.scene.add(u),void 0!==e.position){var d=e.position,f=d.x,p=d.y,m=this.calculateZ(e);u.scale.set(scene_scale,scene_scale,scene_scale),u.position.set(scene_scale*f,scene_scale*p,scene_scale*m)}if(void 0!==e.rotation){var h=e.rotation,y=h.x,g=h.y,v=h.z,b=(90+y)/360*2*Math.PI,w=g/360*2*Math.PI,S=v/360*2*Math.PI;u.rotation.set(b,w,S)}o.default.shadow.enabled&&(u.receiveShadow=!0),(0,a.addLabel)(l,{id:e.id,name:c},u,o.default.labelsVisibility.obstacles),console.log("Created>",u.name)}},{key:"createGeometry",value:function(e){if(null==e.type)throw new TypeError("type unspecified");if("BoxGeometry"==e.type)return this.createBoxGeometry(e.width,e.height,e.depth);if("CylinderGeometry"==e.type)return this.createCylinderGeometry(e.radiusTop,e.radiusBottom,e.height);if("SphereGeometry"==e.type)return this.createSphereGeometry(e.radius);throw new TypeError("unsupported geometry type")}},{key:"createBoxGeometry",value:function(e,t,r){if(null==e)throw new TypeError("width unspecified");if(null==t)throw new TypeError("height unspecified");if(null==r)throw new TypeError("depth unspecified");return new n.BoxGeometry(e,t,r)}},{key:"createCylinderGeometry",value:function(e,t,r){if(null==e)throw new TypeError("radiusTop unspecified");if(null==t)throw new TypeError("radiusBottom unspecified");if(null==r)throw new TypeError("height unspecified");var o=o||2,a=a||16;return new n.CylinderGeometry(e,t,r,a,o)}},{key:"createSphereGeometry",value:function(e){if(null==e)throw new TypeError("radius unspecified");var t=t||16,r=r||16;return new n.SphereGeometry(e,t,r)}},{key:"createMaterial",value:function(e){return"MeshBasicMaterial"==e.type?new n.MeshBasicMaterial(e.properties):"MeshNormalMaterial"==e.type?new n.MeshNormalMaterial(e.properties):"MeshPhongMaterial"==e.type?new n.MeshPhongMaterial(e.properties):"MeshPhysicalMaterial"==e.type?new n.MeshPhysicalMaterial(e.properties):(e.type,new n.MeshStandardMaterial(e.properties))}},{key:"calculateZ",value:function(e){return null==e.position.z?void 0!==e.geometry.height?e.geometry.height/2:void 0!==e.geometry.radius?e.geometry.radius:0:e.position.z}},{key:"deleteIfExists",value:function(e){var t=l+e,r=this.scene.getObjectByName(t);void 0!==r&&(this.scene.remove(r),console.log("Deleted>",t))}},{key:"deleteAll",value:function(){var e=this,t=this.scene.children;Object.entries(t).forEach((function(t){var r=t[1].name;r.startsWith(l)&&(console.log("Deleted>",r),(0,a.removeLabel)(t[1]),e.scene.remove(t[1]))}))}}])&&s(t.prototype,r),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/components/renderer.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}var s=function(){function e(t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.container=r,this.threeRenderer=new n.WebGLRenderer({antialias:!0}),this.threeRenderer.setClearColor(t.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),r.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=n.PCFSoftShadowMap,o.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return a.updateSize()}),!1),window.addEventListener("resize",(function(){return a.updateSize()}),!1)}var t,r,a;return t=e,(r=[{key:"updateSize",value:function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}},{key:"render",value:function(e,t){this.threeRenderer.render(e,t)}}])&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/components/robot.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r("./node_modules/three/build/three.module.js"),o=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),a=r("./src/js/data/config.js"),i=r("./src/js/app/components/label.js");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(a)?a:String(a)),n)}var o,a}var u=r("./node_modules/three-stl-loader/index.js")(n),c="Robot_",d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,console.log("Robot Reality:",a.default.mixedReality.robots);var n=this;this.created=!0,setInterval((function(){!0===r.created&&(n.prune(),r.created=!1)}),2500)}var t,r,s;return t=e,r=[{key:"changeColor",value:function(e,t,r,n,o,a){var i=this.scene.getObjectByName(c+e);return null!=i?(i.material.color.setRGB(t/256,r/256,n/265),null!=a&&a("success")):null!=a&&a("undefined"),i}},{key:"create",value:function(e,t,r,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"V",l=arguments.length>5?arguments[5]:void 0,d=this.scene.getObjectByName(c+e),f=a.default.mixedReality.robots;return null==d?s===f||"M"===f?(t=scene_scale*Math.min(Math.max(t,a.default.arena.minX),a.default.arena.maxX),r=scene_scale*Math.min(Math.max(r,a.default.arena.minY),a.default.arena.maxY),(new u).load("./assets/models/model.stl",(function(u,d){var f=new n.MeshStandardMaterial({color:6710886,opacity:1,transparent:!0});f.userData.originalColor=new n.Color(6710886),f.userData.labelVisibility=a.default.isShowingLables&&a.default.labelsVisibility.robots,f.selected=!1;var p=new n.Mesh(u,f);p.receiveShadow=!0,p.robotId=e,p.name=c+e,p.scale.set(scene_scale,scene_scale,scene_scale),p.position.set(t,r,0),p.rotation.x=90*n.Math.DEG2RAD,p.rotation.y=(o-90)*n.Math.DEG2RAD,p.reality=s,"V"===s?f.opacity=a.default.selectedRealities.virtual?1:a.default.hiddenOpacity:"R"===s&&(f.opacity=a.default.selectedRealities.real?1:a.default.hiddenOpacity),window.scene.add(p),p.clickEvent=function(e){window.robot.alert(e)},(0,i.addLabel)(c,{id:e,name:p.name},p,a.default.labelsVisibility.robots),console.log("Created> Robot: id:".concat(e," | x:").concat(t," y: ").concat(r," heading: ").concat(o," | reality: ").concat(s)),null!=l&&l("success")}))):console.error("Creation Failed> Robot: id:".concat(e,"  reality: ").concat(s,"!=").concat(f)):s===f||"M"===f?(this.setReality(e,s),this.move(e,t,r,o,(function(){null!=l&&l("already defined, so moved")}))):this.delete(e),this.created=!0,d}},{key:"delete",value:function(e,t){if(null!=e){var r=this.scene.getObjectByName(c+e);null!=r?((0,i.removeLabel)(r),scene.remove(r),console.log("Deleted> id:",e),null!=t&&t("success")):null!=t&&t("not found")}else null!=t&&t("id not specified")}},{key:"deleteAll",value:function(){var e=this,t=this.scene.children;Object.entries(t).forEach((function(t){var r=t[1].name;r.startsWith(c)&&(console.log("Deleted>",r),(0,i.removeLabel)(t[1]),e.scene.remove(t[1]))}))}},{key:"setReality",value:function(e,t){var r=this.scene.getObjectByName(c+e);null!=r&&(r.reality=t)}},{key:"exists",value:function(e){return this.scene.getObjectByName(c+e)}},{key:"move",value:function(e,t,r,i,s){var l=this.scene.getObjectByName(c+e);if(null!=l){var u=l.rotation.y,d=(i-90)*n.Math.DEG2RAD,f={x:l.position.x,y:l.position.y,heading:l.rotation.y},p=u*d>=0;return t=scene_scale*Math.min(Math.max(Math.round(10*t)/10,a.default.arena.minX),a.default.arena.maxX),r=scene_scale*Math.min(Math.max(Math.round(10*r)/10,a.default.arena.minY),a.default.arena.maxY),i=Math.round(10*i)/10,0!=Math.sqrt(Math.pow(t-f.x,2)+Math.pow(r-f.y,2))?new o.default.Tween(f).to({x:t,y:r,heading:d},1e3).onUpdate((function(){l.position.x=f.x,l.position.y=f.y,p&&(l.rotation.y=f.heading)})).onComplete((function(){l.rotation.y=f.heading,null!=s&&s("success")})).delay(50).start():l.rotation.y=d,l}null!=s&&s("undefined")}},{key:"get_coordinates",value:function(e){var t=this.scene.getObjectByName(c+e);return null!=t?(console.log("".concat(t.position.x,",").concat(t.position.y,",").concat(t.position.z)),t):null}},{key:"update",value:function(){o.default.update()}},{key:"requestSnapshot",value:function(e){return new Promise((function(t,r){t(!window.mqtt.publish(window.channel+"/mgt/robots/snapshot",JSON.stringify({id:e.robotId})))}))}},{key:"alert",value:function(e){var t,r=document.querySelector("#msg-box"),n=document.getElementById("msg-content"),o=document.createElement("div");o.setAttribute("id","msg-content"),a.default.isShowingRobotSnapshots?(t=document.createTextNode("".concat(e.name," Snapshot Loading...")),this.requestSnapshot(e)):t=document.createTextNode("".concat(e.name)),o.appendChild(t),r.replaceChild(o,n),r.style.display="block",setTimeout((function(){r.style.opacity="1.0",r.style.display="none"}),1e4)}},{key:"prune",value:function(){var e=this,t=this.scene.children,r=[];Object.entries(t).forEach((function(t){var n=t[1].name;n.startsWith(c)&&(void 0===r[n]?r[n]="valid":((0,i.removeLabel)(t[1]),e.scene.remove(t[1]),console.log(n,": duplicate")))}))}}],r&&l(t.prototype,r),s&&l(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/helpers/meshHelper.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/app/helpers/vertexNormalsHelper.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mesh=r,this.scene=t;var a=new n.WireframeGeometry(this.mesh.geometry);this.wireLine=new n.LineSegments(a),this.wireLine.material.depthTest=!1,this.wireLine.material.opacity=.25,this.wireLine.material.transparent=!0;var i=new n.EdgesGeometry(this.mesh.geometry);this.edgesLine=new n.LineSegments(i),this.edgesLine.material.depthTest=!1,this.edgesLine.material.opacity=.25,this.edgesLine.material.transparent=!0,this.vertexHelper=new o.VertexNormalsHelper(this.mesh,2),this.boxHelper=new n.BoxHelper(this.mesh)}var t,r,a;return t=e,(r=[{key:"enable",value:function(){this.mesh.add(this.wireLine),this.mesh.add(this.edgesLine),this.scene.add(this.vertexHelper),this.scene.add(this.boxHelper)}},{key:"disable",value:function(){this.mesh.remove(this.wireLine),this.mesh.remove(this.edgesLine),this.scene.remove(this.vertexHelper),this.scene.remove(this.boxHelper)}}])&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/helpers/urlHelper.js":(e,t,r)=>{function n(e,t){var r,n=t;return window.location.href.indexOf(e)>-1&&(n=(r={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,t,n){r[t]=n})),r)[e]),n}function o(){var e,t=localStorage.getItem("pera-swarm-credentials"),r=n("key",!1),o=n("username",!1),a=n("password",!1),i=n("channel",!1),s=n("port",!1),l=n("server",!1);if(e=window.location.origin+window.location.pathname,window.history.pushState({},document.title,e),setTimeout((function(){!1!==l&&localStorage.setItem("pera-swarm-server",l),!1!==i&&localStorage.setItem("pera-swarm-channel",i),!1!==s&&localStorage.setItem("pera-swarm-port",s),!1!==r&&localStorage.setItem("pera-swarm-key",r)}),2e3),!1!==r){console.log("Credentails: Loaded from JWT");return{username:"",password:"",channel:""}}return!1!==o&&!1!==a?(console.log("Credentails: Loaded from URL parameters"),localStorage.setItem("pera-swarm-credentials",JSON.stringify({username:o,password:a,channel:i})),{username:o,password:a,channel:i}):!1===o&&!1===a&&null!==t?(console.log("Credentails: Loaded from local storage"),JSON.parse(t)):-1}r.r(t),r.d(t,{getCredentials:()=>o})},"./src/js/app/helpers/vertexNormalsHelper.js":(e,t,r)=>{r.r(t),r.d(t,{VertexNormalsHelper:()=>l});var n=r("./node_modules/three/build/three.module.js"),o=new n.Vector3,a=new n.Vector3,i=new n.Matrix3,s=["a","b","c"];function l(e,t,r){this.object=e,this.size=void 0!==t?t:.1;var o=void 0!==r?r:16711680,a=0,i=this.object.geometry;i&&i.isGeometry?a=3*i.faces.length:i&&i.isBufferGeometry&&(a=i.attributes.normal.count);var s=new n.BufferGeometry,l=new n.Float32BufferAttribute(2*a*3,3);s.setAttribute("position",l),n.LineSegments.call(this,s,new n.LineBasicMaterial({color:o,toneMapped:!1})),this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}l.prototype=Object.create(n.LineSegments.prototype),l.prototype.constructor=l,l.prototype.update=function(){var e;this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,r=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry){var l=n.vertices,u=n.faces;e=0;for(var c=0,d=u.length;c<d;c++)for(var f=u[c],p=0,m=f.vertexNormals.length;p<m;p++){var h=l[f[s[p]]],y=f.vertexNormals[p];o.copy(h).applyMatrix4(t),a.copy(y).applyMatrix3(i).normalize().multiplyScalar(this.size).add(o),r.setXYZ(e,o.x,o.y,o.z),e+=1,r.setXYZ(e,a.x,a.y,a.z),e+=1}}else if(n&&n.isBufferGeometry){var g=n.attributes.position,v=n.attributes.normal;e=0;for(var b=0,w=g.count;b<w;b++)o.set(g.getX(b),g.getY(b),g.getZ(b)).applyMatrix4(t),a.set(v.getX(b),v.getY(b),v.getZ(b)),a.applyMatrix3(i).normalize().multiplyScalar(this.size).add(o),r.setXYZ(e,o.x,o.y,o.z),e+=1,r.setXYZ(e,a.x,a.y,a.z),e+=1}r.needsUpdate=!0}},"./src/js/app/loaders/GLTFLoader.js":(e,t,r)=>{r.r(t),r.d(t,{GLTFLoader:()=>a});var n=r("./node_modules/three/build/three.module.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=function(){function e(e){n.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(n.Loader.prototype),{constructor:e,load:function(e,t,r,o){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:n.LoaderUtils.extractUrlBase(e),i.manager.itemStart(e);var s=function(t){o?o(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},l=new n.FileLoader(i.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===i.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(r){try{i.parse(r,a,(function(r){t(r),i.manager.itemEnd(e)}),s)}catch(e){s(e)}}),r,s)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,o,c){var d,h={};if("string"==typeof e)d=e;else if(n.LoaderUtils.decodeText(new Uint8Array(e,0,4))===u){try{h[r.KHR_BINARY_GLTF]=new f(e)}catch(e){return void(c&&c(e))}d=h[r.KHR_BINARY_GLTF].content}else d=n.LoaderUtils.decodeText(new Uint8Array(e));var v=JSON.parse(d);if(void 0===v.asset||v.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(v.extensionsUsed)for(var b=0;b<v.extensionsUsed.length;++b){var w=v.extensionsUsed[b],S=v.extensionsRequired||[];switch(w){case r.KHR_LIGHTS_PUNCTUAL:h[w]=new i(v);break;case r.KHR_MATERIALS_CLEARCOAT:h[w]=new l;break;case r.KHR_MATERIALS_UNLIT:h[w]=new s;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:h[w]=new y;break;case r.KHR_DRACO_MESH_COMPRESSION:h[w]=new p(v,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:h[w]=new a(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:h[w]=new m;break;case r.KHR_MESH_QUANTIZATION:h[w]=new g;break;default:S.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new F(v,h,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(o,c)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function a(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=r.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function s(){this.name=r.KHR_MATERIALS_UNLIT}function l(){this.name=r.KHR_MATERIALS_CLEARCOAT}i.prototype.loadLight=function(e){var t,r=this.lightDefs[e],o=new n.Color(16777215);void 0!==r.color&&o.fromArray(r.color);var a=void 0!==r.range?r.range:0;switch(r.type){case"directional":(t=new n.DirectionalLight(o)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new n.PointLight(o)).distance=a;break;case"spot":(t=new n.SpotLight(o)).distance=a,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,t.angle=r.spot.outerConeAngle,t.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+r.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==r.intensity&&(t.intensity=r.intensity),t.name=r.name||"light_"+e,Promise.resolve(t)},s.prototype.getMaterialType=function(){return n.MeshBasicMaterial},s.prototype.extendParams=function(e,t,r){var o=[];e.color=new n.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&o.push(r.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(o)},l.prototype.getMaterialType=function(){return n.MeshPhysicalMaterial},l.prototype.extendParams=function(e,t,r){var o=[],a=t.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(r.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(r.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(r.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var i=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new n.Vector2(i,i)}return Promise.all(o)};var u="glTF",c=12,d={JSON:1313821514,BIN:5130562};function f(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,c);if(this.header={magic:n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var o=new DataView(e,c),a=0;a<o.byteLength;){var i=o.getUint32(a,!0);a+=4;var s=o.getUint32(a,!0);if(a+=4,s===d.JSON){var l=new Uint8Array(e,c+a,i);this.content=n.LoaderUtils.decodeText(l)}else if(s===d.BIN){var f=c+a;this.body=e.slice(f,f+i)}a+=i}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function p(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function m(){this.name=r.KHR_TEXTURE_TRANSFORM}function h(e){n.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),i=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),s={specular:{value:(new n.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(e){for(var n in s)e.uniforms[n]=s[n];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",o),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",i)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(e){s.specular.value=e}},specularMap:{get:function(){return s.specularMap.value},set:function(e){s.specularMap.value=e}},glossiness:{get:function(){return s.glossiness.value},set:function(e){s.glossiness.value=e}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(e){s.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function y(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return h},extendParams:function(e,t,r){var o=t.extensions[this.name];e.color=new n.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(o.diffuseFactor)){var i=o.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==o.diffuseTexture&&a.push(r.assignTexture(e,"map",o.diffuseTexture)),e.emissive=new n.Color(0,0,0),e.glossiness=void 0!==o.glossinessFactor?o.glossinessFactor:1,e.specular=new n.Color(1,1,1),Array.isArray(o.specularFactor)&&e.specular.fromArray(o.specularFactor),void 0!==o.specularGlossinessTexture){var s=o.specularGlossinessTexture;a.push(r.assignTexture(e,"glossinessMap",s)),a.push(r.assignTexture(e,"specularMap",s))}return Promise.all(a)},createMaterial:function(e){var t=new h(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=n.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function g(){this.name=r.KHR_MESH_QUANTIZATION}function v(e,t,r,o){n.Interpolant.call(this,e,t,r,o)}p.prototype.decodePrimitive=function(e,t){var r=this.json,n=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,i={},s={},l={};for(var u in a){var c=C[u]||u.toLowerCase();i[c]=a[u]}for(u in e.attributes){c=C[u]||u.toLowerCase();if(void 0!==a[u]){var d=r.accessors[e.attributes[u]],f=L[d.componentType];l[c]=f,s[c]=!0===d.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],o=s[r];void 0!==o&&(n.normalized=o)}t(e)}),i,l)}))}))},m.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},h.prototype=Object.create(n.MeshStandardMaterial.prototype),h.prototype.constructor=h,h.prototype.copy=function(e){return n.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},v.prototype=Object.create(n.Interpolant.prototype),v.prototype.constructor=v,v.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,o=e*n*3+n,a=0;a!==n;a++)t[a]=r[o+a];return t},v.prototype.beforeStart_=v.prototype.copySampleValue_,v.prototype.afterEnd_=v.prototype.copySampleValue_,v.prototype.interpolate_=function(e,t,r,n){for(var o=this.resultBuffer,a=this.sampleValues,i=this.valueSize,s=2*i,l=3*i,u=n-t,c=(r-t)/u,d=c*c,f=d*c,p=e*l,m=p-l,h=-2*f+3*d,y=f-d,g=1-h,v=y-d+c,b=0;b!==i;b++){var w=a[m+b+i],S=a[m+b+s]*u,T=a[p+b+i],M=a[p+b]*u;o[b]=g*w+v*S+h*T+y*M}return o};var b=0,w=1,S=2,T=3,M=4,x=5,j=6,L={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},R={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},O={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},P="OPAQUE",k="MASK",I="BLEND",N={"image/png":n.RGBAFormat,"image/jpeg":n.RGBFormat};function G(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function D(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function U(e,t){void 0!==t.extras&&("object"===o(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function H(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var o=t.extras.targetNames;if(e.morphTargetInfluences.length===o.length){e.morphTargetDictionary={};for(r=0,n=o.length;r<n;r++)e.morphTargetDictionary[o[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function B(e){for(var t="",r=Object.keys(e).sort(),n=0,o=r.length;n<o;n++)t+=r[n]+":"+e[r[n]]+";";return t}function F(e,r,o){this.json=e||{},this.extensions=r||{},this.options=o||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new n.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function z(e,t,r){var o=t.attributes,a=[];function i(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var s in o){var l=C[s]||s.toLowerCase();l in e.attributes||a.push(i(o[s],l))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(u)}return U(e,t),function(e,t,r){var o=t.attributes,a=new n.Box3;if(void 0!==o.POSITION){var i=(p=r.json.accessors[o.POSITION]).min,s=p.max;if(void 0!==i&&void 0!==s){a.set(new n.Vector3(i[0],i[1],i[2]),new n.Vector3(s[0],s[1],s[2]));var l=t.targets;if(void 0!==l){for(var u=new n.Vector3,c=new n.Vector3,d=0,f=l.length;d<f;d++){var p,m=l[d];if(void 0!==m.POSITION)i=(p=r.json.accessors[m.POSITION]).min,s=p.max,void 0!==i&&void 0!==s?(c.setX(Math.max(Math.abs(i[0]),Math.abs(s[0]))),c.setY(Math.max(Math.abs(i[1]),Math.abs(s[1]))),c.setZ(Math.max(Math.abs(i[2]),Math.abs(s[2]))),u.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}a.expandByVector(u)}e.boundingBox=a;var h=new n.Sphere;a.getCenter(h.center),h.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=h}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,o=!1,a=0,i=t.length;a<i&&(void 0!==(u=t[a]).POSITION&&(n=!0),void 0!==u.NORMAL&&(o=!0),!n||!o);a++);if(!n&&!o)return Promise.resolve(e);var s=[],l=[];for(a=0,i=t.length;a<i;a++){var u=t[a];if(n){var c=void 0!==u.POSITION?r.getDependency("accessor",u.POSITION):e.attributes.position;s.push(c)}o&&(c=void 0!==u.NORMAL?r.getDependency("accessor",u.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(t){var r=t[0],a=t[1];return n&&(e.morphAttributes.position=r),o&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function V(e,t){var r=e.getIndex();if(null===r){var o=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)o.push(i);e.setIndex(o),r=e.getIndex()}var s=r.count-2,l=[];if(t===n.TriangleFanDrawMode)for(i=1;i<=s;i++)l.push(r.getX(0)),l.push(r.getX(i)),l.push(r.getX(i+1));else for(i=0;i<s;i++)i%2==0?(l.push(r.getX(i)),l.push(r.getX(i+1)),l.push(r.getX(i+2))):(l.push(r.getX(i+2)),l.push(r.getX(i+1)),l.push(r.getX(i)));l.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u}return F.prototype.parse=function(e,t){var r=this,n=this.json,o=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var a={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};D(o,a,n),U(a,n),e(a)})).catch(t)},F.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n={},o={},a=0,i=t.length;a<i;a++)for(var s=t[a].joints,l=0,u=s.length;l<u;l++)e[s[l]].isBone=!0;for(var c=0,d=e.length;c<d;c++){var f=e[c];void 0!==f.mesh&&(void 0===n[f.mesh]&&(n[f.mesh]=o[f.mesh]=0),n[f.mesh]++,void 0!==f.skin&&(r[f.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=o},F.prototype.getDependency=function(e,t){var n=e+":"+t,o=this.cache.get(n);if(!o){switch(e){case"scene":o=this.loadScene(t);break;case"node":o=this.loadNode(t);break;case"mesh":o=this.loadMesh(t);break;case"accessor":o=this.loadAccessor(t);break;case"bufferView":o=this.loadBufferView(t);break;case"buffer":o=this.loadBuffer(t);break;case"material":o=this.loadMaterial(t);break;case"texture":o=this.loadTexture(t);break;case"skin":o=this.loadSkin(t);break;case"animation":o=this.loadAnimation(t);break;case"camera":o=this.loadCamera(t);break;case"light":o=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,o)}return o},F.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t},F.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(e,r){n.load(G(t.uri,o.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},F.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))},F.prototype.loadAccessor=function(e){var t=this,r=this.json,o=this.json.accessors[e];if(void 0===o.bufferView&&void 0===o.sparse)return Promise.resolve(null);var a=[];return void 0!==o.bufferView?a.push(this.getDependency("bufferView",o.bufferView)):a.push(null),void 0!==o.sparse&&(a.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,s=e[0],l=A[o.type],u=L[o.componentType],c=u.BYTES_PER_ELEMENT,d=c*l,f=o.byteOffset||0,p=void 0!==o.bufferView?r.bufferViews[o.bufferView].byteStride:void 0,m=!0===o.normalized;if(p&&p!==d){var h=Math.floor(f/p),y="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+h+":"+o.count,g=t.cache.get(y);g||(a=new u(s,h*p,o.count*p/c),g=new n.InterleavedBuffer(a,p/c),t.cache.add(y,g)),i=new n.InterleavedBufferAttribute(g,l,f%p/c,m)}else a=null===s?new u(o.count*l):new u(s,f,o.count*l),i=new n.BufferAttribute(a,l,m);if(void 0!==o.sparse){var v=A.SCALAR,b=L[o.sparse.indices.componentType],w=o.sparse.indices.byteOffset||0,S=o.sparse.values.byteOffset||0,T=new b(e[1],w,o.sparse.count*v),M=new u(e[2],S,o.sparse.count*l);null!==s&&(i=new n.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var x=0,j=T.length;x<j;x++){var E=T[x];if(i.setX(E,M[x*l]),l>=2&&i.setY(E,M[x*l+1]),l>=3&&i.setZ(E,M[x*l+2]),l>=4&&i.setW(E,M[x*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))},F.prototype.loadTexture=function(e){var t,o=this,a=this.json,i=this.options,s=this.textureLoader,l=self.URL||self.webkitURL,u=a.textures[e],c=u.extensions||{},d=(t=c[r.MSFT_TEXTURE_DDS]?a.images[c[r.MSFT_TEXTURE_DDS].source]:a.images[u.source]).uri,f=!1;return void 0!==t.bufferView&&(d=o.getDependency("bufferView",t.bufferView).then((function(e){f=!0;var r=new Blob([e],{type:t.mimeType});return d=l.createObjectURL(r)}))),Promise.resolve(d).then((function(e){var t=i.manager.getHandler(e);return t||(t=c[r.MSFT_TEXTURE_DDS]?o.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise((function(r,n){t.load(G(e,i.path),r,void 0,n)}))})).then((function(e){!0===f&&l.revokeObjectURL(d),e.flipY=!1,u.name&&(e.name=u.name),t.mimeType in N&&(e.format=N[t.mimeType]);var r=(a.samplers||{})[u.sampler]||{};return e.magFilter=E[r.magFilter]||n.LinearFilter,e.minFilter=E[r.minFilter]||n.LinearMipmapLinearFilter,e.wrapS=R[r.wrapS]||n.RepeatWrapping,e.wrapT=R[r.wrapT]||n.RepeatWrapping,e}))},F.prototype.assignTexture=function(e,t,o){var a=this;return this.getDependency("texture",o.index).then((function(i){if(!i.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":i.format=n.RGBFormat}if(void 0===o.texCoord||0==o.texCoord||"aoMap"===t&&1==o.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+o.texCoord+" for texture "+t+" not yet supported."),a.extensions[r.KHR_TEXTURE_TRANSFORM]){var s=void 0!==o.extensions?o.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;s&&(i=a.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(i,s))}e[t]=i}))},F.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,o=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,u=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var c="PointsMaterial:"+r.uuid,d=this.cache.get(c);d||(d=new n.PointsMaterial,n.Material.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,d.sizeAttenuation=!1,this.cache.add(c,d)),r=d}else if(e.isLine){c="LineBasicMaterial:"+r.uuid;var f=this.cache.get(c);f||(f=new n.LineBasicMaterial,n.Material.prototype.copy.call(f,r),f.color.copy(r.color),this.cache.add(c,f)),r=f}if(o||a||i||s||l){c="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),s&&(c+="skinning:"),o&&(c+="vertex-tangents:"),a&&(c+="vertex-colors:"),i&&(c+="flat-shading:"),l&&(c+="morph-targets:"),u&&(c+="morph-normals:");var p=this.cache.get(c);p||(p=r.clone(),s&&(p.skinning=!0),o&&(p.vertexTangents=!0),a&&(p.vertexColors=!0),i&&(p.flatShading=!0),l&&(p.morphTargets=!0),u&&(p.morphNormals=!0),this.cache.add(c,p)),r=p}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),r.normalScale&&!o&&(r.normalScale.y=-r.normalScale.y),r.clearcoatNormalScale&&!o&&(r.clearcoatNormalScale.y=-r.clearcoatNormalScale.y),e.material=r},F.prototype.loadMaterial=function(e){var t,o=this,a=this.json,i=this.extensions,s=a.materials[e],l={},u=s.extensions||{},c=[];if(u[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),c.push(d.extendParams(l,s,o))}else if(u[r.KHR_MATERIALS_UNLIT]){var f=i[r.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),c.push(f.extendParams(l,s,o))}else{t=n.MeshStandardMaterial;var p=s.pbrMetallicRoughness||{};if(l.color=new n.Color(1,1,1),l.opacity=1,Array.isArray(p.baseColorFactor)){var m=p.baseColorFactor;l.color.fromArray(m),l.opacity=m[3]}void 0!==p.baseColorTexture&&c.push(o.assignTexture(l,"map",p.baseColorTexture)),l.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,l.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(c.push(o.assignTexture(l,"metalnessMap",p.metallicRoughnessTexture)),c.push(o.assignTexture(l,"roughnessMap",p.metallicRoughnessTexture)))}!0===s.doubleSided&&(l.side=n.DoubleSide);var y=s.alphaMode||P;if(y===I?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,y===k&&(l.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&t!==n.MeshBasicMaterial&&(c.push(o.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new n.Vector2(1,1),void 0!==s.normalTexture.scale&&l.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&t!==n.MeshBasicMaterial&&(c.push(o.assignTexture(l,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(l.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&t!==n.MeshBasicMaterial&&(l.emissive=(new n.Color).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&t!==n.MeshBasicMaterial&&c.push(o.assignTexture(l,"emissiveMap",s.emissiveTexture)),u[r.KHR_MATERIALS_CLEARCOAT]){var g=i[r.KHR_MATERIALS_CLEARCOAT];t=g.getMaterialType(),c.push(g.extendParams(l,{extensions:u},o))}return Promise.all(c).then((function(){var e;return e=t===h?i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),s.name&&(e.name=s.name),e.map&&(e.map.encoding=n.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=n.sRGBEncoding),U(e,s),s.extensions&&D(i,e,s),e}))},F.prototype.loadGeometries=function(e){var t=this,o=this.extensions,a=this.primitiveCache;function i(e){return o[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return z(r,e,t)}))}for(var s,l,u=[],c=0,d=e.length;c<d;c++){var f,p=e[c],m=(l=void 0,(l=(s=p).extensions&&s.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+B(l.attributes):s.indices+":"+B(s.attributes)+":"+s.mode),h=a[m];if(h)u.push(h.promise);else f=p.extensions&&p.extensions[r.KHR_DRACO_MESH_COMPRESSION]?i(p):z(new n.BufferGeometry,p,t),a[m]={primitive:p,promise:f},u.push(f)}return Promise.all(u)},F.prototype.loadMesh=function(e){for(var t,r=this,o=this.json.meshes[e],a=o.primitives,i=[],s=0,l=a.length;s<l;s++){var u=void 0===a[s].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),t.DefaultMaterial):this.getDependency("material",a[s].material);i.push(u)}return i.push(r.loadGeometries(a)),Promise.all(i).then((function(t){for(var i=t.slice(0,t.length-1),s=t[t.length-1],l=[],u=0,c=s.length;u<c;u++){var d,f=s[u],p=a[u],m=i[u];if(p.mode===M||p.mode===x||p.mode===j||void 0===p.mode)!0!==(d=!0===o.isSkinnedMesh?new n.SkinnedMesh(f,m):new n.Mesh(f,m)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),p.mode===x?d.geometry=V(d.geometry,n.TriangleStripDrawMode):p.mode===j&&(d.geometry=V(d.geometry,n.TriangleFanDrawMode));else if(p.mode===w)d=new n.LineSegments(f,m);else if(p.mode===T)d=new n.Line(f,m);else if(p.mode===S)d=new n.LineLoop(f,m);else{if(p.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);d=new n.Points(f,m)}Object.keys(d.geometry.morphAttributes).length>0&&H(d,o),d.name=o.name||"mesh_"+e,s.length>1&&(d.name+="_"+u),U(d,o),r.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var h=new n.Group;for(u=0,c=l.length;u<c;u++)h.add(l[u]);return h}))},F.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],o=r[r.type];if(o)return"perspective"===r.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===r.type&&(t=new n.OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(t.name=r.name),U(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},F.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))},F.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],o=[],a=[],i=[],s=[],l=0,u=t.channels.length;l<u;l++){var c=t.channels[l],d=t.samplers[c.sampler],f=c.target,p=void 0!==f.node?f.node:f.id,m=void 0!==t.parameters?t.parameters[d.input]:d.input,h=void 0!==t.parameters?t.parameters[d.output]:d.output;r.push(this.getDependency("node",p)),o.push(this.getDependency("accessor",m)),a.push(this.getDependency("accessor",h)),i.push(d),s.push(f)}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(i),Promise.all(s)]).then((function(r){for(var o=r[0],a=r[1],i=r[2],s=r[3],l=r[4],u=[],c=0,d=o.length;c<d;c++){var f=o[c],p=a[c],m=i[c],h=s[c],y=l[c];if(void 0!==f){var g;switch(f.updateMatrix(),f.matrixAutoUpdate=!0,O[y.path]){case O.weights:g=n.NumberKeyframeTrack;break;case O.rotation:g=n.QuaternionKeyframeTrack;break;default:g=n.VectorKeyframeTrack}var b=f.name?f.name:f.uuid,w=void 0!==h.interpolation?_[h.interpolation]:n.InterpolateLinear,S=[];O[y.path]===O.weights?f.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&S.push(e.name?e.name:e.uuid)})):S.push(b);var T=m.array;if(m.normalized){var M;if(T.constructor===Int8Array)M=1/127;else if(T.constructor===Uint8Array)M=1/255;else if(T.constructor==Int16Array)M=1/32767;else{if(T.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");M=1/65535}for(var x=new Float32Array(T.length),j=0,L=T.length;j<L;j++)x[j]=T[j]*M;T=x}for(j=0,L=S.length;j<L;j++){var E=new g(S[j]+"."+O[y.path],p.array,T,w);"CUBICSPLINE"===h.interpolation&&(E.createInterpolant=function(e){return new v(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(E)}}}var R=t.name?t.name:"animation_"+e;return new n.AnimationClip(R,void 0,u)}))},F.prototype.loadNode=function(e){var t,o=this.json,a=this.extensions,i=this,s=o.meshReferences,l=o.meshUses,u=o.nodes[e];return(t=[],void 0!==u.mesh&&t.push(i.getDependency("mesh",u.mesh).then((function(e){var t;if(s[u.mesh]>1){var r=l[u.mesh]++;(t=e.clone()).name+="_instance_"+r}else t=e;return void 0!==u.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=u.weights.length;t<r;t++)e.morphTargetInfluences[t]=u.weights[t]})),t}))),void 0!==u.camera&&t.push(i.getDependency("camera",u.camera)),u.extensions&&u.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==u.extensions[r.KHR_LIGHTS_PUNCTUAL].light&&t.push(i.getDependency("light",u.extensions[r.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===u.isBone?new n.Bone:e.length>1?new n.Group:1===e.length?e[0]:new n.Object3D)!==e[0])for(var r=0,o=e.length;r<o;r++)t.add(e[r]);if(u.name&&(t.userData.name=u.name,t.name=n.PropertyBinding.sanitizeNodeName(u.name)),U(t,u),u.extensions&&D(a,t,u),void 0!==u.matrix){var i=new n.Matrix4;i.fromArray(u.matrix),t.applyMatrix4(i)}else void 0!==u.translation&&t.position.fromArray(u.translation),void 0!==u.rotation&&t.quaternion.fromArray(u.rotation),void 0!==u.scale&&t.scale.fromArray(u.scale);return t}))},F.prototype.loadScene=function(){function e(t,r,o,a){var i=o.nodes[t];return a.getDependency("node",t).then((function(e){return void 0===i.skin?e:a.getDependency("skin",i.skin).then((function(e){for(var r=[],n=0,o=(t=e).joints.length;n<o;n++)r.push(a.getDependency("node",t.joints[n]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var o=[],a=[],i=0,s=r.length;i<s;i++){var l=r[i];if(l){o.push(l);var u=new n.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*i),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new n.Skeleton(o,a),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var n=[];if(i.children)for(var s=i.children,l=0,u=s.length;l<u;l++){var c=s[l];n.push(e(c,t,o,a))}return Promise.all(n)}))}return function(t){var r=this.json,o=this.extensions,a=this.json.scenes[t],i=new n.Group;a.name&&(i.name=a.name),U(i,a),a.extensions&&D(o,i,a);for(var s=a.nodes||[],l=[],u=0,c=s.length;u<c;u++)l.push(e(s[u],i,r,this));return Promise.all(l).then((function(){return i}))}}(),e}()},"./src/js/app/main.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var n=r("./node_modules/three/build/three.module.js"),o=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),a=r("./src/js/app/components/renderer.js"),i=r("./src/js/app/components/label.js"),s=r("./src/js/app/components/camera.js"),l=r("./src/js/app/components/light.js"),u=r("./src/js/app/components/controls.js"),c=(r("./src/js/app/components/geometry.js"),r("./src/js/app/components/environment.js")),d=r("./src/js/app/helpers/meshHelper.js"),f=r("./src/js/app/model/texture.js"),p=(r("./src/js/app/model/model.js"),r("./src/js/app/managers/interaction.js")),m=r("./src/js/app/managers/datGUI.js"),h=r("./src/js/app/managers/mqttClient.js"),y=r("./src/js/data/config.js");function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===g(a)?a:String(a)),n)}var o,a}r("./node_modules/three-stl-loader/index.js")(n);var b,w,S,T=new n.Raycaster,M=new n.Vector2,x=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.clock=new n.Clock,this.scene=new n.Scene,window.scene=this.scene,window.scene_scale=y.default.scale,window.selectedReality=y.default.selectedReality,this.scene.fog=new n.FogExp2(y.default.fog.color,y.default.fog.near),this.mqtt=new h.default(this.scene),window.devicePixelRatio&&(y.default.dpr=window.devicePixelRatio),this.renderer=new a.default(this.scene,t),b=new s.default(this.renderer.threeRenderer),this.controls=new u.default(b.threeCamera,t),this.light=new l.default(this.scene),this.camera=b;["ambient","directional","point","hemi"].forEach((function(e){return r.light.place(e)})),y.default.isDev&&y.default.isShowingStats&&(this.stats=new Stats,this.container.appendChild(this.stats.dom)),y.default.isShowingLables&&(this.labelRenderer=(0,i.default)(),this.container.appendChild(this.labelRenderer.domElement)),y.default.isDev&&(this.gui=new m.default(this)),this.texture=new f.default,this.texture.load().then((function(){r.manager=new n.LoadingManager,r.environment=new c.default,y.default.isDev&&(r.gui.load(r),r.gui.show()),r.manager.onProgress=function(e,t,r){console.log("".concat(e,": ").concat(t," ").concat(r))},r.manager.onLoad=function(){console.log("Loading complete!"),new p.default(r.renderer.threeRenderer,r.scene,b.threeCamera,r.controls.threeControls),y.default.isDev&&(r.meshHelper=new d.default(r.scene,r.model.obj),y.default.mesh.enableHelper&&r.meshHelper.enable()),y.default.isLoaded=!0,r.container.querySelector("#loading").style.display="none"}})),this.render(),this.container.querySelector("#loading").style.display="none",window.addEventListener("click",this.onDocumentMouseDown,!1)}var t,r,g;return t=e,(r=[{key:"onDocumentMouseDown",value:function(e){e.preventDefault(),M.x=e.clientX/window.innerWidth*2-1,M.y=-e.clientY/window.innerHeight*2+1,T.setFromCamera(M,b.threeCamera);var t=T.intersectObjects(scene.children);if(t.length>0){var r=t[0].object;w&&w.material.setValues({opacity:w.currentOpacity}),S=(w=r).children[0],w.currentOpacity=w.material.opacity,w.labelsVisibility=w.material.labelVisibility,void 0!==S&&void 0!==S.visible&&y.default.isShowingLables&&(S.visible=!S.visible),w.material.selected=!w.material.selected,w.name.startsWith("Obstacle")||w.name.startsWith("Robot")&&(w.material.selected?w.material.setValues({opacity:.5}):w.material.setValues({opacity:1}),void 0!==w.clickEvent&&w.clickEvent(w))}else w&&w.material.setValues({opacity:w.currentOpacity}),w=null}},{key:"onDocumentMouseMove",value:function(e){e.preventDefault(),M.x=e.clientX/window.innerWidth*2-1,M.y=-e.clientY/window.innerHeight*2+1,T.setFromCamera(M,b.threeCamera);var t=T.intersectObjects(scene.children,!0);if(t.length>0){var r=t[0].object;w!==r&&(w&&w.material.setValues({opacity:w.currentOpacity}),S=(w=r).children[0],w.currentOpacity=w.material.opacity,w.currentColor=w.material.opacity,w.material.setValues({color:253948,opacity:.75}))}else w&&w.material.setValues({opacity:1,color:w.material.userData.originalColor}),w=null}},{key:"render",value:function(){this.renderer.render(this.scene,b.threeCamera),y.default.isShowingLables?this.labelRenderer.domElement.hidden=!1:this.labelRenderer.domElement.hidden=!0,this.labelRenderer.render(this.scene,b.threeCamera),o.default.update(),this.controls.threeControls.update(),b.threeCamera.updateMatrixWorld(),y.default.isDev&&y.default.isShowingStats&&this.stats.update(),requestAnimationFrame(this.render.bind(this))}}])&&v(t.prototype,r),g&&v(t,g),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/managers/datGUI.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r("./src/js/data/config.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,i=void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===o(i)?i:String(i)),n)}var a,i}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gui=new dat.GUI,this.gui.useLocalStorage=!0,this.camera=t.camera.threeCamera,this.controls=t.controls.threeControls,this.light=t.light,this.scene=t.scene,this.model=null,this.meshHelper=null}var t,r,o;return t=e,(r=[{key:"load",value:function(e,t){var r=this;this.gui.add(n.default,"isShowingRobotSnapshots").name("Robot Snapshots").onChange((function(e){n.default.isShowingRobotSnapshots=e,(0,n.saveConfig)(n.default)}));var o=this.gui.addFolder("Labels");o.add(n.default.labelsVisibility,"obstacles").name("Obstacle Labels").onChange((function(e){r.toggleLabels(r.scene.children,"Obstacle",e)})),o.add(n.default.labelsVisibility,"robots").name("Robot Labels").onChange((function(e){r.toggleLabels(r.scene.children,"Robot",e)}));var a=this.gui.addFolder("Reality");a.add(n.default.selectedRealities,"real").name("Physical Reality").listen().onChange((function(e){r.toggleReality("real","R")})),a.add(n.default.selectedRealities,"virtual").name("Virtual Reality").listen().onChange((function(e){r.toggleReality("virtual","V")}));var i=this.gui.addFolder("Other");i.add(n.default.controls,"autoRotate").name("Auto Rotate").listen().onChange((function(e){n.default.controls.autoRotate=e,(0,n.saveConfig)(n.default),location.reload()})),i.add(n.default.controls,"autoRotateSpeed").min(-5).max(5).name("Auto Rotate Speed").listen().onChange((function(e){n.default.controls.autoRotateSpeed=e,(0,n.saveConfig)(n.default)})),this.gui.close()}},{key:"toggleLabels",value:function(e,t,r){if((0,n.saveConfig)(n.default),Array.isArray(e)&&void 0!==t&&""!==t){var o,i=a(e);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.name.startsWith(t)&&(s.children[0].visible=r)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"toggleReality",value:function(e,t){var r=scene.children;(0,n.saveConfig)(n.default),Object.entries(r).forEach((function(e){e[1].name;var t=e[1].reality;void 0!==t&&"R"===t?e[1].material.opacity=n.default.selectedRealities.real?1:n.default.hiddenOpacity:void 0!==t&&"V"===t&&(e[1].material.opacity=n.default.selectedRealities.virtual?1:n.default.hiddenOpacity)}))}},{key:"show",value:function(){this.gui.show()}},{key:"unload",value:function(){this.gui.destroy(),this.gui=new dat.GUI}}])&&s(t.prototype,r),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/managers/interaction.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r("./src/js/utils/keyboard.js"),o=r("./src/js/utils/helpers.js"),a=r("./src/js/data/config.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}var l=function(){function e(t,r,a,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.scene=r,this.camera=a,this.controls=i,this.timeout=null,this.keyboard=new n.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return o.default.throttle(s.onMouseMove(e),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return s.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return s.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||s.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed")}))}var t,r,i;return t=e,(r=[{key:"onMouseOver",value:function(e){e.preventDefault(),a.default.isMouseOver=!0}},{key:"onMouseLeave",value:function(e){e.preventDefault(),a.default.isMouseOver=!1}},{key:"onMouseMove",value:function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){a.default.isMouseMoving=!1}),200),a.default.isMouseMoving=!0}}])&&s(t.prototype,r),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/managers/mqttClient.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>L});r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js");var n=r("./node_modules/paho-mqtt/paho-mqtt.js"),o=r.n(n),a=r("./src/js/data/config.js"),i=r("./src/js/app/components/obstacle.js"),s=r("./src/js/app/components/robot.js"),l=r("./src/js/app/helpers/urlHelper.js");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(a)?a:String(a)),n)}var o,a}var p="robot/create",m="robot/delete",h="robot/msg/broadcast",y="localization/data",g="localization/update",v="localization/data/?",b="obstacles/?",w="obstacles",S="obstacles/delete",T="obstacles/delete/all",M="output/neopixel",x="mgt/visualizer",j="mgt/robots/?",L=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.robot=new s.default(t),this.obstacles=new i.default(t);var n=(0,l.getCredentials)();if(this.updateChannel(),-1===n)alert("Unauthorized access! The Visualizer will not work properly.");else{var u=n.username,c=n.password,d="client_"+Math.random().toString(36).substring(2,15);this.client=new(o().Client)(a.default.mqtt.server,a.default.mqtt.port,a.default.mqtt.path,d),window.mqtt=this.client,window.channel=void 0===n.channel?"v1":n.channel,this.client.connect({userName:u,password:c,reconnect:!0,useSSL:!0,cleanSession:!1,onSuccess:function(){console.log("MQTT: connected"),r.subscribe(y),r.subscribe(g),r.subscribe(p),r.subscribe(m),r.subscribe(h),r.subscribe(M),r.subscribe(w),r.subscribe(S),r.subscribe(T),r.subscribe(x),r.subscribe(j),r.publish(b,"M"),r.publish(v,a.default.mixedReality.robots),window.robot=r.robot,window.obstacles=r.obstacles,r.client.onMessageArrived=r.onMessageArrived,r.client.onConnectionLost=r.onConnectionLost},onFailure:function(){console.log("MQTT: connection failed"),alert("MQTT: connection failed!")}})}}var t,r,n;return t=e,(r=[{key:"updateChannel",value:function(){}},{key:"onConnectionLost",value:function(e){0!==e.errorCode&&(console.log("MQTT: onConnectionLost:"+e.errorMessage),console.log("MQTT: reconnecting"))}},{key:"onMessageArrived",value:function(e){var t=e.payloadString.trim(),r=e.destinationName,n=r.substring(r.indexOf("/")+1);if(n==p)try{var o=JSON.parse(t);window.robot.create(o.id,o.x,o.y,o.heading,o.reality)}catch(e){console.error(e)}else if(n==m)try{var i=JSON.parse(t);window.robot.delete(i.id)}catch(e){console.error(e)}else if(n==g||n==y)try{var s=JSON.parse(t),l=a.default.mixedReality.robots;if(null!=s)for(var u in s){var d=s[u],f=d.id,v=d.x,b=d.y,L=d.heading,E=null==s[u].reality?"V":s[u].reality;E===l||"M"===l?null==window.robot.exists(f)?window.robot.create(f,v,b,L,E):(window.robot.move(f,v,b,L),window.robot.setReality(f,E)):robot.delete(f)}}catch(e){console.error(e)}else if(n==w)try{var R=JSON.parse(t);window.obstacles.createList(R)}catch(e){console.error(e)}else if(n==S){var A=JSON.parse(t);console.log(A),window.obstacles.deleteIfExists(A.id)}else if(n==T)window.obstacles.deleteAll();else if(n==M)try{var C=JSON.parse(t);window.robot.changeColor(C.id,C.R,C.G,C.B,C.ambient)}catch(e){console.error(e)}else if(n==h){if("ID? -1"!=t){var O="Broadcast Message: "+t.split(" ")[0],_=1e3+95*t.length,P=document.querySelector("#msg-box");P.innerHTML=O,P.style.display="block",setTimeout((function(){document.querySelector("#msg-box").style.display="none"}),_)}}else if(n==x)if("REFRESH"===t)console.log("page refresh request"),location.reload();else if(t.startsWith("MSG")){var k="Notice: "+t.substring(4),I=2e3+95*k.length,N=document.querySelector("#msg-box");N.innerHTML=k,N.style.display="block",setTimeout((function(){document.querySelector("#msg-box").style.display="none"}),I)}else console.log(">Management:",t);else if(n==j){var G=JSON.parse(t);if(console.log("Robot:Snapshot",G),-1!==G){var D,U=0,H=document.querySelector("#msg-box"),B=document.getElementById("msg-content"),F=document.createElement("div");F.setAttribute("id","msg-content");var z=document.createElement("h3");for(var V in z.textContent="Robot [".concat(G.id,"] Snapshot"),F.appendChild(z),G)if(Object.prototype.hasOwnProperty.call(G,V)){if(D=0===U?document.createElement("h4"):document.createElement("p"),"data"===V)for(var K=0,X=Object.entries(G.data);K<X.length;K++){var W=c(X[K],2),Y=W[0],q=W[1];D.textContent="".concat(Y,": ").concat(q)}else D.textContent="".concat(V,": ").concat(JSON.stringify(G[V]));F.appendChild(D),U+=1}H.replaceChild(F,B),H.style.display="block",H.style.opacity="0.5",setTimeout((function(){H.style.opacity="1.0",H.style.display="none"}),6e3)}}}},{key:"subscribe",value:function(e,t){var r=window.channel+"/"+e;this.client.subscribe(r),console.log("MQTT: subscribed",r),null!=t&&t()}},{key:"publish",value:function(e,t,r){var n=new(o().Message)(t),a=window.channel+"/"+e;n.destinationName=a,this.client.send(n),console.log("MQTT: published",a),null!=r&&r()}}])&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/model/model.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/app/components/material.js"),a=r("./src/js/utils/helpers.js"),i=r("./src/js/utils/bufferGeometryUtils.js"),s=r("./src/js/app/loaders/GLTFLoader.js"),l=r("./src/js/data/config.js");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(a)?a:String(a)),n)}var o,a}var d=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.textures=n,this.manager=r,this.obj=null,this.ref=null}var t,r,u;return t=e,(r=[{key:"load",value:function(e){var t=this;switch(e){case"gltf":new s.GLTFLoader(this.manager).load(l.default.models[l.default.model.selected].path,(function(e){var r,o=e.scene;l.default.shadow.enabled&&o.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0),e.isMesh&&(e.material.wireframe=l.default.mesh.wireframe,r=e)})),t.obj=r,i.BufferGeometryUtils.computeTangents(r.geometry);var a=new n.Group;a.scale.multiplyScalar(.25),t.scene.add(a),t.ref=a,a.updateMatrixWorld(!0),a.add(r),t.scene.add(o)}),a.default.logProgress(),a.default.logError());break;case"object":new n.ObjectLoader(this.manager).load(l.default.models[l.default.model.selected].path,(function(e){e.traverse((function(e){if(e instanceof n.Mesh){var r=new o.default(16777215).standard;r.map=t.textures.UV,e.material=r,l.default.shadow.enabled&&(e.receiveShadow=!0,e.castShadow=!0)}})),t.obj=e,t.ref=e,e.scale.multiplyScalar(l.default.models[l.default.model.selected].scale),t.scene.add(e)}),a.default.logProgress(),a.default.logError())}}},{key:"unload",value:function(){this.scene.remove(this.ref)}}])&&c(t.prototype,r),u&&c(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/app/model/texture.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r("./node_modules/three/build/three.module.js"),o=r("./node_modules/es6-promise/dist/es6-promise.js"),a=r("./src/js/utils/helpers.js"),i=r("./src/js/data/config.js");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(a)?a:String(a)),n)}var o,a}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textures={}}var t,r,s;return t=e,(r=[{key:"load",value:function(){var e=this,t=new n.TextureLoader,r=i.default.maxAnisotropy,s=i.default.texture.imageFiles,l=[];return t.setPath(i.default.texture.path),s.forEach((function(e){l.push(new o.Promise((function(o,i){t.load(e.image,(function(t){t.anisotropy=r;var a={};a[e.name]=t,a[e.name]instanceof n.Texture&&o(a)}),a.default.logProgress(),(function(t){return i(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),o.Promise.all(l).then((function(t){for(var r=0;r<t.length;r++)e.textures[Object.keys(t[r])[0]]=t[r][Object.keys(t[r])[0]]}),(function(e){return console.log(e)}))}}])&&l(t.prototype,r),s&&l(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/data/config.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>f,saveConfig:()=>d});var n,o=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={scale:1,arena:{size:180,minX:-85,maxX:85,minY:-85,maxY:85},mqtt:{server:localStorage.getItem("pera-swarm-server")||"webservices.ceykod.com",port:parseInt(localStorage.getItem("pera-swarm-port"))||8883,path:localStorage.getItem("pera-swarm-path")||"/mqtt",channel:localStorage.getItem("pera-swarm-channel")||"v1"},mixedReality:{obstacles:"M",robots:"M"},selectedReality:"M",selectedRealities:{real:!0,virtual:!0},hiddenOpacity:.3,isDev:!0,isShowingStats:!0,isShowingLables:!0,labelsVisibility:{obstacles:!1,robots:!1},isShowingRobotSnapshots:!0,isLoaded:!1,isTweening:!1,isRotating:!1,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:o.default.Easing.Quadratic.InOut,duration:500,texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!1,wireframe:!1,translucent:!1,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:50,near:50,far:1e3,aspect:1,posX:0,posY:0,posZ:0},controls:{autoRotate:!1,autoRotateSpeed:-1.5,rotateSpeed:1.5,zoomSpeed:.8,minDistance:100,maxDistance:800,minPolarAngle:0,maxPolarAngle:7/16*Math.PI,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!1,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}},c=localStorage.getItem(document.location.href+".config");n=null!=c?JSON.parse(c):u;var d=function(e){localStorage.setItem(document.location.href+".config",JSON.stringify(s(s({},u),e)))};const f=n},"./src/js/utils/bufferGeometryUtils.js":(e,t,r)=>{r.r(t),r.d(t,{BufferGeometryUtils:()=>o});var n=r("./node_modules/three/build/three.module.js"),o={computeTangents:function(e){var t=e.index,r=e.attributes;if(null!==t&&void 0!==r.position&&void 0!==r.normal&&void 0!==r.uv){var o=t.array,a=r.position.array,i=r.normal.array,s=r.uv.array,l=a.length/3;void 0===r.tangent&&e.setAttribute("tangent",new n.BufferAttribute(new Float32Array(4*l),4));for(var u=r.tangent.array,c=[],d=[],f=0;f<l;f++)c[f]=new n.Vector3,d[f]=new n.Vector3;var p=new n.Vector3,m=new n.Vector3,h=new n.Vector3,y=new n.Vector2,g=new n.Vector2,v=new n.Vector2,b=new n.Vector3,w=new n.Vector3,S=e.groups;0===S.length&&(S=[{start:0,count:o.length}]);f=0;for(var T=S.length;f<T;++f)for(var M=P=(_=S[f]).start,x=P+_.count;M<x;M+=3)k(o[M+0],o[M+1],o[M+2]);var j,L,E,R=new n.Vector3,A=new n.Vector3,C=new n.Vector3,O=new n.Vector3;for(f=0,T=S.length;f<T;++f){var _,P;for(M=P=(_=S[f]).start,x=P+_.count;M<x;M+=3)I(o[M+0]),I(o[M+1]),I(o[M+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function k(e,t,r){p.fromArray(a,3*e),m.fromArray(a,3*t),h.fromArray(a,3*r),y.fromArray(s,2*e),g.fromArray(s,2*t),v.fromArray(s,2*r),m.sub(p),h.sub(p),g.sub(y),v.sub(y);var n=1/(g.x*v.y-v.x*g.y);isFinite(n)&&(b.copy(m).multiplyScalar(v.y).addScaledVector(h,-g.y).multiplyScalar(n),w.copy(h).multiplyScalar(g.x).addScaledVector(m,-v.x).multiplyScalar(n),c[e].add(b),c[t].add(b),c[r].add(b),d[e].add(w),d[t].add(w),d[r].add(w))}function I(e){C.fromArray(i,3*e),O.copy(C),L=c[e],R.copy(L),R.sub(C.multiplyScalar(C.dot(L))).normalize(),A.crossVectors(O,L),E=A.dot(d[e]),j=E<0?-1:1,u[4*e]=R.x,u[4*e+1]=R.y,u[4*e+2]=R.z,u[4*e+3]=j}},mergeBufferGeometries:function(e,t){for(var r=null!==e[0].index,o=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),i={},s={},l=e[0].morphTargetsRelative,u=new n.BufferGeometry,c=0,d=0;d<e.length;++d){var f=e[d],p=0;if(r!==(null!==f.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var m in f.attributes){if(!o.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[m]&&(i[m]=[]),i[m].push(f.attributes[m]),p++}if(p!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var m in f.morphAttributes){if(!a.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[m]&&(s[m]=[]),s[m].push(f.morphAttributes[m])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(f.userData),t){var h;if(r)h=f.index.count;else{if(void 0===f.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;h=f.attributes.position.count}u.addGroup(c,h,d),c+=h}}if(r){var y=0,g=[];for(d=0;d<e.length;++d){for(var v=e[d].index,b=0;b<v.count;++b)g.push(v.getX(b)+y);y+=e[d].attributes.position.count}u.setIndex(g)}for(var m in i){var w=this.mergeBufferAttributes(i[m]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+m+" attribute."),null;u.setAttribute(m,w)}for(var m in s){var S=s[m][0].length;if(0===S)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[m]=[];for(d=0;d<S;++d){var T=[];for(b=0;b<s[m].length;++b)T.push(s[m][b][d]);var M=this.mergeBufferAttributes(T);if(!M)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+m+" morphAttribute."),null;u.morphAttributes[m].push(M)}}return u},mergeBufferAttributes:function(e){for(var t,r,o,a=0,i=0;i<e.length;++i){var s=e[i];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=s.itemSize),r!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===o&&(o=s.normalized),o!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;a+=s.array.length}var l=new t(a),u=0;for(i=0;i<e.length;++i)l.set(e[i].array,u),u+=e[i].array.length;return new n.BufferAttribute(l,r,o)},interleaveAttributes:function(e){for(var t,r=0,o=0,a=0,i=e.length;a<i;++a){var s=e[a];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=s.array.length,o+=s.itemSize}var l=new n.InterleavedBuffer(new t(r),o),u=0,c=[],d=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"],p=0;for(i=e.length;p<i;p++){var m=(s=e[p]).itemSize,h=s.count,y=new n.InterleavedBufferAttribute(l,m,u,s.normalized);c.push(y),u+=m;for(var g=0;g<h;g++)for(var v=0;v<m;v++)y[f[v]](g,s[d[v]](g))}return c},estimateBytesUsed:function(e){var t=0;for(var r in e.attributes){var n=e.getAttribute(r);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}var o=e.getIndex();return t+=o?o.count*o.itemSize*o.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var r={},o=e.getIndex(),a=e.getAttribute("position"),i=o?o.count:a.count,s=0,l=Object.keys(e.attributes),u={},c={},d=[],f=["getX","getY","getZ","getW"],p=0,m=l.length;p<m;p++){u[w=l[p]]=[],(x=e.morphAttributes[w])&&(c[w]=new Array(x.length).fill().map((function(){return[]})))}var h=Math.log10(1/t),y=Math.pow(10,h);for(p=0;p<i;p++){var g=o?o.getX(p):p,v="",b=0;for(m=l.length;b<m;b++)for(var w=l[b],S=(M=e.getAttribute(w)).itemSize,T=0;T<S;T++)v+="".concat(~~(M[f[T]](g)*y),",");if(v in r)d.push(r[v]);else{for(b=0,m=l.length;b<m;b++){w=l[b];var M=e.getAttribute(w),x=e.morphAttributes[w],j=(S=M.itemSize,u[w]),L=c[w];for(T=0;T<S;T++){var E=f[T];if(j.push(M[E](g)),x)for(var R=0,A=x.length;R<A;R++)L[R].push(x[R][E](g))}}r[v]=s,d.push(s),s++}}var C=e.clone();for(p=0,m=l.length;p<m;p++){w=l[p];var O=e.getAttribute(w),_=new O.array.constructor(u[w]);M=new n.BufferAttribute(_,O.itemSize,O.normalized);if(C.setAttribute(w,M),w in c)for(b=0;b<c[w].length;b++){var P=e.morphAttributes[w][b],k=(_=new P.array.constructor(c[w][b]),new n.BufferAttribute(_,P.itemSize,P.normalized));C.morphAttributes[w][b]=k}}return C.setIndex(d),C},toTrianglesDrawMode:function(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===n.TriangleFanDrawMode||t===n.TriangleStripDrawMode){var r=e.getIndex();if(null===r){var o=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)o.push(i);e.setIndex(o),r=e.getIndex()}var s=r.count-2,l=[];if(t===n.TriangleFanDrawMode)for(i=1;i<=s;i++)l.push(r.getX(0)),l.push(r.getX(i)),l.push(r.getX(i+1));else for(i=0;i<s;i++)i%2==0?(l.push(r.getX(i)),l.push(r.getX(i+1)),l.push(r.getX(i+2))):(l.push(r.getX(i+2)),l.push(r.getX(i+1)),l.push(r.getX(i)));l.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u.clearGroups(),u}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}}},"./src/js/utils/detector.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,r,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",(n=this.getWebGLErrorMessage()).id=r,t.appendChild(n)}}},"./src/js/utils/helpers.js":(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===n(i)?i:String(i)),o)}var a,i}r.r(t),r.d(t,{default:()=>a});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"throttle",value:function(e,t,r){var n,o;return t||(t=250),function(){var a=r||this,i=+new Date,s=arguments;n&&i<n+t?(clearTimeout(o),o=setTimeout((function(){n=i,e.apply(a,s)}),t)):(n=i,e.apply(a,s))}}},{key:"logProgress",value:function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}}}},{key:"logError",value:function(){return function(e){console.error(e)}}},{key:"handleColorChange",value:function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(t)}}},{key:"update",value:function(e){this.needsUpdate(e.material,e.geometry)}},{key:"needsUpdate",value:function(e,t){return function(){e.shading=+e.shading,e.vertexColors=+e.vertexColors,e.side=+e.side,e.needsUpdate=!0,t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.colorsNeedUpdate=!0}}},{key:"updateTexture",value:function(e,t,r){return function(n){e[t]=r[n],e.needsUpdate=!0}}}],(r=null)&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/js/utils/keyboard.js":(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===n(i)?i:String(i)),o)}var a,i}r.r(t),r.d(t,{default:()=>i});var a={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27},i=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=t||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return r.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return r.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return r.onBlur}),!1)}var t,r,n;return t=e,(r=[{key:"destroy",value:function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)}},{key:"onBlur",value:function(){for(var e in this.keyCodes)this.keyCodes[e]=!1}},{key:"onKeyChange",value:function(e){var t=e.keyCode;this.keyCodes[t]="keydown"===e.type}},{key:"pressed",value:function(e){for(var t=e.split("+"),r=0;r<t.length;r++){var n=t[r],o=!1;if(o=-1!=Object.keys(a).indexOf(n)?this.keyCodes[a[n]]:this.keyCodes[n.toUpperCase().charCodeAt(0)],!o)return!1}return!0}},{key:"eventMatches",value:function(e,t){for(var r=a,n=Object.keys(r),o=t.split("+"),i=0;i<o.length;i++){var s=o[i],l=!1;if("shift"===s?l=!!e.shiftKey:"ctrl"===s?l=!!e.ctrlKey:"alt"===s?l=!!e.altKey:"meta"===s?l=!!e.metaKey:-1!==n.indexOf(s)?l=e.keyCode===r[s]:e.keyCode===s.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/css/app.scss":(e,t,r)=>{r.r(t)}},e=>{e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ci8uL3NyYy9qcy9hcHAuanMiLCJ3ZWJwYWNrOi8vcGVyYS1zd2FybS12aXN1YWxpemVyLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vcGVyYS1zd2FybS12aXN1YWxpemVyLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2Vudmlyb25tZW50LmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9nZW9tZXRyeS5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvbGFiZWwuanMiLCJ3ZWJwYWNrOi8vcGVyYS1zd2FybS12aXN1YWxpemVyLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2xpZ2h0LmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9tYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvb2JzdGFjbGUuanMiLCJ3ZWJwYWNrOi8vcGVyYS1zd2FybS12aXN1YWxpemVyLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL3JlbmRlcmVyLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9yb2JvdC5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL2hlbHBlcnMvbWVzaEhlbHBlci5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL2hlbHBlcnMvdXJsSGVscGVyLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvaGVscGVycy92ZXJ0ZXhOb3JtYWxzSGVscGVyLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvbG9hZGVycy9HTFRGTG9hZGVyLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvbWFpbi5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL21hbmFnZXJzL2RhdEdVSS5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL21hbmFnZXJzL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvbWFuYWdlcnMvbXF0dENsaWVudC5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvYXBwL21vZGVsL21vZGVsLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy9hcHAvbW9kZWwvdGV4dHVyZS5qcyIsIndlYnBhY2s6Ly9wZXJhLXN3YXJtLXZpc3VhbGl6ZXIvLi9zcmMvanMvZGF0YS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vcGVyYS1zd2FybS12aXN1YWxpemVyLy4vc3JjL2pzL3V0aWxzL2J1ZmZlckdlb21ldHJ5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vcGVyYS1zd2FybS12aXN1YWxpemVyLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy91dGlscy9oZWxwZXJzLmpzIiwid2VicGFjazovL3BlcmEtc3dhcm0tdmlzdWFsaXplci8uL3NyYy9qcy91dGlscy9rZXlib2FyZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZmlnIGZyb20gJy4vZGF0YS9jb25maWcnO1xuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vdXRpbHMvZGV0ZWN0b3InO1xuaW1wb3J0IE1haW4gZnJvbSAnLi9hcHAvbWFpbic7XG5cbi8vIFN0eWxlc1xuaW1wb3J0ICcuLy4uL2Nzcy9hcHAuc2Nzcyc7XG4vLyBDaGVjayBlbnZpcm9ubWVudCBhbmQgc2V0IHRoZSBDb25maWcgaGVscGVyXG5pZiAoX19FTlZfXyA9PT0gJ2RldicpIHtcbiAgICBjb25zb2xlLmxvZygnLS0tLS0gUlVOTklORyBJTiBERVYgRU5WSVJPTk1FTlQhIC0tLS0tJyk7XG4gICAgQ29uZmlnLmlzRGV2ID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBDaGVjayBmb3Igd2ViR0wgY2FwYWJpbGl0aWVzXG4gICAgaWYgKCFEZXRlY3Rvci53ZWJnbCkge1xuICAgICAgICBEZXRlY3Rvci5hZGRHZXRXZWJHTE1lc3NhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwQ29udGFpbmVyJyk7XG4gICAgICAgIG5ldyBNYWluKGNvbnRhaW5lcik7XG4gICAgfVxufVxuXG5pbml0KCk7XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBDbGFzcyB0aGF0IGNyZWF0ZXMgYW5kIHVwZGF0ZXMgdGhlIG1haW4gY2FtZXJhXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gcmVuZGVyZXIuZG9tRWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuZCBwb3NpdGlvbiBhIFBlcnNwZWN0aXZlIENhbWVyYVxuICAgICAgICB0aGlzLnRocmVlQ2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxuICAgICAgICAgICAgQ29uZmlnLmNhbWVyYS5mb3YsXG4gICAgICAgICAgICB3aWR0aCAvIGhlaWdodCxcbiAgICAgICAgICAgIENvbmZpZy5jYW1lcmEubmVhcixcbiAgICAgICAgICAgIENvbmZpZy5jYW1lcmEuZmFyXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudGhyZWVDYW1lcmEucG9zaXRpb24uc2V0KENvbmZpZy5jYW1lcmEucG9zWCwgQ29uZmlnLmNhbWVyYS5wb3NZLCBDb25maWcuY2FtZXJhLnBvc1opO1xuICAgICAgICB0aGlzLnRocmVlQ2FtZXJhLnVwLnNldCgwLCAwLCAxKTtcblxuICAgICAgICAvLyBJbml0aWFsIHNpemluZ1xuICAgICAgICB0aGlzLnVwZGF0ZVNpemUocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIExpc3RlbmVyc1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNpemUocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gVXBkYXRlIGNhbWVyYSBhc3BlY3QgcmF0aW8gd2l0aCB3aW5kb3cgYXNwZWN0IHJhdGlvXG4gICAgICAgIHRoaXMudGhyZWVDYW1lcmEuYXNwZWN0ID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aCAvIHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEFsd2F5cyBjYWxsIHVwZGF0ZVByb2plY3Rpb25NYXRyaXggb24gY2FtZXJhIGNoYW5nZVxuICAgICAgICB0aGlzLnRocmVlQ2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scyc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gQ29udHJvbHMgYmFzZWQgb24gb3JiaXQgY29udHJvbHNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xzIHtcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmEsIGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnRocmVlQ29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLnRhcmdldC5zZXQoQ29uZmlnLmNvbnRyb2xzLnRhcmdldC54LCBDb25maWcuY29udHJvbHMudGFyZ2V0LnksIENvbmZpZy5jb250cm9scy50YXJnZXQueik7XG4gICAgICAgIHRoaXMudGhyZWVDb250cm9scy5hdXRvUm90YXRlID0gQ29uZmlnLmNvbnRyb2xzLmF1dG9Sb3RhdGU7XG4gICAgICAgIHRoaXMudGhyZWVDb250cm9scy5hdXRvUm90YXRlU3BlZWQgPSBDb25maWcuY29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkO1xuICAgICAgICB0aGlzLnRocmVlQ29udHJvbHMucm90YXRlU3BlZWQgPSBDb25maWcuY29udHJvbHMucm90YXRlU3BlZWQ7XG4gICAgICAgIHRoaXMudGhyZWVDb250cm9scy56b29tU3BlZWQgPSBDb25maWcuY29udHJvbHMuem9vbVNwZWVkO1xuICAgICAgICB0aGlzLnRocmVlQ29udHJvbHMubWluRGlzdGFuY2UgPSBDb25maWcuY29udHJvbHMubWluRGlzdGFuY2U7XG4gICAgICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhEaXN0YW5jZSA9IENvbmZpZy5jb250cm9scy5tYXhEaXN0YW5jZTtcbiAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pblBvbGFyQW5nbGUgPSBDb25maWcuY29udHJvbHMubWluUG9sYXJBbmdsZTtcbiAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLm1heFBvbGFyQW5nbGUgPSBDb25maWcuY29udHJvbHMubWF4UG9sYXJBbmdsZTtcbiAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSBDb25maWcuY29udHJvbHMuZW5hYmxlRGFtcGluZztcbiAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZVpvb20gPSBDb25maWcuY29udHJvbHMuZW5hYmxlWm9vbTtcbiAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLmRhbXBpbmdGYWN0b3IgPSBDb25maWcuY29udHJvbHMuZGFtcGluZ0ZhY3RvcjtcblxuICAgICAgICB0aGlzLnRocmVlQ29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcblxuICAgICAgICAvLyBBdm9pZCBudWxsIHNpdHVhdGlvbnNcbiAgICAgICAgaWYgKENvbmZpZy5jb250cm9scy5taW5BemltdXRoQW5nbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pbkF6aW11dGhBbmdsZSA9IC1JbmZpbml0eTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVDb250cm9scy5taW5BemltdXRoQW5nbGUgPSBDb25maWcuY29udHJvbHMubWluQXppbXV0aEFuZ2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXZvaWQgbnVsbCBzaXR1YXRpb25zXG4gICAgICAgIGlmIChDb25maWcuY29udHJvbHMubWF4QXppbXV0aEFuZ2xlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhBemltdXRoQW5nbGUgPSBDb25maWcuY29udHJvbHMubWF4QXppbXV0aEFuZ2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyp0aGlzLnRocmVlQ29udHJvbHMubW91c2VCdXR0b25zID0ge1xuICAgICAgICAgICAgTEVGVDogVEhSRUUuTU9VU0UuUk9UQVRFLFxuICAgICAgICAgICAgTUlERExFOiBUSFJFRS5NT1VTRS5ET0xMWSxcbiAgICAgICAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRS5QQU5cbiAgICAgICAgfSovXG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW52aXJvbm1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgRW52aXJvbm1lbnQ6IFNjYWxlOiAke3NjZW5lX3NjYWxlfSwgYXJlbmFTaXplOiR7Q29uZmlnLmFyZW5hLnNpemV9YCk7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoQ29uZmlnLmFyZW5hLnNpemUsIENvbmZpZy5hcmVuYS5zaXplKTtcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAweDk5OTk5OSxcbiAgICAgICAgICAgIGRlcHRoV3JpdGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBtYXRlcmlhbC51c2VyRGF0YS5vcmlnaW5hbENvbG9yID0gbmV3IFRIUkVFLkNvbG9yKDB4OTk5OTk5KTtcblxuICAgICAgICAvLyBHcm91bmRcbiAgICAgICAgdmFyIGdyb3VuZCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgIGdyb3VuZC5zY2FsZS5zZXQoc2NlbmVfc2NhbGUsIHNjZW5lX3NjYWxlLCBzY2VuZV9zY2FsZSk7XG4gICAgICAgIGdyb3VuZC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgIGdyb3VuZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgc2NlbmUuYWRkKGdyb3VuZCk7XG5cbiAgICAgICAgLy8gR3JpZFxuICAgICAgICB2YXIgZ3JpZCA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKENvbmZpZy5hcmVuYS5zaXplLCBNYXRoLnJvdW5kKENvbmZpZy5hcmVuYS5zaXplIC8gMTApLCAweDAwMDAwMCwgMHg1YjViNWIpO1xuICAgICAgICBncmlkLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgIGdyaWQuc2NhbGUuc2V0KHNjZW5lX3NjYWxlLCBzY2VuZV9zY2FsZSwgc2NlbmVfc2NhbGUpO1xuICAgICAgICBncmlkLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgZ3JpZC5tYXRlcmlhbC5vcGFjaXR5ID0gMC4zNTtcbiAgICAgICAgZ3JpZC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XG4gICAgICAgIHNjZW5lLmFkZChncmlkKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuL21hdGVyaWFsJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBUaGlzIGhlbHBlciBjbGFzcyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW5kIHRoZW4gcGxhY2UgZ2VvbWV0cnkgaW4gdGhlIHNjZW5lXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9tZXRyeSB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLmdlbyA9IG51bGw7XG4gICAgfVxuXG4gICAgbWFrZSh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAncGxhbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gKHdpZHRoLCBoZWlnaHQsIHdpZHRoU2VnbWVudHMgPSAxLCBoZWlnaHRTZWdtZW50cyA9IDEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ3NwaGVyZScpIHtcbiAgICAgICAgICAgIHJldHVybiAocmFkaXVzLCB3aWR0aFNlZ21lbnRzID0gMzIsIGhlaWdodFNlZ21lbnRzID0gMzIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShyYWRpdXMsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGFjZShwb3NpdGlvbiwgcm90YXRpb24pIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoMHhlZWVlZWUpLnN0YW5kYXJkO1xuICAgICAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW8sIG1hdGVyaWFsKTtcblxuICAgICAgICAvLyBVc2UgRVM2IHNwcmVhZCB0byBzZXQgcG9zaXRpb24gYW5kIHJvdGF0aW9uIGZyb20gcGFzc2VkIGluIGFycmF5XG4gICAgICAgIG1lc2gucG9zaXRpb24uc2V0KC4uLnBvc2l0aW9uKTtcbiAgICAgICAgbWVzaC5yb3RhdGlvbi5zZXQoLi4ucm90YXRpb24pO1xuXG4gICAgICAgIGlmIChDb25maWcuc2hhZG93LmVuYWJsZWQpIHtcbiAgICAgICAgICAgIG1lc2gucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjZW5lLmFkZChtZXNoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanMnO1xuaW1wb3J0IHsgQ1NTMkRSZW5kZXJlciwgQ1NTMkRPYmplY3QgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcmVuZGVyZXJzL0NTUzJEUmVuZGVyZXIuanMnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBDU1MyRFJlbmRlcmVyKCk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICByZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICByZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIHJlbmRlcmVyLmlzU2hvd2luZ0xhYmxlcyA9IENvbmZpZy5pc1Nob3dpbmdMYWJsZXM7XG4gICAgcmVuZGVyZXIuaXNTaG93aW5nT2JzdGFjbGVMYWJsZXMgPSBDb25maWcubGFiZWxzVmlzaWJpbGl0eS5vYnN0YWNsZXM7XG4gICAgcmVuZGVyZXIuaXNTaG93aW5nUm9ib3RMYWJsZXMgPSBDb25maWcubGFiZWxzVmlzaWJpbGl0eS5yb2JvdHM7XG4gICAgcmVuZGVyZXIudXBkYXRlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiByZW5kZXJlci51cGRhdGVTaXplKCksIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gcmVuZGVyZXIudXBkYXRlU2l6ZSgpLCBmYWxzZSk7XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xufVxuXG5leHBvcnQgY29uc3QgYWRkTGFiZWwgPSAocHJlZml4LCBvYmplY3QsIG1lc2gsIHZpc2liaWxpdHkpID0+IHtcbiAgICBpZiAobWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAnbGFiZWwnO1xuXG4gICAgICAgIC8vIFRPRE86IHVzZSBuYW1lcywgaW5zdGVkIG9mIElEc1xuICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gb2JqZWN0Lm5hbWUgKyAnIFsnICsgbWVzaC5yZWFsaXR5ICsgJ10nO1xuXG4gICAgICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gJy0xLjJlbSc7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRMYWJlbCA9IG5ldyBDU1MyRE9iamVjdChlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudExhYmVsLm5hbWUgPSBgTGFiZWxbJHtvYmplY3QuaWR9XWA7XG4gICAgICAgIGVsZW1lbnRMYWJlbC5wb3NpdGlvbi5zZXQoMCwgMSwgMCk7XG4gICAgICAgIGVsZW1lbnRMYWJlbC52aXNpYmxlID0gdmlzaWJpbGl0eTtcbiAgICAgICAgbWVzaC5hZGQoZWxlbWVudExhYmVsKTtcbiAgICAgICAgbWVzaC5yZW1vdmVMYWJlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIG1lc2gucmVtb3ZlKGVsZW1lbnRMYWJlbCk7XG4gICAgICAgIH07XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUxhYmVsID0gKG1lc2gpID0+IHtcbiAgICBpZiAobWVzaCAhPT0gdW5kZWZpbmVkICYmIG1lc2gucmVtb3ZlTGFiZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtZXNoLnJlbW92ZUxhYmVsKCk7XG4gICAgfVxufTtcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIFNldHMgdXAgYW5kIHBsYWNlcyBhbGwgbGlnaHRzIGluIHNjZW5lXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIC8vIEFtYmllbnRcbiAgICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KENvbmZpZy5hbWJpZW50TGlnaHQuY29sb3IpO1xuICAgICAgICB0aGlzLmFtYmllbnRMaWdodC52aXNpYmxlID0gQ29uZmlnLmFtYmllbnRMaWdodC5lbmFibGVkO1xuXG4gICAgICAgIC8vIFBvaW50IGxpZ2h0XG4gICAgICAgIHRoaXMucG9pbnRMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KFxuICAgICAgICAgICAgQ29uZmlnLnBvaW50TGlnaHQuY29sb3IsXG4gICAgICAgICAgICBDb25maWcucG9pbnRMaWdodC5pbnRlbnNpdHksXG4gICAgICAgICAgICBDb25maWcucG9pbnRMaWdodC5kaXN0YW5jZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnBvaW50TGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5wb2ludExpZ2h0LngsIENvbmZpZy5wb2ludExpZ2h0LnksIENvbmZpZy5wb2ludExpZ2h0LnopO1xuICAgICAgICB0aGlzLnBvaW50TGlnaHQudmlzaWJsZSA9IENvbmZpZy5wb2ludExpZ2h0LmVuYWJsZWQ7XG5cbiAgICAgICAgLy8gRGlyZWN0aW9uYWwgbGlnaHRcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoXG4gICAgICAgICAgICBDb25maWcuZGlyZWN0aW9uYWxMaWdodC5jb2xvcixcbiAgICAgICAgICAgIENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LmludGVuc2l0eVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uc2V0KFxuICAgICAgICAgICAgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueCxcbiAgICAgICAgICAgIENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LnksXG4gICAgICAgICAgICBDb25maWcuZGlyZWN0aW9uYWxMaWdodC56XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC52aXNpYmxlID0gQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQuZW5hYmxlZDtcblxuICAgICAgICAvLyBTaGFkb3cgbWFwXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gQ29uZmlnLnNoYWRvdy5lbmFibGVkO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSBDb25maWcuc2hhZG93LmJpYXM7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSBDb25maWcuc2hhZG93Lm5lYXI7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IENvbmZpZy5zaGFkb3cuZmFyO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gQ29uZmlnLnNoYWRvdy5sZWZ0O1xuICAgICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IENvbmZpZy5zaGFkb3cucmlnaHQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IENvbmZpZy5zaGFkb3cudG9wO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSBDb25maWcuc2hhZG93LmJvdHRvbTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gQ29uZmlnLnNoYWRvdy5tYXBXaWR0aDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IENvbmZpZy5zaGFkb3cubWFwSGVpZ2h0O1xuXG4gICAgICAgIC8vIFNoYWRvdyBjYW1lcmEgaGVscGVyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEpO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIudmlzaWJsZSA9IENvbmZpZy5zaGFkb3cuaGVscGVyRW5hYmxlZDtcblxuICAgICAgICAvLyBIZW1pc3BoZXJlIGxpZ2h0XG4gICAgICAgIHRoaXMuaGVtaUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodChcbiAgICAgICAgICAgIENvbmZpZy5oZW1pTGlnaHQuY29sb3IsXG4gICAgICAgICAgICBDb25maWcuaGVtaUxpZ2h0Lmdyb3VuZENvbG9yLFxuICAgICAgICAgICAgQ29uZmlnLmhlbWlMaWdodC5pbnRlbnNpdHlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5oZW1pTGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5oZW1pTGlnaHQueCwgQ29uZmlnLmhlbWlMaWdodC55LCBDb25maWcuaGVtaUxpZ2h0LnopO1xuICAgICAgICB0aGlzLmhlbWlMaWdodC52aXNpYmxlID0gQ29uZmlnLmhlbWlMaWdodC5lbmFibGVkO1xuICAgIH1cblxuICAgIHBsYWNlKGxpZ2h0TmFtZSkge1xuICAgICAgICBzd2l0Y2ggKGxpZ2h0TmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnYW1iaWVudCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5hbWJpZW50TGlnaHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5kaXJlY3Rpb25hbExpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdwb2ludCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wb2ludExpZ2h0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnaGVtaSc6XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5oZW1pTGlnaHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vLyBVU2UgdGhpcyBjbGFzcyBhcyBhIGhlbHBlciB0byBzZXQgdXAgc29tZSBkZWZhdWx0IG1hdGVyaWFsc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0ZXJpYWwge1xuICAgIGNvbnN0cnVjdG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuYmFzaWMgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RhbmRhcmQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICBzaGFkaW5nOiBUSFJFRS5GbGF0U2hhZGluZyxcbiAgICAgICAgICAgIHJvdWdobmVzczogMSxcbiAgICAgICAgICAgIG1ldGFsbmVzczogMCxcbiAgICAgICAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy53aXJlID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgd2lyZWZyYW1lOiB0cnVlIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5pbXBvcnQgeyBhZGRMYWJlbCwgcmVtb3ZlTGFiZWwgfSBmcm9tICcuL2xhYmVsJztcblxuY29uc3QgT0JTVEFDTEVfUFJFRklYID0gJ09ic3RhY2xlXyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic3RhY2xlIHtcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICBjb25zb2xlLmxvZygnT2JzdGFjbGUgUmVhbGl0eTonLCBDb25maWcubWl4ZWRSZWFsaXR5Lm9ic3RhY2xlcyk7XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBnaXZlbiBsaXN0IG9mIG9ic3RhY2xlc1xuICAgIGNyZWF0ZUxpc3Qob2JzdGFjbGVzKSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG9ic3RhY2xlcykuZm9yRWFjaCgob2JzKSA9PiB7XG4gICAgICAgICAgICBpZiAob2JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKG9ic1sxXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGUob2JzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgb2JzdGFjbGVcbiAgICBjcmVhdGUob2JzdGFjbGUpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmNyZWF0ZUdlb21ldHJ5KG9ic3RhY2xlLmdlb21ldHJ5KTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLmNyZWF0ZU1hdGVyaWFsKG9ic3RhY2xlLm1hdGVyaWFsKTtcbiAgICAgICAgbWF0ZXJpYWwudXNlckRhdGEub3JpZ2luYWxDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigweDY2NjY2Nik7XG4gICAgICAgIG1hdGVyaWFsLnVzZXJEYXRhLmxhYmVsVmlzaWJpbGl0eSA9IENvbmZpZy5pc1Nob3dpbmdMYWJsZXMgJiYgQ29uZmlnLmxhYmVsc1Zpc2liaWxpdHkub2JzdGFjbGVzO1xuICAgICAgICBtYXRlcmlhbC51c2VyRGF0YS5vcmlnaW5hbEVtbWlzaXZlID0gbWF0ZXJpYWwuZW1pc3NpdmUuZ2V0SGV4KCk7XG4gICAgICAgIG1hdGVyaWFsLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIG1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaWQgPSBvYnN0YWNsZS5pZCB8fCAxMDAwICsgTWF0aC5mbG9vcig5MDAgKiBNYXRoLnJhbmRvbSgpKTtcblxuICAgICAgICBjb25zdCByZWFsaXR5ID0gb2JzdGFjbGUucmVhbGl0eSA9PSB1bmRlZmluZWQgPyAnVicgOiBvYnN0YWNsZS5yZWFsaXR5O1xuICAgICAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcblxuICAgICAgICAvLyBUT0RPOiBhZGQgdGhlIG5hbWUgZGVmaW5lZCBpbiBlbnYuY29uZmlnLmpzb24gYXMgZGlzY3Vzc2VkIG9uIDIwMjEtMDItMThcbiAgICAgICAgLy8gICAgICBOZWVkIHNvbWUgb2JzdGFjbGUgcHJvdG9jb2wgcmV2aXNpb24gKyBzaW11bGF0b3IgdXBkYXRlc1xuICAgICAgICBjb25zdCBuYW1lX3RlbXAgPSAnT2JzXycgKyBpZC50b1N0cmluZygpLnN1YnN0cmluZygwLCA4KSArICcuLi4nO1xuXG4gICAgICAgIG1lc2gubmFtZSA9IE9CU1RBQ0xFX1BSRUZJWCArIGlkO1xuICAgICAgICBtZXNoLnJlYWxpdHkgPSByZWFsaXR5OyAvLyBzZXQgcmVhbGl0eSBmbGFnXG5cbiAgICAgICAgaWYgKG1lc2gucmVhbGl0eSA9PT0gJ1YnKSB7XG4gICAgICAgICAgICAvLyBtYXRlcmlhbC52aXNpYmxlID0gQ29uZmlnLnNlbGVjdGVkUmVhbGl0aWVzLnZpcnR1YWw7XG4gICAgICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gQ29uZmlnLnNlbGVjdGVkUmVhbGl0aWVzLnZpcnR1YWwgPyAxLjAgOiBDb25maWcuaGlkZGVuT3BhY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNoLnJlYWxpdHkgPT09ICdSJykge1xuICAgICAgICAgICAgLy8gbWF0ZXJpYWwudmlzaWJsZSA9IENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcy5yZWFsO1xuICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcy5yZWFsID8gMS4wIDogQ29uZmlnLmhpZGRlbk9wYWNpdHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgaWYgb2JqZWN0IGlzIGFscmVhZHkgZGVmaW5lZFxuICAgICAgICB0aGlzLmRlbGV0ZUlmRXhpc3RzKGlkKTtcblxuICAgICAgICAvLyBBZGQgdGhlIG1lc2ggb2JqZWN0IHRvIGFyZW5hXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKG1lc2gpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdFxuICAgICAgICBpZiAob2JzdGFjbGUucG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBvYnN0YWNsZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHogPSB0aGlzLmNhbGN1bGF0ZVoob2JzdGFjbGUpO1xuXG4gICAgICAgICAgICBtZXNoLnNjYWxlLnNldChzY2VuZV9zY2FsZSwgc2NlbmVfc2NhbGUsIHNjZW5lX3NjYWxlKTtcbiAgICAgICAgICAgIG1lc2gucG9zaXRpb24uc2V0KHNjZW5lX3NjYWxlICogeCwgc2NlbmVfc2NhbGUgKiB5LCBzY2VuZV9zY2FsZSAqIHopO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUm90YXRlIHRoZSBvYmplY3QsIGFmdGVyIHRyYW5zbGF0ZSBkZWdyZWVzIGludG8gcmFkaWFuc1xuICAgICAgICBpZiAob2JzdGFjbGUucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSBvYnN0YWNsZS5yb3RhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHJhZFggPSAoKDkwICsgeCkgLyAzNjApICogMiAqIE1hdGguUEk7IC8vIHRyYW5zZm9ybWF0aW9uIGR1ZSB0byBjb29yZGluYXRlIHN5c3RlbVxuICAgICAgICAgICAgY29uc3QgcmFkWSA9ICh5IC8gMzYwKSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICAgICAgY29uc3QgcmFkWiA9ICh6IC8gMzYwKSAqIDIgKiBNYXRoLlBJO1xuXG4gICAgICAgICAgICBtZXNoLnJvdGF0aW9uLnNldChyYWRYLCByYWRZLCByYWRaKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgc2hhZG93cyBvZiB0aGUgb2JqZWN0IGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKENvbmZpZy5zaGFkb3cuZW5hYmxlZCkgbWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblxuICAgICAgICAvLyBBZGQgbGFiZWxzIHRvIGV2ZXJ5IG9ic3RhY2xlLCBpbW1lZGlhdGVseSBkaXNwbGF5ZWQgaWYgZW5hYmxlZFxuICAgICAgICBhZGRMYWJlbChPQlNUQUNMRV9QUkVGSVgsIHsgaWQ6IG9ic3RhY2xlLmlkLCBuYW1lOiBuYW1lX3RlbXAgfSwgbWVzaCwgQ29uZmlnLmxhYmVsc1Zpc2liaWxpdHkub2JzdGFjbGVzKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZD4nLCBtZXNoLm5hbWUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUdlb21ldHJ5KGcpIHtcbiAgICAgICAgaWYgKGcudHlwZSA9PSB1bmRlZmluZWQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ3R5cGUgdW5zcGVjaWZpZWQnKTtcblxuICAgICAgICBpZiAoZy50eXBlID09ICdCb3hHZW9tZXRyeScpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUJveEdlb21ldHJ5KGcud2lkdGgsIGcuaGVpZ2h0LCBnLmRlcHRoKTtcbiAgICAgICAgfSBlbHNlIGlmIChnLnR5cGUgPT0gJ0N5bGluZGVyR2VvbWV0cnknKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDeWxpbmRlckdlb21ldHJ5KGcucmFkaXVzVG9wLCBnLnJhZGl1c0JvdHRvbSwgZy5oZWlnaHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGcudHlwZSA9PSAnU3BoZXJlR2VvbWV0cnknKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTcGhlcmVHZW9tZXRyeShnLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZScpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJveEdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIGRlcHRoKSB7XG4gICAgICAgIGlmICh3aWR0aCA9PSB1bmRlZmluZWQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ3dpZHRoIHVuc3BlY2lmaWVkJyk7XG4gICAgICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdoZWlnaHQgdW5zcGVjaWZpZWQnKTtcbiAgICAgICAgaWYgKGRlcHRoID09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IFR5cGVFcnJvcignZGVwdGggdW5zcGVjaWZpZWQnKTtcblxuICAgICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9nZW9tZXRyaWVzL0JveEdlb21ldHJ5XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuQm94R2VvbWV0cnkod2lkdGgsIGhlaWdodCwgZGVwdGgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUN5bGluZGVyR2VvbWV0cnkocmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCkge1xuICAgICAgICBpZiAocmFkaXVzVG9wID09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IFR5cGVFcnJvcigncmFkaXVzVG9wIHVuc3BlY2lmaWVkJyk7XG4gICAgICAgIGlmIChyYWRpdXNCb3R0b20gPT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdyYWRpdXNCb3R0b20gdW5zcGVjaWZpZWQnKTtcbiAgICAgICAgaWYgKGhlaWdodCA9PSB1bmRlZmluZWQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2hlaWdodCB1bnNwZWNpZmllZCcpO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2dlb21ldHJpZXMvQ3lsaW5kZXJHZW9tZXRyeVxuICAgICAgICBjb25zdCBoZWlnaHRTZWdtZW50cyA9IGhlaWdodFNlZ21lbnRzIHx8IDI7XG4gICAgICAgIGNvbnN0IHJhZGlhbFNlZ21lbnRzID0gcmFkaWFsU2VnbWVudHMgfHwgMTY7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIHJhZGlhbFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XG4gICAgfVxuXG4gICAgY3JlYXRlU3BoZXJlR2VvbWV0cnkocmFkaXVzKSB7XG4gICAgICAgIGlmIChyYWRpdXMgPT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdyYWRpdXMgdW5zcGVjaWZpZWQnKTtcblxuICAgICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9nZW9tZXRyaWVzL1NwaGVyZUdlb21ldHJ5XG4gICAgICAgIGNvbnN0IHdpZHRoU2VnbWVudHMgPSB3aWR0aFNlZ21lbnRzIHx8IDE2O1xuICAgICAgICBjb25zdCBoZWlnaHRTZWdtZW50cyA9IGhlaWdodFNlZ21lbnRzIHx8IDE2O1xuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHJhZGl1cywgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpO1xuICAgIH1cblxuICAgIGNyZWF0ZU1hdGVyaWFsKG0pIHtcbiAgICAgICAgbGV0IG1hdGVyaWFsO1xuICAgICAgICBpZiAobS50eXBlID09ICdNZXNoQmFzaWNNYXRlcmlhbCcpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL21hdGVyaWFscy9NZXNoQmFzaWNNYXRlcmlhbFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbChtLnByb3BlcnRpZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKG0udHlwZSA9PSAnTWVzaE5vcm1hbE1hdGVyaWFsJykge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzL2FwaS9lbi9tYXRlcmlhbHMvTWVzaE5vcm1hbE1hdGVyaWFsLmh0bWxcbiAgICAgICAgICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaE5vcm1hbE1hdGVyaWFsKG0ucHJvcGVydGllcyk7XG4gICAgICAgIH0gZWxzZSBpZiAobS50eXBlID09ICdNZXNoUGhvbmdNYXRlcmlhbCcpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL21hdGVyaWFscy9NZXNoUGhvbmdNYXRlcmlhbFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbChtLnByb3BlcnRpZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKG0udHlwZSA9PSAnTWVzaFBoeXNpY2FsTWF0ZXJpYWwnKSB7XG4gICAgICAgICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9tYXRlcmlhbHMvTWVzaFBoeXNpY2FsTWF0ZXJpYWxcbiAgICAgICAgICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaFBoeXNpY2FsTWF0ZXJpYWwobS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChtLnR5cGUgPT0gJ01lc2hTdGFuZGFyZE1hdGVyaWFsJykge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vbWF0ZXJpYWxzL01lc2hTdGFuZGFyZE1hdGVyaWFsXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKG0ucHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCBtYXRlcmlhbCB0eXBlXG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwobS5wcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVaKG9ic3RhY2xlKSB7XG4gICAgICAgIC8vIElmIHogaXMgdW5kZWZpbmVkLCBwbGFjZSB0aGUgb2JqZWN0IGluIHRvcCBvZiB0aGUgYXJlbmFcbiAgICAgICAgaWYgKG9ic3RhY2xlLnBvc2l0aW9uLnogPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAob2JzdGFjbGUuZ2VvbWV0cnkuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBCb3ggYW5kIEN5bGluZGVyIG9iamVjdHNcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzdGFjbGUuZ2VvbWV0cnkuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JzdGFjbGUuZ2VvbWV0cnkucmFkaXVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBTcGhlcmUgb2JqZWN0c1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnN0YWNsZS5nZW9tZXRyeS5yYWRpdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JzdGFjbGUucG9zaXRpb24uejtcbiAgICB9XG5cbiAgICBkZWxldGVJZkV4aXN0cyhpZCkge1xuICAgICAgICAvLyBEZWxldGUgb2JzdGFjbGUgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3QgbmFtZSA9IE9CU1RBQ0xFX1BSRUZJWCArIGlkO1xuICAgICAgICBjb25zdCBvYnN0YWNsZSA9IHRoaXMuc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKG5hbWUpO1xuICAgICAgICBpZiAob2JzdGFjbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUob2JzdGFjbGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RlbGV0ZWQ+JywgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWxldGVBbGwoKSB7XG4gICAgICAgIC8vIERlbGV0ZSBhbGwgb2JzdGFjbGVzXG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLnNjZW5lLmNoaWxkcmVuO1xuICAgICAgICBPYmplY3QuZW50cmllcyhvYmplY3RzKS5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBvYmpbMV1bJ25hbWUnXTtcbiAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoT0JTVEFDTEVfUFJFRklYKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZWxldGVkPicsIG5hbWUpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUxhYmVsKG9ialsxXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUob2JqWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gTWFpbiB3ZWJHTCByZW5kZXJlciBjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBjb250YWluZXIpIHtcbiAgICAgICAgLy8gUHJvcGVydGllc1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgICAgIC8vIENyZWF0ZSBXZWJHTCByZW5kZXJlciBhbmQgc2V0IGl0cyBhbnRpYWxpYXNcbiAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbnRpYWxpYXM6IHRydWUgfSk7XG5cbiAgICAgICAgLy8gU2V0IGNsZWFyIGNvbG9yIHRvIGZvZyB0byBlbmFibGUgZm9nIG9yIHRvIGhleCBjb2xvciBmb3Igbm8gZm9nXG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmZvZy5jb2xvcik7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsgLy8gRm9yIHJldGluYVxuXG4gICAgICAgIC8vIEFwcGVuZHMgY2FudmFzXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRocmVlUmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgICAgICAgLy8gU2hhZG93IG1hcCBvcHRpb25zXG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cbiAgICAgICAgLy8gR2V0IGFuaXNvdHJvcHkgZm9yIHRleHR1cmVzXG4gICAgICAgIENvbmZpZy5tYXhBbmlzb3Ryb3B5ID0gdGhpcy50aHJlZVJlbmRlcmVyLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCk7XG5cbiAgICAgICAgLy8gSW5pdGlhbCBzaXplIHVwZGF0ZSBzZXQgdG8gY2FudmFzIGNvbnRhaW5lclxuICAgICAgICB0aGlzLnVwZGF0ZVNpemUoKTtcblxuICAgICAgICAvLyBMaXN0ZW5lcnNcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHRoaXMudXBkYXRlU2l6ZSgpLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNpemUoKSB7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRTaXplKHRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuICAgIH1cblxuICAgIHJlbmRlcihzY2VuZSwgY2FtZXJhKSB7XG4gICAgICAgIC8vIFJlbmRlcnMgc2NlbmUgdG8gY2FudmFzIHRhcmdldFxuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCBUV0VFTiwgeyB1cGRhdGUgfSBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuaW1wb3J0IHsgYWRkTGFiZWwsIHJlbW92ZUxhYmVsIH0gZnJvbSAnLi9sYWJlbCc7XG5cbnZhciBTVExMb2FkZXIgPSByZXF1aXJlKCd0aHJlZS1zdGwtbG9hZGVyJykoVEhSRUUpO1xuXG5jb25zdCBST0JPVF9QUkVGSVggPSAnUm9ib3RfJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9ib3Qge1xuICAgIGNvbnN0cnVjdG9yKHNjZW5lKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICAgICAgY29uc29sZS5sb2coJ1JvYm90IFJlYWxpdHk6JywgQ29uZmlnLm1peGVkUmVhbGl0eS5yb2JvdHMpO1xuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBjaGVjayBmb3IgZHVwbGljYXRlZCBpbnN0YW5jZXMgb2Ygcm9ib3RzIGFuZCBkZWxldGUgdGhlbVxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5jcmVhdGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYWxsIHBydW5lJyk7XG4gICAgICAgICAgICAgICAgdGhhdC5wcnVuZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAyNTAwKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VDb2xvcihpZCwgUiwgRywgQiwgYW1iaWVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLnNjZW5lLmdldE9iamVjdEJ5TmFtZShST0JPVF9QUkVGSVggKyBpZCk7XG4gICAgICAgIGlmIChyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgci5tYXRlcmlhbC5jb2xvci5zZXRSR0IoUiAvIDI1NiwgRyAvIDI1NiwgQiAvIDI2NSk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ29sb3I+IGlkOlwiLCBpZCwgXCIgfCBSOlwiLCBSLCBcIkc6XCIsIEcsIFwiQjpcIiwgQik7XG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjaygnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2UgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKCd1bmRlZmluZWQnKTtcblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICBjcmVhdGUoaWQsIHgsIHksIGhlYWRpbmcsIHJlYWxpdHkgPSAnVicsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5zY2VuZS5nZXRPYmplY3RCeU5hbWUoUk9CT1RfUFJFRklYICsgaWQpO1xuICAgICAgICBjb25zdCBSRUFMSVRZID0gQ29uZmlnLm1peGVkUmVhbGl0eS5yb2JvdHM7XG5cbiAgICAgICAgaWYgKHIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgb25seSBpZiBub3QgZXhpc3RzXG5cbiAgICAgICAgICAgIGlmIChyZWFsaXR5ID09PSBSRUFMSVRZIHx8IFJFQUxJVFkgPT09ICdNJykge1xuICAgICAgICAgICAgICAgIC8vIENhbiBjcmVhdGVcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0aGUgYXJlbmEgdGhhdCByb2JvdCBjYW4gZ29cbiAgICAgICAgICAgICAgICB4ID0gc2NlbmVfc2NhbGUgKiBNYXRoLm1pbihNYXRoLm1heCh4LCBDb25maWcuYXJlbmEubWluWCksIENvbmZpZy5hcmVuYS5tYXhYKTtcbiAgICAgICAgICAgICAgICB5ID0gc2NlbmVfc2NhbGUgKiBNYXRoLm1pbihNYXRoLm1heCh5LCBDb25maWcuYXJlbmEubWluWSksIENvbmZpZy5hcmVuYS5tYXhZKTtcblxuICAgICAgICAgICAgICAgIHZhciBsb2FkZXIgPSBuZXcgU1RMTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgbG9hZGVyLmxvYWQoJy4vYXNzZXRzL21vZGVscy9tb2RlbC5zdGwnLCBmdW5jdGlvbiAoZ2VvbWV0cnksIHNjZW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBsZXNzIG9wYWNpdHkgZm9yIHZpcnR1YWwgcm9ib3RzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSAxOyAvLyByZWFsaXR5ID09ICdWJyA/IDAuNSA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IDB4NjY2NjY2LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC51c2VyRGF0YS5vcmlnaW5hbENvbG9yID0gbmV3IFRIUkVFLkNvbG9yKDB4NjY2NjY2KTtcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwudXNlckRhdGEubGFiZWxWaXNpYmlsaXR5ID0gQ29uZmlnLmlzU2hvd2luZ0xhYmxlcyAmJiBDb25maWcubGFiZWxzVmlzaWJpbGl0eS5yb2JvdHM7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICByLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByLnJvYm90SWQgPSBpZDtcbiAgICAgICAgICAgICAgICAgICAgci5uYW1lID0gUk9CT1RfUFJFRklYICsgaWQ7XG4gICAgICAgICAgICAgICAgICAgIHIuc2NhbGUuc2V0KHNjZW5lX3NjYWxlLCBzY2VuZV9zY2FsZSwgc2NlbmVfc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICByLnBvc2l0aW9uLnNldCh4LCB5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgci5yb3RhdGlvbi54ID0gOTAgKiBUSFJFRS5NYXRoLkRFRzJSQUQ7XG4gICAgICAgICAgICAgICAgICAgIHIucm90YXRpb24ueSA9IChoZWFkaW5nIC0gOTApICogVEhSRUUuTWF0aC5ERUcyUkFEO1xuICAgICAgICAgICAgICAgICAgICByLnJlYWxpdHkgPSByZWFsaXR5OyAvLyBzZXQgcmVhbGl0eSBmbGFnXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWxpdHkgPT09ICdWJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0ZXJpYWwudmlzaWJsZSA9IENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcy52aXJ0dWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwub3BhY2l0eSA9IENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcy52aXJ0dWFsID8gMS4wIDogQ29uZmlnLmhpZGRlbk9wYWNpdHk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVhbGl0eSA9PT0gJ1InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYXRlcmlhbC52aXNpYmxlID0gQ29uZmlnLnNlbGVjdGVkUmVhbGl0aWVzLnJlYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gQ29uZmlnLnNlbGVjdGVkUmVhbGl0aWVzLnJlYWwgPyAxLjAgOiBDb25maWcuaGlkZGVuT3BhY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCByb2JvdCB0byB0aGUgc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjZW5lLmFkZChyKTtcblxuICAgICAgICAgICAgICAgICAgICByLmNsaWNrRXZlbnQgPSBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJvYm90LmFsZXJ0KG0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBsYWJlbHMgdG8gZXZlcnkgcm9ib3QsIGltbWVkaWF0ZWx5IGRpc3BsYXllZCBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIGFkZExhYmVsKFJPQk9UX1BSRUZJWCwgeyBpZCwgbmFtZTogci5uYW1lIH0sIHIsIENvbmZpZy5sYWJlbHNWaXNpYmlsaXR5LnJvYm90cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQ+IFJvYm90OiBpZDoke2lkfSB8IHg6JHt4fSB5OiAke3l9IGhlYWRpbmc6ICR7aGVhZGluZ30gfCByZWFsaXR5OiAke3JlYWxpdHl9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IHVuZGVmaW5lZCkgY2FsbGJhY2soJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ3JlYXRpb24gRmFpbGVkPiBSb2JvdDogaWQ6JHtpZH0gIHJlYWxpdHk6ICR7cmVhbGl0eX0hPSR7UkVBTElUWX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWFsaXR5ID09PSBSRUFMSVRZIHx8IFJFQUxJVFkgPT09ICdNJykge1xuICAgICAgICAgICAgLy8gUmVhbGl0eSBtYXRjaGVzXG5cbiAgICAgICAgICAgIHRoaXMuc2V0UmVhbGl0eShpZCwgcmVhbGl0eSk7XG4gICAgICAgICAgICB0aGlzLm1vdmUoaWQsIHgsIHksIGhlYWRpbmcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gdW5kZWZpbmVkKSBjYWxsYmFjaygnYWxyZWFkeSBkZWZpbmVkLCBzbyBtb3ZlZCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSb2JvdCByZWFsaXR5IG5vdCBtYXRjaGluZyB3aXRoIGVudmlyb25tZW50IHJlYWxpdHlcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlZCA9IHRydWU7IC8vIGFza2VkIHRvIHBydW5lIGluIG5leHQgY3ljbGVcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuXG4gICAgZGVsZXRlKGlkLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoaWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgciA9IHRoaXMuc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKFJPQk9UX1BSRUZJWCArIGlkKTtcblxuICAgICAgICAgICAgaWYgKHIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTGFiZWwocik7XG4gICAgICAgICAgICAgICAgc2NlbmUucmVtb3ZlKHIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZWxldGVkPiBpZDonLCBpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IHVuZGVmaW5lZCkgY2FsbGJhY2soJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2sgIT0gdW5kZWZpbmVkKSBjYWxsYmFjaygnbm90IGZvdW5kJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2sgIT0gdW5kZWZpbmVkKSBjYWxsYmFjaygnaWQgbm90IHNwZWNpZmllZCcpO1xuICAgIH1cblxuICAgIGRlbGV0ZUFsbCgpIHtcbiAgICAgICAgLy8gRGVsZXRlIGFsbCByb2JvdHNcbiAgICAgICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMuc2NlbmUuY2hpbGRyZW47XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMob2JqZWN0cykuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gb2JqWzFdWyduYW1lJ107XG5cbiAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoUk9CT1RfUFJFRklYKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZWxldGVkPicsIG5hbWUpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUxhYmVsKG9ialsxXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUob2JqWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UmVhbGl0eShpZCwgcmVhbGl0eSkge1xuICAgICAgICB2YXIgciA9IHRoaXMuc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKFJPQk9UX1BSRUZJWCArIGlkKTtcbiAgICAgICAgaWYgKHIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByLnJlYWxpdHkgPSByZWFsaXR5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4aXN0cyhpZCkge1xuICAgICAgICB2YXIgciA9IHRoaXMuc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKFJPQk9UX1BSRUZJWCArIGlkKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuXG4gICAgbW92ZShpZCwgeCwgeSwgaGVhZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLnNjZW5lLmdldE9iamVjdEJ5TmFtZShST0JPVF9QUkVGSVggKyBpZCk7XG4gICAgICAgIGlmIChyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEhlYWRpbmcgPSByLnJvdGF0aW9uLnk7XG4gICAgICAgICAgICBjb25zdCBuZXdIZWFkaW5nID0gKGhlYWRpbmcgLSA5MCkgKiBUSFJFRS5NYXRoLkRFRzJSQUQ7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB7IHg6IHIucG9zaXRpb24ueCwgeTogci5wb3NpdGlvbi55LCBoZWFkaW5nOiByLnJvdGF0aW9uLnkgfTtcblxuICAgICAgICAgICAgLy8gVE9ETzogbmVlZCBhIHNtb290aGVyIHdheSB0aGFuIHRoaXMgcm91Z2ggdHJpY2tcbiAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgYW5kIHRhcmdldCByb3RhdGlvbnMgaW4gZGlmZmVyZW50IHNpZ25zXG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbkZsYWcgPSBjdXJyZW50SGVhZGluZyAqIG5ld0hlYWRpbmcgPj0gMCA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTGltaXQgdGhlIGFyZW5hIHRoYXQgcm9ib3QgY2FuIGdvXG4gICAgICAgICAgICB4ID0gc2NlbmVfc2NhbGUgKiBNYXRoLm1pbihNYXRoLm1heChNYXRoLnJvdW5kKHggKiAxMCkgLyAxMCwgQ29uZmlnLmFyZW5hLm1pblgpLCBDb25maWcuYXJlbmEubWF4WCk7XG4gICAgICAgICAgICB5ID0gc2NlbmVfc2NhbGUgKiBNYXRoLm1pbihNYXRoLm1heChNYXRoLnJvdW5kKHkgKiAxMCkgLyAxMCwgQ29uZmlnLmFyZW5hLm1pblkpLCBDb25maWcuYXJlbmEubWF4WSk7XG4gICAgICAgICAgICBoZWFkaW5nID0gTWF0aC5yb3VuZChoZWFkaW5nICogMTApIC8gMTA7XG5cbiAgICAgICAgICAgIC8vIGNvbnN0IHNwZWVkID0gMTA7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh4IC0gcG9zaXRpb24ueCwgMikgKyBNYXRoLnBvdyh5IC0gcG9zaXRpb24ueSwgMikpO1xuXG4gICAgICAgICAgICBjb25zdCBtb3ZlVGltZSA9IDE7IC8vZGlzdGFuY2UgLyBzcGVlZDtcbiAgICAgICAgICAgIC8vIFRPRE86IElmIGRpc3RhbmNlIGlzIDAsIG5lZWQgdG8gaGFuZGxlIG9ubHkgdGhlIHJvdGF0aW9uXG5cbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR3ZWVuID0gbmV3IFRXRUVOLlR3ZWVuKHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICAudG8oeyB4OiB4LCB5OiB5LCBoZWFkaW5nOiBuZXdIZWFkaW5nIH0sIDEwMDAgKiBtb3ZlVGltZSlcbiAgICAgICAgICAgICAgICAgICAgLyouZWFzaW5nKFRXRUVOLkVhc2luZy5RdWFydGljLkluT3V0KSovXG4gICAgICAgICAgICAgICAgICAgIC5vblVwZGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgICAgICAgICAgICAgci5wb3NpdGlvbi55ID0gcG9zaXRpb24ueTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdGF0aW9uRmxhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIucm90YXRpb24ueSA9IHBvc2l0aW9uLmhlYWRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coY3VycmVudEhlYWRpbmcsIG5ld0hlYWRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAub25Db21wbGV0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdNb3ZlZD4gaWQ6JyxpZCwneDonLHgsJ3k6Jyx5LCdoZWFkaW5nOicsaGVhZGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnJvdGF0aW9uLnkgPSBwb3NpdGlvbi5oZWFkaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKCdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5kZWxheSg1MClcbiAgICAgICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vIG1vdmUsIG9ubHkgdGhlIHJvdGF0aW9uXG4gICAgICAgICAgICAgICAgci5yb3RhdGlvbi55ID0gbmV3SGVhZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjaygndW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgZ2V0X2Nvb3JkaW5hdGVzKGlkKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5zY2VuZS5nZXRPYmplY3RCeU5hbWUoUk9CT1RfUFJFRklYICsgaWQpO1xuICAgICAgICBpZiAociAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3IucG9zaXRpb24ueH0sJHtyLnBvc2l0aW9uLnl9LCR7ci5wb3NpdGlvbi56fWApO1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBUV0VFTi51cGRhdGUoKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0U25hcHNob3QobWVzaCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxID0gd2luZG93Lm1xdHQucHVibGlzaChcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2hhbm5lbCArICcvbWd0L3JvYm90cy9zbmFwc2hvdCcsXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyBpZDogbWVzaC5yb2JvdElkIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZSghcmVxKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWxlcnQobWVzaCkge1xuICAgICAgICAvLyBEaXNwbGF5IGFuIGFsZXJ0IG9uIHdpbmRvd1xuICAgICAgICBjb25zdCBkaXNwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZy1ib3gnKTtcbiAgICAgICAgY29uc3QgcHJldkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXNnLWNvbnRlbnQnKTtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21zZy1jb250ZW50Jyk7XG4gICAgICAgIGxldCBub2RlQ29udGVudDtcbiAgICAgICAgaWYgKENvbmZpZy5pc1Nob3dpbmdSb2JvdFNuYXBzaG90cykge1xuICAgICAgICAgICAgbm9kZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHttZXNoLm5hbWV9IFNuYXBzaG90IExvYWRpbmcuLi5gKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFNuYXBzaG90KG1lc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHttZXNoLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlQ29udGVudCk7XG4gICAgICAgIGRpc3AucmVwbGFjZUNoaWxkKGNvbnRlbnQsIHByZXZDb250ZW50KTtcbiAgICAgICAgZGlzcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaXNwLnN0eWxlLm9wYWNpdHkgPSAnMS4wJztcbiAgICAgICAgICAgIGRpc3Auc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSwgMTAwMDApO1xuICAgIH1cblxuICAgIHBydW5lKCkge1xuICAgICAgICAvLyBEZWxldGUgYWxsIGR1cGxpY2F0ZSByb2JvdHNcbiAgICAgICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMuc2NlbmUuY2hpbGRyZW47XG4gICAgICAgIGxldCB2YWxpZCA9IFtdO1xuICAgICAgICBPYmplY3QuZW50cmllcyhvYmplY3RzKS5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBvYmpbMV1bJ25hbWUnXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2luZzogJywgbmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoUk9CT1RfUFJFRklYKSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZFtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcmsgYXMgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRbbmFtZV0gPSAndmFsaWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBkdXBsaWNhdGVcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cob2JqWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGFiZWwob2JqWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUob2JqWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmFtZSwgJzogZHVwbGljYXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBWZXJ0ZXhOb3JtYWxzSGVscGVyIH0gZnJvbSAnLi92ZXJ0ZXhOb3JtYWxzSGVscGVyJztcblxuLy8gU2ltcGxlIG1lc2ggaGVscGVyIHRoYXQgc2hvd3MgZWRnZXMsIHdpcmVmcmFtZXMsIGFuZCBmYWNlIGFuZCB2ZXJ0ZXggbm9ybWFsc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzaEhlbHBlciB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIG1lc2gpIHtcbiAgICAgICAgdGhpcy5tZXNoID0gbWVzaDtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuXG4gICAgICAgIGNvbnN0IHdpcmVmcmFtZSA9IG5ldyBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSh0aGlzLm1lc2guZ2VvbWV0cnkpO1xuICAgICAgICB0aGlzLndpcmVMaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyh3aXJlZnJhbWUpO1xuICAgICAgICB0aGlzLndpcmVMaW5lLm1hdGVyaWFsLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLndpcmVMaW5lLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjI1O1xuICAgICAgICB0aGlzLndpcmVMaW5lLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBlZGdlcyA9IG5ldyBUSFJFRS5FZGdlc0dlb21ldHJ5KHRoaXMubWVzaC5nZW9tZXRyeSk7XG4gICAgICAgIHRoaXMuZWRnZXNMaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhlZGdlcyk7XG4gICAgICAgIHRoaXMuZWRnZXNMaW5lLm1hdGVyaWFsLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVkZ2VzTGluZS5tYXRlcmlhbC5vcGFjaXR5ID0gMC4yNTtcbiAgICAgICAgdGhpcy5lZGdlc0xpbmUubWF0ZXJpYWwudHJhbnNwYXJlbnQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudmVydGV4SGVscGVyID0gbmV3IFZlcnRleE5vcm1hbHNIZWxwZXIodGhpcy5tZXNoLCAyKTtcbiAgICAgICAgdGhpcy5ib3hIZWxwZXIgPSBuZXcgVEhSRUUuQm94SGVscGVyKHRoaXMubWVzaCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLm1lc2guYWRkKHRoaXMud2lyZUxpbmUpO1xuICAgICAgICB0aGlzLm1lc2guYWRkKHRoaXMuZWRnZXNMaW5lKTtcblxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnZlcnRleEhlbHBlcik7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYm94SGVscGVyKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICB0aGlzLm1lc2gucmVtb3ZlKHRoaXMud2lyZUxpbmUpO1xuICAgICAgICB0aGlzLm1lc2gucmVtb3ZlKHRoaXMuZWRnZXNMaW5lKTtcblxuICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLnZlcnRleEhlbHBlcik7XG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMuYm94SGVscGVyKTtcbiAgICB9XG59XG4iLCIvLyBjb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcblxuZnVuY3Rpb24gZ2V0VXJsVmFycygpIHtcbiAgICB2YXIgdmFycyA9IHt9O1xuICAgIHZhciBwYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoL1s/Jl0rKFtePSZdKyk9KFteJl0qKS9naSwgZnVuY3Rpb24gKG0sIGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyc1trZXldID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhcnM7XG59XG5cbmZ1bmN0aW9uIGdldFVybFBhcmFtKHBhcmFtZXRlciwgZGVmYXVsdHZhbHVlKSB7XG4gICAgdmFyIHVybHBhcmFtZXRlciA9IGRlZmF1bHR2YWx1ZTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihwYXJhbWV0ZXIpID4gLTEpIHtcbiAgICAgICAgdXJscGFyYW1ldGVyID0gZ2V0VXJsVmFycygpW3BhcmFtZXRlcl07XG4gICAgfVxuICAgIHJldHVybiB1cmxwYXJhbWV0ZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDcmVkZW50aWFscygpIHtcbiAgICAvLyBUT0RPOiBBZGQgY2hhbm5lbCwgaG9zdCBhbmQgcG9ydCBpbnRvIFVSTCAoYXMgb3B0aW9uYWwgcGFyYW1ldGVycylcbiAgICAvLyBTdWdnZXN0aW9uOiBVc2UgSldUIGluc3RlZCBvZiBleHBvc2VkIGNyZWRlbnRpYWxzXG4gICAgLy8gU2ltdWxhdG9yIHNlcnZlciBjYW4gcHJvdmlkZSB0aGUgSldUIHRva2VuXG4gICAgY29uc3Qgc3RvcmVkQ3JlZGVudGlhbHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyYS1zd2FybS1jcmVkZW50aWFscycpO1xuICAgIGNvbnN0IGtleSA9IGdldFVybFBhcmFtKCdrZXknLCBmYWxzZSk7XG5cbiAgICBjb25zdCB1c2VybmFtZSA9IGdldFVybFBhcmFtKCd1c2VybmFtZScsIGZhbHNlKTtcbiAgICBjb25zdCBwYXNzd29yZCA9IGdldFVybFBhcmFtKCdwYXNzd29yZCcsIGZhbHNlKTtcbiAgICBjb25zdCBjaGFubmVsID0gZ2V0VXJsUGFyYW0oJ2NoYW5uZWwnLCBmYWxzZSk7XG4gICAgY29uc3QgcG9ydCA9IGdldFVybFBhcmFtKCdwb3J0JywgZmFsc2UpO1xuICAgIGNvbnN0IHNlcnZlciA9IGdldFVybFBhcmFtKCdzZXJ2ZXInLCBmYWxzZSk7XG4gICAgY2xlYXJQYXJhbXMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoc2VydmVyICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlcmEtc3dhcm0tc2VydmVyJywgc2VydmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbm5lbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJhLXN3YXJtLWNoYW5uZWwnLCBjaGFubmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9ydCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJhLXN3YXJtLXBvcnQnLCBwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlcmEtc3dhcm0ta2V5Jywga2V5KTtcbiAgICAgICAgfVxuICAgIH0sIDIwMDApO1xuXG4gICAgLy8gTG9hZCB0aGUgY3JlZGVudGFpbHNcbiAgICBpZiAoa2V5ICE9PSBmYWxzZSkge1xuICAgICAgICAvLyBIYXZpbmcgSldUIFRva2VuXG4gICAgICAgIC8vIFRPRE86IG1hbmFnZSB0b2tlbiBleHBpcmluZ1xuXG4gICAgICAgIC8vIERlZmF1bHQ6IGV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSlNVekkxTmlKOS5leUpqY21WaGRHVmtRWFFpT2lJeU1ESXhMVEEwTFRFMUlERXlPalUwT2pJMElpd2laWGh3YVhKbFpFRjBJam9pTWpBeU1TMHdOQzB4TlNBd01UbzFORG95TkNJc0ltaHZjM1FpT2lKM1pXSnpaWEoyYVdObGN5NWpaWGxyYjJRdVkyOXRJaXdpY0c5eWRDSTZPRGc0TXl3aWNHRjBhQ0k2SWx3dmJYRjBkQ0lzSW1Ob1lXNXVaV3dpT2lKMk1TSXNJblZ6WlhJaU9pSnpkMkZ5YlY5MWMyVnlJaXdpY0dGemN5STZJbk4zWVhKdFgzVnpaWEpsTVRVaWZRLkYxanFIeXUxakUwelRhMDN5WVR3d2R5OEFKb2ZCTFhXTHZZTVlMTmxuYTZkVWpUa3o2V2R0d2pCY3JGX3pEQVJNOTVyNjdSeWtPaVdKQ0hEaVdNNTJNUUZ4M0VpdnFUWVVObkE1ZnlOZnNkSmdyQlIwcTdlRVNNMjhNVFNGb3huVmk3bWVtSUtDU25ranUzcURSWnVaWmRCNWphTFAyQllnN2lwZ0VGenQ3RVxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlZGVudGFpbHM6IExvYWRlZCBmcm9tIEpXVCcpO1xuXG4gICAgICAgIC8vIGNvbnN0IGNyZWRlbnRpYWxzID0gcGFyc2VKd3Qoa2V5KTtcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSAnJzsgLy9jcmVkZW50aWFscy51c2VyO1xuICAgICAgICBjb25zdCBwYXNzd29yZCA9ICcnOyAvL2NyZWRlbnRpYWxzLnBhc3M7XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSAnJzsgLy9jcmVkZW50aWFscy5jaGFubmVsO1xuXG4gICAgICAgIC8vIGlmIChjcmVkZW50aWFscy5ob3N0ICE9PSB1bmRlZmluZWQpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJhLXN3YXJtLXNlcnZlcicsIGNyZWRlbnRpYWxzLmhvc3QpO1xuICAgICAgICAvLyBpZiAoY3JlZGVudGlhbHMucG9ydCAhPT0gdW5kZWZpbmVkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVyYS1zd2FybS1wb3J0JywgcGFyc2VJbnQoY3JlZGVudGlhbHMucG9ydCkpO1xuICAgICAgICAvLyBpZiAoY3JlZGVudGlhbHMucGF0aCAhPT0gdW5kZWZpbmVkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVyYS1zd2FybS1wYXRoJywgY3JlZGVudGlhbHMucGF0aCk7XG4gICAgICAgIC8vIGlmIChjcmVkZW50aWFscy5jaGFubmVsICE9PSB1bmRlZmluZWQpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJhLXN3YXJtLWNoYW5uZWwnLCBjcmVkZW50aWFscy5jaGFubmVsKTtcblxuICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVyYS1zd2FybS1jcmVkZW50aWFscycsIEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUsIHBhc3N3b3JkLCBjaGFubmVsIH0pKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgIGNoYW5uZWxcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHVzZXJuYW1lICE9PSBmYWxzZSAmJiBwYXNzd29yZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgLy8gSGF2aW5nIFVSTCBwYXJhbWV0ZXJzXG4gICAgICAgIGNvbnNvbGUubG9nKCdDcmVkZW50YWlsczogTG9hZGVkIGZyb20gVVJMIHBhcmFtZXRlcnMnKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlcmEtc3dhcm0tY3JlZGVudGlhbHMnLCBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lLCBwYXNzd29yZCwgY2hhbm5lbCB9KSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgY2hhbm5lbFxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAodXNlcm5hbWUgPT09IGZhbHNlICYmIHBhc3N3b3JkID09PSBmYWxzZSAmJiBzdG9yZWRDcmVkZW50aWFscyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBIYXZpbmcgc3RvcmVkIGNyZWRlbnRpYWxzXG4gICAgICAgIGNvbnNvbGUubG9nKCdDcmVkZW50YWlsczogTG9hZGVkIGZyb20gbG9jYWwgc3RvcmFnZScpO1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdG9yZWRDcmVkZW50aWFscyk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VKd3QodG9rZW4pIHtcbiAgICB2YXIgYmFzZTY0VXJsID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgdmFyIGpzb25QYXlsb2FkID0gZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICBhdG9iKGJhc2U2NClcbiAgICAgICAgICAgIC5zcGxpdCgnJylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyUnICsgKCcwMCcgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJycpXG4gICAgKTtcblxuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25QYXlsb2FkKTtcbn1cblxuZnVuY3Rpb24gY2xlYXJQYXJhbXMoKSB7XG4gICAgY29uc3QgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUtleSgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgJ3N3YXJtLXZpc3VhbGl6ZXItc2VjcmV0Jyk7XG4gICAgICAgIHJldHVybiBkZWNvZGVkO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBlcnJcbiAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIEVycm9yJyk7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKiBAYXV0aG9yIFdlc3RMYW5nbGV5IC8gaHR0cDovL2dpdGh1Yi5jb20vV2VzdExhbmdsZXlcbiAqL1xuXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeSwgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSwgTGluZVNlZ21lbnRzLCBMaW5lQmFzaWNNYXRlcmlhbCwgTWF0cml4MywgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcblxuY29uc3QgX3YxID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IF92MiA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBfbm9ybWFsTWF0cml4ID0gbmV3IE1hdHJpeDMoKTtcbmNvbnN0IF9rZXlzID0gWydhJywgJ2InLCAnYyddO1xuXG5mdW5jdGlvbiBWZXJ0ZXhOb3JtYWxzSGVscGVyKG9iamVjdCwgc2l6ZSwgaGV4KSB7XG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5zaXplID0gc2l6ZSAhPT0gdW5kZWZpbmVkID8gc2l6ZSA6IDAuMTtcblxuICAgIGNvbnN0IGNvbG9yID0gaGV4ICE9PSB1bmRlZmluZWQgPyBoZXggOiAweGZmMDAwMDtcblxuICAgIC8vXG5cbiAgICBsZXQgbk5vcm1hbHMgPSAwO1xuXG4gICAgY29uc3Qgb2JqR2VvbWV0cnkgPSB0aGlzLm9iamVjdC5nZW9tZXRyeTtcblxuICAgIGlmIChvYmpHZW9tZXRyeSAmJiBvYmpHZW9tZXRyeS5pc0dlb21ldHJ5KSB7XG4gICAgICAgIG5Ob3JtYWxzID0gb2JqR2VvbWV0cnkuZmFjZXMubGVuZ3RoICogMztcbiAgICB9IGVsc2UgaWYgKG9iakdlb21ldHJ5ICYmIG9iakdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpIHtcbiAgICAgICAgbk5vcm1hbHMgPSBvYmpHZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbC5jb3VudDtcbiAgICB9XG5cbiAgICAvL1xuXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQnVmZmVyR2VvbWV0cnkoKTtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShuTm9ybWFscyAqIDIgKiAzLCAzKTtcblxuICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBwb3NpdGlvbnMpO1xuXG4gICAgTGluZVNlZ21lbnRzLmNhbGwodGhpcywgZ2VvbWV0cnksIG5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBjb2xvciwgdG9uZU1hcHBlZDogZmFsc2UgfSkpO1xuXG4gICAgdGhpcy50eXBlID0gJ1ZlcnRleE5vcm1hbHNIZWxwZXInO1xuXG4gICAgLy9cblxuICAgIHRoaXMubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgdGhpcy51cGRhdGUoKTtcbn1cblxuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExpbmVTZWdtZW50cy5wcm90b3R5cGUpO1xuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWZXJ0ZXhOb3JtYWxzSGVscGVyO1xuXG5WZXJ0ZXhOb3JtYWxzSGVscGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGlkeDtcbiAgICB0aGlzLm9iamVjdC51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTtcblxuICAgIF9ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KHRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkKTtcblxuICAgIGNvbnN0IG1hdHJpeFdvcmxkID0gdGhpcy5vYmplY3QubWF0cml4V29ybGQ7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cbiAgICAvL1xuXG4gICAgY29uc3Qgb2JqR2VvbWV0cnkgPSB0aGlzLm9iamVjdC5nZW9tZXRyeTtcblxuICAgIGlmIChvYmpHZW9tZXRyeSAmJiBvYmpHZW9tZXRyeS5pc0dlb21ldHJ5KSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gb2JqR2VvbWV0cnkudmVydGljZXM7XG5cbiAgICAgICAgY29uc3QgZmFjZXMgPSBvYmpHZW9tZXRyeS5mYWNlcztcblxuICAgICAgICBpZHggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZmFjZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqbCA9IGZhY2UudmVydGV4Tm9ybWFscy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGV4ID0gdmVydGljZXNbZmFjZVtfa2V5c1tqXV1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IGZhY2UudmVydGV4Tm9ybWFsc1tqXTtcblxuICAgICAgICAgICAgICAgIF92MS5jb3B5KHZlcnRleCkuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtcbiAgICAgICAgICAgICAgICBfdjIuY29weShub3JtYWwpLmFwcGx5TWF0cml4Myhfbm9ybWFsTWF0cml4KS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpLmFkZChfdjEpO1xuXG4gICAgICAgICAgICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YxLngsIF92MS55LCBfdjEueik7XG5cbiAgICAgICAgICAgICAgICBpZHggPSBpZHggKyAxO1xuXG4gICAgICAgICAgICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YyLngsIF92Mi55LCBfdjIueik7XG5cbiAgICAgICAgICAgICAgICBpZHggPSBpZHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmpHZW9tZXRyeSAmJiBvYmpHZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KSB7XG4gICAgICAgIGNvbnN0IG9ialBvcyA9IG9iakdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9iak5vcm0gPSBvYmpHZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbDtcblxuICAgICAgICBpZHggPSAwO1xuXG4gICAgICAgIC8vIGZvciBzaW1wbGljaXR5LCBpZ25vcmUgaW5kZXggYW5kIGRyYXdjYWxscywgYW5kIHJlbmRlciBldmVyeSBub3JtYWxcblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSBvYmpQb3MuY291bnQ7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgICBfdjEuc2V0KG9ialBvcy5nZXRYKGopLCBvYmpQb3MuZ2V0WShqKSwgb2JqUG9zLmdldFooaikpLmFwcGx5TWF0cml4NChtYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICBfdjIuc2V0KG9iak5vcm0uZ2V0WChqKSwgb2JqTm9ybS5nZXRZKGopLCBvYmpOb3JtLmdldFooaikpO1xuICAgICAgICAgICAgX3YyLmFwcGx5TWF0cml4Myhfbm9ybWFsTWF0cml4KS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpLmFkZChfdjEpO1xuXG4gICAgICAgICAgICBwb3NpdGlvbi5zZXRYWVooaWR4LCBfdjEueCwgX3YxLnksIF92MS56KTtcblxuICAgICAgICAgICAgaWR4ID0gaWR4ICsgMTtcblxuICAgICAgICAgICAgcG9zaXRpb24uc2V0WFlaKGlkeCwgX3YyLngsIF92Mi55LCBfdjIueik7XG5cbiAgICAgICAgICAgIGlkeCA9IGlkeCArIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XG59O1xuXG5leHBvcnQgeyBWZXJ0ZXhOb3JtYWxzSGVscGVyIH07XG4iLCIvKipcbiAqIEBhdXRob3IgUmljaCBUaWJiZXR0IC8gaHR0cHM6Ly9naXRodWIuY29tL3JpY2h0clxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqIEBhdXRob3IgVG9ueSBQYXJpc2kgLyBodHRwOi8vd3d3LnRvbnlwYXJpc2kuY29tL1xuICogQGF1dGhvciBUYWthaGlybyAvIGh0dHBzOi8vZ2l0aHViLmNvbS90YWthaGlyb3hcbiAqIEBhdXRob3IgRG9uIE1jQ3VyZHkgLyBodHRwczovL3d3dy5kb25tY2N1cmR5LmNvbVxuICovXG5cbmltcG9ydCB7XG4gICAgQW5pbWF0aW9uQ2xpcCxcbiAgICBCb25lLFxuICAgIEJveDMsXG4gICAgQnVmZmVyQXR0cmlidXRlLFxuICAgIEJ1ZmZlckdlb21ldHJ5LFxuICAgIENsYW1wVG9FZGdlV3JhcHBpbmcsXG4gICAgQ29sb3IsXG4gICAgRGlyZWN0aW9uYWxMaWdodCxcbiAgICBEb3VibGVTaWRlLFxuICAgIEZpbGVMb2FkZXIsXG4gICAgRnJvbnRTaWRlLFxuICAgIEdyb3VwLFxuICAgIEludGVybGVhdmVkQnVmZmVyLFxuICAgIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxuICAgIEludGVycG9sYW50LFxuICAgIEludGVycG9sYXRlRGlzY3JldGUsXG4gICAgSW50ZXJwb2xhdGVMaW5lYXIsXG4gICAgTGluZSxcbiAgICBMaW5lQmFzaWNNYXRlcmlhbCxcbiAgICBMaW5lTG9vcCxcbiAgICBMaW5lU2VnbWVudHMsXG4gICAgTGluZWFyRmlsdGVyLFxuICAgIExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcbiAgICBMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICAgIExvYWRlcixcbiAgICBMb2FkZXJVdGlscyxcbiAgICBNYXRlcmlhbCxcbiAgICBNYXRoVXRpbHMsXG4gICAgTWF0cml4NCxcbiAgICBNZXNoLFxuICAgIE1lc2hCYXNpY01hdGVyaWFsLFxuICAgIE1lc2hQaHlzaWNhbE1hdGVyaWFsLFxuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLFxuICAgIE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG4gICAgTmVhcmVzdEZpbHRlcixcbiAgICBOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyLFxuICAgIE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICAgIE51bWJlcktleWZyYW1lVHJhY2ssXG4gICAgT2JqZWN0M0QsXG4gICAgT3J0aG9ncmFwaGljQ2FtZXJhLFxuICAgIFBlcnNwZWN0aXZlQ2FtZXJhLFxuICAgIFBvaW50TGlnaHQsXG4gICAgUG9pbnRzLFxuICAgIFBvaW50c01hdGVyaWFsLFxuICAgIFByb3BlcnR5QmluZGluZyxcbiAgICBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxcbiAgICBSR0JBRm9ybWF0LFxuICAgIFJHQkZvcm1hdCxcbiAgICBSZXBlYXRXcmFwcGluZyxcbiAgICBTa2VsZXRvbixcbiAgICBTa2lubmVkTWVzaCxcbiAgICBTcGhlcmUsXG4gICAgU3BvdExpZ2h0LFxuICAgIFRhbmdlbnRTcGFjZU5vcm1hbE1hcCxcbiAgICBUZXh0dXJlTG9hZGVyLFxuICAgIFRyaWFuZ2xlRmFuRHJhd01vZGUsXG4gICAgVHJpYW5nbGVTdHJpcERyYXdNb2RlLFxuICAgIFZlY3RvcjIsXG4gICAgVmVjdG9yMyxcbiAgICBWZWN0b3JLZXlmcmFtZVRyYWNrLFxuICAgIHNSR0JFbmNvZGluZ1xufSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IEdMVEZMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMVEZMb2FkZXIobWFuYWdlcikge1xuICAgICAgICBMb2FkZXIuY2FsbCh0aGlzLCBtYW5hZ2VyKTtcblxuICAgICAgICB0aGlzLmRyYWNvTG9hZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZHNMb2FkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIEdMVEZMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiBHTFRGTG9hZGVyLFxuXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvcikge1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHJlc291cmNlUGF0aDtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VQYXRoICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHJlc291cmNlUGF0aCA9IHRoaXMucmVzb3VyY2VQYXRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhdGggIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZVBhdGggPSBMb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSh1cmwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUZWxscyB0aGUgTG9hZGluZ01hbmFnZXIgdG8gdHJhY2sgYW4gZXh0cmEgaXRlbSwgd2hpY2ggcmVzb2x2ZXMgYWZ0ZXJcbiAgICAgICAgICAgIC8vIHRoZSBtb2RlbCBpcyBmdWxseSBsb2FkZWQuIFRoaXMgbWVhbnMgdGhlIGNvdW50IG9mIGl0ZW1zIGxvYWRlZCB3aWxsXG4gICAgICAgICAgICAvLyBiZSBpbmNvcnJlY3QsIGJ1dCBlbnN1cmVzIG1hbmFnZXIub25Mb2FkKCkgZG9lcyBub3QgZmlyZSBlYXJseS5cbiAgICAgICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7XG5cbiAgICAgICAgICAgIHZhciBfb25FcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7XG4gICAgICAgICAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoc2NvcGUubWFuYWdlcik7XG5cbiAgICAgICAgICAgIGxvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7XG4gICAgICAgICAgICBsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGUuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9hZGVyLmxvYWQoXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkxvYWQoZ2x0Zik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb25FcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29uRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgX29uRXJyb3JcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0RFJBQ09Mb2FkZXI6IGZ1bmN0aW9uIChkcmFjb0xvYWRlcikge1xuICAgICAgICAgICAgdGhpcy5kcmFjb0xvYWRlciA9IGRyYWNvTG9hZGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0RERTTG9hZGVyOiBmdW5jdGlvbiAoZGRzTG9hZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRkc0xvYWRlciA9IGRkc0xvYWRlcjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZGF0YSwgcGF0aCwgb25Mb2FkLCBvbkVycm9yKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudDtcbiAgICAgICAgICAgIHZhciBleHRlbnNpb25zID0ge307XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gZGF0YTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hZ2ljID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLCAwLCA0KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWFnaWMgPT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGXSA9IG5ldyBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uRXJyb3IpIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICBpZiAoanNvbi5hc3NldCA9PT0gdW5kZWZpbmVkIHx8IGpzb24uYXNzZXQudmVyc2lvblswXSA8IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAob25FcnJvcilcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGpzb24uZXh0ZW5zaW9uc1VzZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb24uZXh0ZW5zaW9uc1VzZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dGVuc2lvbk5hbWUgPSBqc29uLmV4dGVuc2lvbnNVc2VkW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChleHRlbnNpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZMaWdodHNFeHRlbnNpb24oanNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbihqc29uLCB0aGlzLmRyYWNvTG9hZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGVGV4dHVyZUREU0V4dGVuc2lvbih0aGlzLmRkc0xvYWRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk06XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01FU0hfUVVBTlRJWkFUSU9OOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoZXh0ZW5zaW9uTmFtZSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uIFwiJyArIGV4dGVuc2lvbk5hbWUgKyAnXCIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIHBhdGg6IHBhdGggfHwgdGhpcy5yZXNvdXJjZVBhdGggfHwgJycsXG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgbWFuYWdlcjogdGhpcy5tYW5hZ2VyXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcGFyc2VyLnBhcnNlKG9uTG9hZCwgb25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qIEdMVEZSRUdJU1RSWSAqL1xuXG4gICAgZnVuY3Rpb24gR0xURlJlZ2lzdHJ5KCkge1xuICAgICAgICB2YXIgb2JqZWN0cyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0c1trZXldO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoa2V5LCBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RzW2tleV0gPSBvYmplY3Q7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0c1trZXldO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0cyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLyoqKioqKioqKiogRVhURU5TSU9OUyAqKioqKioqKioqKi9cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgdmFyIEVYVEVOU0lPTlMgPSB7XG4gICAgICAgIEtIUl9CSU5BUllfR0xURjogJ0tIUl9iaW5hcnlfZ2xURicsXG4gICAgICAgIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOiAnS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24nLFxuICAgICAgICBLSFJfTElHSFRTX1BVTkNUVUFMOiAnS0hSX2xpZ2h0c19wdW5jdHVhbCcsXG4gICAgICAgIEtIUl9NQVRFUklBTFNfQ0xFQVJDT0FUOiAnS0hSX21hdGVyaWFsc19jbGVhcmNvYXQnLFxuICAgICAgICBLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOiAnS0hSX21hdGVyaWFsc19wYnJTcGVjdWxhckdsb3NzaW5lc3MnLFxuICAgICAgICBLSFJfTUFURVJJQUxTX1VOTElUOiAnS0hSX21hdGVyaWFsc191bmxpdCcsXG4gICAgICAgIEtIUl9URVhUVVJFX1RSQU5TRk9STTogJ0tIUl90ZXh0dXJlX3RyYW5zZm9ybScsXG4gICAgICAgIEtIUl9NRVNIX1FVQU5USVpBVElPTjogJ0tIUl9tZXNoX3F1YW50aXphdGlvbicsXG4gICAgICAgIE1TRlRfVEVYVFVSRV9ERFM6ICdNU0ZUX3RleHR1cmVfZGRzJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBERFMgVGV4dHVyZSBFeHRlbnNpb25cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9WZW5kb3IvTVNGVF90ZXh0dXJlX2Rkc1xuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gR0xURlRleHR1cmVERFNFeHRlbnNpb24oZGRzTG9hZGVyKSB7XG4gICAgICAgIGlmICghZGRzTG9hZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IEF0dGVtcHRpbmcgdG8gbG9hZCAuZGRzIHRleHR1cmUgd2l0aG91dCBpbXBvcnRpbmcgRERTTG9hZGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM7XG4gICAgICAgIHRoaXMuZGRzTG9hZGVyID0gZGRzTG9hZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1bmN0dWFsIExpZ2h0cyBFeHRlbnNpb25cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9saWdodHNfcHVuY3R1YWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHTFRGTGlnaHRzRXh0ZW5zaW9uKGpzb24pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMO1xuXG4gICAgICAgIHZhciBleHRlbnNpb24gPSAoanNvbi5leHRlbnNpb25zICYmIGpzb24uZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUxdKSB8fCB7fTtcbiAgICAgICAgdGhpcy5saWdodERlZnMgPSBleHRlbnNpb24ubGlnaHRzIHx8IFtdO1xuICAgIH1cblxuICAgIEdMVEZMaWdodHNFeHRlbnNpb24ucHJvdG90eXBlLmxvYWRMaWdodCA9IGZ1bmN0aW9uIChsaWdodEluZGV4KSB7XG4gICAgICAgIHZhciBsaWdodERlZiA9IHRoaXMubGlnaHREZWZzW2xpZ2h0SW5kZXhdO1xuICAgICAgICB2YXIgbGlnaHROb2RlO1xuXG4gICAgICAgIHZhciBjb2xvciA9IG5ldyBDb2xvcigweGZmZmZmZik7XG4gICAgICAgIGlmIChsaWdodERlZi5jb2xvciAhPT0gdW5kZWZpbmVkKSBjb2xvci5mcm9tQXJyYXkobGlnaHREZWYuY29sb3IpO1xuXG4gICAgICAgIHZhciByYW5nZSA9IGxpZ2h0RGVmLnJhbmdlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5yYW5nZSA6IDA7XG5cbiAgICAgICAgc3dpdGNoIChsaWdodERlZi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XG4gICAgICAgICAgICAgICAgbGlnaHROb2RlID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoY29sb3IpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm9kZS50YXJnZXQucG9zaXRpb24uc2V0KDAsIDAsIC0xKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdwb2ludCc6XG4gICAgICAgICAgICAgICAgbGlnaHROb2RlID0gbmV3IFBvaW50TGlnaHQoY29sb3IpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzcG90JzpcbiAgICAgICAgICAgICAgICBsaWdodE5vZGUgPSBuZXcgU3BvdExpZ2h0KGNvbG9yKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3BvdGxpZ2h0IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgbGlnaHREZWYuc3BvdCA9IGxpZ2h0RGVmLnNwb3QgfHwge307XG4gICAgICAgICAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA9XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgOiAwO1xuICAgICAgICAgICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgPVxuICAgICAgICAgICAgICAgICAgICBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlIDogTWF0aC5QSSAvIDQuMDtcbiAgICAgICAgICAgICAgICBsaWdodE5vZGUuYW5nbGUgPSBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm9kZS5wZW51bWJyYSA9IDEuMCAtIGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgLyBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuICAgICAgICAgICAgICAgIGxpZ2h0Tm9kZS50YXJnZXQucG9zaXRpb24uc2V0KDAsIDAsIC0xKTtcbiAgICAgICAgICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5leHBlY3RlZCBsaWdodCB0eXBlLCBcIicgKyBsaWdodERlZi50eXBlICsgJ1wiLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29tZSBsaWdodHMgKGUuZy4gc3BvdCkgZGVmYXVsdCB0byBhIHBvc2l0aW9uIG90aGVyIHRoYW4gdGhlIG9yaWdpbi4gUmVzZXQgdGhlIHBvc2l0aW9uXG4gICAgICAgIC8vIGhlcmUsIGJlY2F1c2Ugbm9kZS1sZXZlbCBwYXJzaW5nIHdpbGwgb25seSBvdmVycmlkZSBwb3NpdGlvbiBpZiBleHBsaWNpdGx5IHNwZWNpZmllZC5cbiAgICAgICAgbGlnaHROb2RlLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcblxuICAgICAgICBsaWdodE5vZGUuZGVjYXkgPSAyO1xuXG4gICAgICAgIGlmIChsaWdodERlZi5pbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkgbGlnaHROb2RlLmludGVuc2l0eSA9IGxpZ2h0RGVmLmludGVuc2l0eTtcblxuICAgICAgICBsaWdodE5vZGUubmFtZSA9IGxpZ2h0RGVmLm5hbWUgfHwgJ2xpZ2h0XycgKyBsaWdodEluZGV4O1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlnaHROb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5saXQgTWF0ZXJpYWxzIEV4dGVuc2lvblxuICAgICAqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc191bmxpdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbigpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUO1xuICAgIH1cblxuICAgIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbi5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTWVzaEJhc2ljTWF0ZXJpYWw7XG4gICAgfTtcblxuICAgIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kUGFyYW1zID0gZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSB7XG4gICAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cbiAgICAgICAgdmFyIG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG5cbiAgICAgICAgaWYgKG1ldGFsbGljUm91Z2huZXNzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yO1xuXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyY29hdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gICAgICpcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2NsZWFyY29hdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ7XG4gICAgfVxuXG4gICAgR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbi5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG4gICAgfTtcblxuICAgIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFBhcmFtcyA9IGZ1bmN0aW9uIChtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikge1xuICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgIHZhciBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XG5cbiAgICAgICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0ID0gZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXRNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Um91Z2huZXNzID0gZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXRSb3VnaG5lc3NNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0Tm9ybWFsTWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUpKTtcblxuICAgICAgICAgICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZTtcblxuICAgICAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdE5vcm1hbFNjYWxlID0gbmV3IFZlY3RvcjIoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgICB9O1xuXG4gICAgLyogQklOQVJZIEVYVEVOU0lPTiAqL1xuICAgIHZhciBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyA9ICdnbFRGJztcbiAgICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIID0gMTI7XG4gICAgdmFyIEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMgPSB7IEpTT046IDB4NGU0ZjUzNGEsIEJJTjogMHgwMDRlNDk0MiB9O1xuXG4gICAgZnVuY3Rpb24gR0xURkJpbmFyeUV4dGVuc2lvbihkYXRhKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmJvZHkgPSBudWxsO1xuXG4gICAgICAgIHZhciBoZWFkZXJWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEsIDAsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCk7XG5cbiAgICAgICAgdGhpcy5oZWFkZXIgPSB7XG4gICAgICAgICAgICBtYWdpYzogTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKDAsIDQpKSksXG4gICAgICAgICAgICB2ZXJzaW9uOiBoZWFkZXJWaWV3LmdldFVpbnQzMig0LCB0cnVlKSxcbiAgICAgICAgICAgIGxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoOCwgdHJ1ZSlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5oZWFkZXIubWFnaWMgIT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGdsVEYtQmluYXJ5IGhlYWRlci4nKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhlYWRlci52ZXJzaW9uIDwgMi4wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IExlZ2FjeSBiaW5hcnkgZmlsZSBkZXRlY3RlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaHVua1ZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIKTtcbiAgICAgICAgdmFyIGNodW5rSW5kZXggPSAwO1xuXG4gICAgICAgIHdoaWxlIChjaHVua0luZGV4IDwgY2h1bmtWaWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjaHVua0xlbmd0aCA9IGNodW5rVmlldy5nZXRVaW50MzIoY2h1bmtJbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICBjaHVua0luZGV4ICs9IDQ7XG5cbiAgICAgICAgICAgIHZhciBjaHVua1R5cGUgPSBjaHVua1ZpZXcuZ2V0VWludDMyKGNodW5rSW5kZXgsIHRydWUpO1xuICAgICAgICAgICAgY2h1bmtJbmRleCArPSA0O1xuXG4gICAgICAgICAgICBpZiAoY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkpTT04pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleCwgY2h1bmtMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQoY29udGVudEFycmF5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkJJTikge1xuICAgICAgICAgICAgICAgIHZhciBieXRlT2Zmc2V0ID0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHkgPSBkYXRhLnNsaWNlKGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBjaHVua0xlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENsaWVudHMgbXVzdCBpZ25vcmUgY2h1bmtzIHdpdGggdW5rbm93biB0eXBlcy5cblxuICAgICAgICAgICAgY2h1bmtJbmRleCArPSBjaHVua0xlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogSlNPTiBjb250ZW50IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERSQUNPIE1lc2ggQ29tcHJlc3Npb24gRXh0ZW5zaW9uXG4gICAgICpcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbihqc29uLCBkcmFjb0xvYWRlcikge1xuICAgICAgICBpZiAoIWRyYWNvTG9hZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IE5vIERSQUNPTG9hZGVyIGluc3RhbmNlIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcbiAgICAgICAgdGhpcy5qc29uID0ganNvbjtcbiAgICAgICAgdGhpcy5kcmFjb0xvYWRlciA9IGRyYWNvTG9hZGVyO1xuICAgICAgICB0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcbiAgICB9XG5cbiAgICBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24ucHJvdG90eXBlLmRlY29kZVByaW1pdGl2ZSA9IGZ1bmN0aW9uIChwcmltaXRpdmUsIHBhcnNlcikge1xuICAgICAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICAgICAgdmFyIGRyYWNvTG9hZGVyID0gdGhpcy5kcmFjb0xvYWRlcjtcbiAgICAgICAgdmFyIGJ1ZmZlclZpZXdJbmRleCA9IHByaW1pdGl2ZS5leHRlbnNpb25zW3RoaXMubmFtZV0uYnVmZmVyVmlldztcbiAgICAgICAgdmFyIGdsdGZBdHRyaWJ1dGVNYXAgPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlTm9ybWFsaXplZE1hcCA9IHt9O1xuICAgICAgICB2YXIgYXR0cmlidXRlVHlwZU1hcCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gZ2x0ZkF0dHJpYnV0ZU1hcCkge1xuICAgICAgICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICB0aHJlZUF0dHJpYnV0ZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoYXR0cmlidXRlTmFtZSBpbiBwcmltaXRpdmUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICBpZiAoZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjY2Vzc29yRGVmID0ganNvbi5hY2Nlc3NvcnNbcHJpbWl0aXZlLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV1dO1xuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlVHlwZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gY29tcG9uZW50VHlwZTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwW3RocmVlQXR0cmlidXRlTmFtZV0gPSBhY2Nlc3NvckRlZi5ub3JtYWxpemVkID09PSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYnVmZmVyVmlld0luZGV4KS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICBkcmFjb0xvYWRlci5kZWNvZGVEcmFjb0ZpbGUoXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlclZpZXcsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwW2F0dHJpYnV0ZU5hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IHVuZGVmaW5lZCkgYXR0cmlidXRlLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhyZWVBdHRyaWJ1dGVNYXAsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVR5cGVNYXBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXh0dXJlIFRyYW5zZm9ybSBFeHRlbnNpb25cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uKCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTtcbiAgICB9XG5cbiAgICBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuY2xvbmUoKTtcblxuICAgICAgICBpZiAodHJhbnNmb3JtLm9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkodHJhbnNmb3JtLm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNmb3JtLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRleHR1cmUucm90YXRpb24gPSB0cmFuc2Zvcm0ucm90YXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNmb3JtLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRleHR1cmUucmVwZWF0LmZyb21BcnJheSh0cmFuc2Zvcm0uc2NhbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybS50ZXhDb29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXRzIGluIFwiJyArIHRoaXMubmFtZSArICdcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY3VsYXItR2xvc3NpbmVzcyBFeHRlbnNpb25cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIHN1YiBjbGFzcyBvZiBTdGFuZGFyZE1hdGVyaWFsIHdpdGggc29tZSBvZiB0aGUgZnVuY3Rpb25hbGl0eVxuICAgICAqIGNoYW5nZWQgdmlhIHRoZSBgb25CZWZvcmVDb21waWxlYCBjYWxsYmFja1xuICAgICAqIEBwYWlsaGVhZFxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwocGFyYW1zKSB7XG4gICAgICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCA9IHRydWU7XG5cbiAgICAgICAgLy92YXJpb3VzIGNodW5rcyB0aGF0IG5lZWQgcmVwbGFjaW5nXG4gICAgICAgIHZhciBzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rID0gWycjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJywgJ1x0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7JywgJyNlbmRpZiddLmpvaW4oXG4gICAgICAgICAgICAnXFxuJ1xuICAgICAgICApO1xuXG4gICAgICAgIHZhciBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICAgICAgICAnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJyxcbiAgICAgICAgICAgICdcdHVuaWZvcm0gc2FtcGxlcjJEIGdsb3NzaW5lc3NNYXA7JyxcbiAgICAgICAgICAgICcjZW5kaWYnXG4gICAgICAgIF0uam9pbignXFxuJyk7XG5cbiAgICAgICAgdmFyIHNwZWN1bGFyTWFwRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICAgICAgICd2ZWMzIHNwZWN1bGFyRmFjdG9yID0gc3BlY3VsYXI7JyxcbiAgICAgICAgICAgICcjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJyxcbiAgICAgICAgICAgICdcdHZlYzQgdGV4ZWxTcGVjdWxhciA9IHRleHR1cmUyRCggc3BlY3VsYXJNYXAsIHZVdiApOycsXG4gICAgICAgICAgICAnXHR0ZXhlbFNwZWN1bGFyID0gc1JHQlRvTGluZWFyKCB0ZXhlbFNwZWN1bGFyICk7JyxcbiAgICAgICAgICAgICdcdC8vIHJlYWRzIGNoYW5uZWwgUkdCLCBjb21wYXRpYmxlIHdpdGggYSBnbFRGIFNwZWN1bGFyLUdsb3NzaW5lc3MgKFJHQkEpIHRleHR1cmUnLFxuICAgICAgICAgICAgJ1x0c3BlY3VsYXJGYWN0b3IgKj0gdGV4ZWxTcGVjdWxhci5yZ2I7JyxcbiAgICAgICAgICAgICcjZW5kaWYnXG4gICAgICAgIF0uam9pbignXFxuJyk7XG5cbiAgICAgICAgdmFyIGdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rID0gW1xuICAgICAgICAgICAgJ2Zsb2F0IGdsb3NzaW5lc3NGYWN0b3IgPSBnbG9zc2luZXNzOycsXG4gICAgICAgICAgICAnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJyxcbiAgICAgICAgICAgICdcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTsnLFxuICAgICAgICAgICAgJ1x0Ly8gcmVhZHMgY2hhbm5lbCBBLCBjb21wYXRpYmxlIHdpdGggYSBnbFRGIFNwZWN1bGFyLUdsb3NzaW5lc3MgKFJHQkEpIHRleHR1cmUnLFxuICAgICAgICAgICAgJ1x0Z2xvc3NpbmVzc0ZhY3RvciAqPSB0ZXhlbEdsb3NzaW5lc3MuYTsnLFxuICAgICAgICAgICAgJyNlbmRpZidcbiAgICAgICAgXS5qb2luKCdcXG4nKTtcblxuICAgICAgICB2YXIgbGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICAgICAgICAnUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbDsnLFxuICAgICAgICAgICAgJ21hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7JyxcbiAgICAgICAgICAgICd2ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7JyxcbiAgICAgICAgICAgICdmbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTsnLFxuICAgICAgICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWF4KCAxLjAgLSBnbG9zc2luZXNzRmFjdG9yLCAwLjA1MjUgKTsvLyAwLjA1MjUgY29ycmVzcG9uZHMgdG8gdGhlIGJhc2UgbWlwIG9mIGEgMjU2IGN1YmVtYXAuJyxcbiAgICAgICAgICAgICdtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzczsnLFxuICAgICAgICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgMS4wICk7JyxcbiAgICAgICAgICAgICdtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gc3BlY3VsYXJGYWN0b3IucmdiOydcbiAgICAgICAgXS5qb2luKCdcXG4nKTtcblxuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBzcGVjdWxhcjogeyB2YWx1ZTogbmV3IENvbG9yKCkuc2V0SGV4KDB4ZmZmZmZmKSB9LFxuICAgICAgICAgICAgZ2xvc3NpbmVzczogeyB2YWx1ZTogMSB9LFxuICAgICAgICAgICAgc3BlY3VsYXJNYXA6IHsgdmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIGdsb3NzaW5lc3NNYXA6IHsgdmFsdWU6IG51bGwgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2V4dHJhVW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgICAgICAvLyBwbGVhc2Ugc2VlICMxNDAzMSBvciAjMTMxOTggZm9yIGFuIGFsdGVybmF0ZSBhcHByb2FjaFxuICAgICAgICB0aGlzLm9uQmVmb3JlQ29tcGlsZSA9IGZ1bmN0aW9uIChzaGFkZXIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHVuaWZvcm1OYW1lIGluIHVuaWZvcm1zKSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IHVuaWZvcm1zW3VuaWZvcm1OYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoJ3VuaWZvcm0gZmxvYXQgcm91Z2huZXNzOycsICd1bmlmb3JtIHZlYzMgc3BlY3VsYXI7Jyk7XG4gICAgICAgICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgICAgICAgICAndW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7JyxcbiAgICAgICAgICAgICAgICAndW5pZm9ybSBmbG9hdCBnbG9zc2luZXNzOydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgICAgICAgICAnI2luY2x1ZGUgPHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PicsXG4gICAgICAgICAgICAgICAgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JyxcbiAgICAgICAgICAgICAgICBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmtcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgICAgICAgICAnI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD4nLFxuICAgICAgICAgICAgICAgIHNwZWN1bGFyTWFwRnJhZ21lbnRDaHVua1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PicsXG4gICAgICAgICAgICAgICAgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmtcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgICAgICAgICAnI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4nLFxuICAgICAgICAgICAgICAgIGxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qZXNsaW50LWRpc2FibGUqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICAgICAgICBzcGVjdWxhcjoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuc3BlY3VsYXIudmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlID0gdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3BlY3VsYXJNYXA6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyTWFwLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICB1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZSA9IHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdsb3NzaW5lc3M6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWUgPSB2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnbG9zc2luZXNzTWFwOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlID0gdjtcbiAgICAgICAgICAgICAgICAgICAgLy9ob3cgYWJvdXQgc29tZXRoaW5nIGxpa2UgdGhpcyAtIEBwYWlsaGVhZFxuICAgICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgVVNFX1JPVUdITkVTU01BUCB0byBlbmFibGUgdlV2XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluZXMuVVNFX1JPVUdITkVTU01BUCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfUk9VR0hORVNTTUFQO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyplc2xpbnQtZW5hYmxlKi9cbiAgICAgICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzO1xuICAgICAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICAgICAgZGVsZXRlIHRoaXMucm91Z2huZXNzTWFwO1xuXG4gICAgICAgIHRoaXMuc2V0VmFsdWVzKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUpO1xuICAgIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsO1xuXG4gICAgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcywgc291cmNlKTtcbiAgICAgICAgdGhpcy5zcGVjdWxhck1hcCA9IHNvdXJjZS5zcGVjdWxhck1hcDtcbiAgICAgICAgdGhpcy5zcGVjdWxhci5jb3B5KHNvdXJjZS5zcGVjdWxhcik7XG4gICAgICAgIHRoaXMuZ2xvc3NpbmVzc01hcCA9IHNvdXJjZS5nbG9zc2luZXNzTWFwO1xuICAgICAgICB0aGlzLmdsb3NzaW5lc3MgPSBzb3VyY2UuZ2xvc3NpbmVzcztcbiAgICAgICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzO1xuICAgICAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICAgICAgZGVsZXRlIHRoaXMucm91Z2huZXNzTWFwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUyxcblxuICAgICAgICAgICAgc3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zOiBbXG4gICAgICAgICAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAnbWFwJyxcbiAgICAgICAgICAgICAgICAnbGlnaHRNYXAnLFxuICAgICAgICAgICAgICAgICdsaWdodE1hcEludGVuc2l0eScsXG4gICAgICAgICAgICAgICAgJ2FvTWFwJyxcbiAgICAgICAgICAgICAgICAnYW9NYXBJbnRlbnNpdHknLFxuICAgICAgICAgICAgICAgICdlbWlzc2l2ZScsXG4gICAgICAgICAgICAgICAgJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgICAnZW1pc3NpdmVNYXAnLFxuICAgICAgICAgICAgICAgICdidW1wTWFwJyxcbiAgICAgICAgICAgICAgICAnYnVtcFNjYWxlJyxcbiAgICAgICAgICAgICAgICAnbm9ybWFsTWFwJyxcbiAgICAgICAgICAgICAgICAnbm9ybWFsTWFwVHlwZScsXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYWNlbWVudE1hcCcsXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYWNlbWVudFNjYWxlJyxcbiAgICAgICAgICAgICAgICAnZGlzcGxhY2VtZW50QmlhcycsXG4gICAgICAgICAgICAgICAgJ3NwZWN1bGFyTWFwJyxcbiAgICAgICAgICAgICAgICAnc3BlY3VsYXInLFxuICAgICAgICAgICAgICAgICdnbG9zc2luZXNzTWFwJyxcbiAgICAgICAgICAgICAgICAnZ2xvc3NpbmVzcycsXG4gICAgICAgICAgICAgICAgJ2FscGhhTWFwJyxcbiAgICAgICAgICAgICAgICAnZW52TWFwJyxcbiAgICAgICAgICAgICAgICAnZW52TWFwSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgICAncmVmcmFjdGlvblJhdGlvJ1xuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgZ2V0TWF0ZXJpYWxUeXBlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZXh0ZW5kUGFyYW1zOiBmdW5jdGlvbiAobWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGJyU3BlY3VsYXJHbG9zc2luZXNzID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdO1xuXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgICAgICAgICAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VGYWN0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzID1cbiAgICAgICAgICAgICAgICAgICAgcGJyU3BlY3VsYXJHbG9zc2luZXNzLmdsb3NzaW5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCA/IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yIDogMS4wO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xuXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhci5mcm9tQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BlY0dsb3NzTWFwRGVmID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2dsb3NzaW5lc3NNYXAnLCBzcGVjR2xvc3NNYXBEZWYpKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJNYXAnLCBzcGVjR2xvc3NNYXBEZWYpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjcmVhdGVNYXRlcmlhbDogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5mb2cgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbFBhcmFtcy5jb2xvcjtcblxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLm1hcCA9IG1hdGVyaWFsUGFyYW1zLm1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm1hcDtcblxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmxpZ2h0TWFwID0gbnVsbDtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5saWdodE1hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmFvTWFwID0gbWF0ZXJpYWxQYXJhbXMuYW9NYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5hb01hcDtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5hb01hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlID0gbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmU7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAxLjA7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVNYXAgPSBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlTWFwO1xuXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuYnVtcE1hcCA9IG1hdGVyaWFsUGFyYW1zLmJ1bXBNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5idW1wTWFwO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmJ1bXBTY2FsZSA9IDE7XG5cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5ub3JtYWxNYXAgPSBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXA7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwubm9ybWFsTWFwVHlwZSA9IFRhbmdlbnRTcGFjZU5vcm1hbE1hcDtcblxuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZSkgbWF0ZXJpYWwubm9ybWFsU2NhbGUgPSBtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZTtcblxuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGUgPSAxO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudEJpYXMgPSAwO1xuXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPSBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhck1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyID0gbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXI7XG5cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5nbG9zc2luZXNzTWFwID1cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3NNYXA7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZ2xvc3NpbmVzcyA9IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3M7XG5cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5hbHBoYU1hcCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5lbnZNYXAgPSBtYXRlcmlhbFBhcmFtcy5lbnZNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbnZNYXA7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZW52TWFwSW50ZW5zaXR5ID0gMS4wO1xuXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwucmVmcmFjdGlvblJhdGlvID0gMC45ODtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXNoIFF1YW50aXphdGlvbiBFeHRlbnNpb25cbiAgICAgKlxuICAgICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tZXNoX3F1YW50aXphdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIC8vIFNwbGluZSBJbnRlcnBvbGF0aW9uXG4gICAgLy8gU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhcHBlbmRpeC1jLXNwbGluZS1pbnRlcnBvbGF0aW9uXG4gICAgZnVuY3Rpb24gR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlcikge1xuICAgICAgICBJbnRlcnBvbGFudC5jYWxsKHRoaXMsIHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpO1xuICAgIH1cblxuICAgIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSW50ZXJwb2xhbnQucHJvdG90eXBlKTtcbiAgICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudDtcblxuICAgIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIC8vIENvcGllcyBhIHNhbXBsZSB2YWx1ZSB0byB0aGUgcmVzdWx0IGJ1ZmZlci4gU2VlIGRlc2NyaXB0aW9uIG9mIGdsVEZcbiAgICAgICAgLy8gQ1VCSUNTUExJTkUgdmFsdWVzIGxheW91dCBpbiBpbnRlcnBvbGF0ZV8oKSBmdW5jdGlvbiBiZWxvdy5cblxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHRCdWZmZXIsXG4gICAgICAgICAgICB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcyxcbiAgICAgICAgICAgIHZhbHVlU2l6ZSA9IHRoaXMudmFsdWVTaXplLFxuICAgICAgICAgICAgb2Zmc2V0ID0gaW5kZXggKiB2YWx1ZVNpemUgKiAzICsgdmFsdWVTaXplO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSB2YWx1ZVNpemU7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0W2ldID0gdmFsdWVzW29mZnNldCArIGldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmJlZm9yZVN0YXJ0XyA9IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xuXG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmFmdGVyRW5kXyA9IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xuXG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmludGVycG9sYXRlXyA9IGZ1bmN0aW9uIChpMSwgdDAsIHQsIHQxKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcjtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzO1xuICAgICAgICB2YXIgc3RyaWRlID0gdGhpcy52YWx1ZVNpemU7XG5cbiAgICAgICAgdmFyIHN0cmlkZTIgPSBzdHJpZGUgKiAyO1xuICAgICAgICB2YXIgc3RyaWRlMyA9IHN0cmlkZSAqIDM7XG5cbiAgICAgICAgdmFyIHRkID0gdDEgLSB0MDtcblxuICAgICAgICB2YXIgcCA9ICh0IC0gdDApIC8gdGQ7XG4gICAgICAgIHZhciBwcCA9IHAgKiBwO1xuICAgICAgICB2YXIgcHBwID0gcHAgKiBwO1xuXG4gICAgICAgIHZhciBvZmZzZXQxID0gaTEgKiBzdHJpZGUzO1xuICAgICAgICB2YXIgb2Zmc2V0MCA9IG9mZnNldDEgLSBzdHJpZGUzO1xuXG4gICAgICAgIHZhciBzMiA9IC0yICogcHBwICsgMyAqIHBwO1xuICAgICAgICB2YXIgczMgPSBwcHAgLSBwcDtcbiAgICAgICAgdmFyIHMwID0gMSAtIHMyO1xuICAgICAgICB2YXIgczEgPSBzMyAtIHBwICsgcDtcblxuICAgICAgICAvLyBMYXlvdXQgb2Yga2V5ZnJhbWUgb3V0cHV0IHZhbHVlcyBmb3IgQ1VCSUNTUExJTkUgYW5pbWF0aW9uczpcbiAgICAgICAgLy8gICBbIGluVGFuZ2VudF8xLCBzcGxpbmVWZXJ0ZXhfMSwgb3V0VGFuZ2VudF8xLCBpblRhbmdlbnRfMiwgc3BsaW5lVmVydGV4XzIsIC4uLiBdXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSBzdHJpZGU7IGkrKykge1xuICAgICAgICAgICAgdmFyIHAwID0gdmFsdWVzW29mZnNldDAgKyBpICsgc3RyaWRlXTsgLy8gc3BsaW5lVmVydGV4X2tcbiAgICAgICAgICAgIHZhciBtMCA9IHZhbHVlc1tvZmZzZXQwICsgaSArIHN0cmlkZTJdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaylcbiAgICAgICAgICAgIHZhciBwMSA9IHZhbHVlc1tvZmZzZXQxICsgaSArIHN0cmlkZV07IC8vIHNwbGluZVZlcnRleF9rKzFcbiAgICAgICAgICAgIHZhciBtMSA9IHZhbHVlc1tvZmZzZXQxICsgaV0gKiB0ZDsgLy8gaW5UYW5nZW50X2srMSAqICh0X2srMSAtIHRfaylcblxuICAgICAgICAgICAgcmVzdWx0W2ldID0gczAgKiBwMCArIHMxICogbTAgKyBzMiAqIHAxICsgczMgKiBtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLyoqKioqKioqKiogSU5URVJOQUxTICoqKioqKioqKioqKi9cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyogQ09OU1RBTlRTICovXG5cbiAgICB2YXIgV0VCR0xfQ09OU1RBTlRTID0ge1xuICAgICAgICBGTE9BVDogNTEyNixcbiAgICAgICAgLy9GTE9BVF9NQVQyOiAzNTY3NCxcbiAgICAgICAgRkxPQVRfTUFUMzogMzU2NzUsXG4gICAgICAgIEZMT0FUX01BVDQ6IDM1Njc2LFxuICAgICAgICBGTE9BVF9WRUMyOiAzNTY2NCxcbiAgICAgICAgRkxPQVRfVkVDMzogMzU2NjUsXG4gICAgICAgIEZMT0FUX1ZFQzQ6IDM1NjY2LFxuICAgICAgICBMSU5FQVI6IDk3MjksXG4gICAgICAgIFJFUEVBVDogMTA0OTcsXG4gICAgICAgIFNBTVBMRVJfMkQ6IDM1Njc4LFxuICAgICAgICBQT0lOVFM6IDAsXG4gICAgICAgIExJTkVTOiAxLFxuICAgICAgICBMSU5FX0xPT1A6IDIsXG4gICAgICAgIExJTkVfU1RSSVA6IDMsXG4gICAgICAgIFRSSUFOR0xFUzogNCxcbiAgICAgICAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gICAgICAgIFRSSUFOR0xFX0ZBTjogNixcbiAgICAgICAgVU5TSUdORURfQllURTogNTEyMSxcbiAgICAgICAgVU5TSUdORURfU0hPUlQ6IDUxMjNcbiAgICB9O1xuXG4gICAgdmFyIFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHtcbiAgICAgICAgNTEyMDogSW50OEFycmF5LFxuICAgICAgICA1MTIxOiBVaW50OEFycmF5LFxuICAgICAgICA1MTIyOiBJbnQxNkFycmF5LFxuICAgICAgICA1MTIzOiBVaW50MTZBcnJheSxcbiAgICAgICAgNTEyNTogVWludDMyQXJyYXksXG4gICAgICAgIDUxMjY6IEZsb2F0MzJBcnJheVxuICAgIH07XG5cbiAgICB2YXIgV0VCR0xfRklMVEVSUyA9IHtcbiAgICAgICAgOTcyODogTmVhcmVzdEZpbHRlcixcbiAgICAgICAgOTcyOTogTGluZWFyRmlsdGVyLFxuICAgICAgICA5OTg0OiBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgICAgICAgOTk4NTogTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgICAgICAgOTk4NjogTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcbiAgICAgICAgOTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyXG4gICAgfTtcblxuICAgIHZhciBXRUJHTF9XUkFQUElOR1MgPSB7XG4gICAgICAgIDMzMDcxOiBDbGFtcFRvRWRnZVdyYXBwaW5nLFxuICAgICAgICAzMzY0ODogTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcbiAgICAgICAgMTA0OTc6IFJlcGVhdFdyYXBwaW5nXG4gICAgfTtcblxuICAgIHZhciBXRUJHTF9UWVBFX1NJWkVTID0ge1xuICAgICAgICBTQ0FMQVI6IDEsXG4gICAgICAgIFZFQzI6IDIsXG4gICAgICAgIFZFQzM6IDMsXG4gICAgICAgIFZFQzQ6IDQsXG4gICAgICAgIE1BVDI6IDQsXG4gICAgICAgIE1BVDM6IDksXG4gICAgICAgIE1BVDQ6IDE2XG4gICAgfTtcblxuICAgIHZhciBBVFRSSUJVVEVTID0ge1xuICAgICAgICBQT1NJVElPTjogJ3Bvc2l0aW9uJyxcbiAgICAgICAgTk9STUFMOiAnbm9ybWFsJyxcbiAgICAgICAgVEFOR0VOVDogJ3RhbmdlbnQnLFxuICAgICAgICBURVhDT09SRF8wOiAndXYnLFxuICAgICAgICBURVhDT09SRF8xOiAndXYyJyxcbiAgICAgICAgQ09MT1JfMDogJ2NvbG9yJyxcbiAgICAgICAgV0VJR0hUU18wOiAnc2tpbldlaWdodCcsXG4gICAgICAgIEpPSU5UU18wOiAnc2tpbkluZGV4J1xuICAgIH07XG5cbiAgICB2YXIgUEFUSF9QUk9QRVJUSUVTID0ge1xuICAgICAgICBzY2FsZTogJ3NjYWxlJyxcbiAgICAgICAgdHJhbnNsYXRpb246ICdwb3NpdGlvbicsXG4gICAgICAgIHJvdGF0aW9uOiAncXVhdGVybmlvbicsXG4gICAgICAgIHdlaWdodHM6ICdtb3JwaFRhcmdldEluZmx1ZW5jZXMnXG4gICAgfTtcblxuICAgIHZhciBJTlRFUlBPTEFUSU9OID0ge1xuICAgICAgICBDVUJJQ1NQTElORTogdW5kZWZpbmVkLCAvLyBXZSB1c2UgYSBjdXN0b20gaW50ZXJwb2xhbnQgKEdMVEZDdWJpY1NwbGluZUludGVycG9sYXRpb24pIGZvciBDVUJJQ1NQTElORSB0cmFja3MuIEVhY2hcbiAgICAgICAgLy8ga2V5ZnJhbWUgdHJhY2sgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGEgZGVmYXVsdCBpbnRlcnBvbGF0aW9uIHR5cGUsIHRoZW4gbW9kaWZpZWQuXG4gICAgICAgIExJTkVBUjogSW50ZXJwb2xhdGVMaW5lYXIsXG4gICAgICAgIFNURVA6IEludGVycG9sYXRlRGlzY3JldGVcbiAgICB9O1xuXG4gICAgdmFyIEFMUEhBX01PREVTID0ge1xuICAgICAgICBPUEFRVUU6ICdPUEFRVUUnLFxuICAgICAgICBNQVNLOiAnTUFTSycsXG4gICAgICAgIEJMRU5EOiAnQkxFTkQnXG4gICAgfTtcblxuICAgIHZhciBNSU1FX1RZUEVfRk9STUFUUyA9IHtcbiAgICAgICAgJ2ltYWdlL3BuZyc6IFJHQkFGb3JtYXQsXG4gICAgICAgICdpbWFnZS9qcGVnJzogUkdCRm9ybWF0XG4gICAgfTtcblxuICAgIC8qIFVUSUxJVFkgRlVOQ1RJT05TICovXG5cbiAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCwgcGF0aCkge1xuICAgICAgICAvLyBJbnZhbGlkIFVSTFxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdXJsID09PSAnJykgcmV0dXJuICcnO1xuXG4gICAgICAgIC8vIEhvc3QgUmVsYXRpdmUgVVJMXG4gICAgICAgIGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHBhdGgpICYmIC9eXFwvLy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvKF5odHRwcz86XFwvXFwvW15cXC9dKykuKi9pLCAnJDEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFic29sdXRlIFVSTCBodHRwOi8vLGh0dHBzOi8vLC8vXG4gICAgICAgIGlmICgvXihodHRwcz86KT9cXC9cXC8vaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAgICAgLy8gRGF0YSBVUklcbiAgICAgICAgaWYgKC9eZGF0YTouKiwuKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAgICAgLy8gQmxvYiBVUkxcbiAgICAgICAgaWYgKC9eYmxvYjouKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAgICAgLy8gUmVsYXRpdmUgVVJMXG4gICAgICAgIHJldHVybiBwYXRoICsgdXJsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZGVmYXVsdC1tYXRlcmlhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRNYXRlcmlhbChjYWNoZSkge1xuICAgICAgICBpZiAoY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhY2hlWydEZWZhdWx0TWF0ZXJpYWwnXSA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgICAgICAgICAgIGVtaXNzaXZlOiAweDAwMDAwMCxcbiAgICAgICAgICAgICAgICBtZXRhbG5lc3M6IDEsXG4gICAgICAgICAgICAgICAgcm91Z2huZXNzOiAxLFxuICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZXB0aFRlc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgc2lkZTogRnJvbnRTaWRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWNoZVsnRGVmYXVsdE1hdGVyaWFsJ107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGtub3duRXh0ZW5zaW9ucywgb2JqZWN0LCBvYmplY3REZWYpIHtcbiAgICAgICAgLy8gQWRkIHVua25vd24gZ2xURiBleHRlbnNpb25zIHRvIGFuIG9iamVjdCdzIHVzZXJEYXRhLlxuXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIGlmIChrbm93bkV4dGVuc2lvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyA9IG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgICAgICAgICBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnNbbmFtZV0gPSBvYmplY3REZWYuZXh0ZW5zaW9uc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0M0R8TWF0ZXJpYWx8QnVmZmVyR2VvbWV0cnl9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7R0xURi5kZWZpbml0aW9ufSBnbHRmRGVmXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShvYmplY3QsIGdsdGZEZWYpIHtcbiAgICAgICAgaWYgKGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2x0ZkRlZi5leHRyYXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvYmplY3QudXNlckRhdGEsIGdsdGZEZWYuZXh0cmFzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBJZ25vcmluZyBwcmltaXRpdmUgdHlwZSAuZXh0cmFzLCAnICsgZ2x0ZkRlZi5leHRyYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtb3JwaC10YXJnZXRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7QXJyYXk8R0xURi5UYXJnZXQ+fSB0YXJnZXRzXG4gICAgICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRNb3JwaFRhcmdldHMoZ2VvbWV0cnksIHRhcmdldHMsIHBhcnNlcikge1xuICAgICAgICB2YXIgaGFzTW9ycGhQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzTW9ycGhOb3JtYWwgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIGhhc01vcnBoUG9zaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5OT1JNQUwgIT09IHVuZGVmaW5lZCkgaGFzTW9ycGhOb3JtYWwgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoaGFzTW9ycGhQb3NpdGlvbiAmJiBoYXNNb3JwaE5vcm1hbCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhc01vcnBoUG9zaXRpb24gJiYgIWhhc01vcnBoTm9ybWFsKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJ5KTtcblxuICAgICAgICB2YXIgcGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzID0gW107XG4gICAgICAgIHZhciBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VyLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgdGFyZ2V0LlBPU0lUSU9OKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgICAgcGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzLnB1c2gocGVuZGluZ0FjY2Vzc29yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc01vcnBoTm9ybWFsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBlbmRpbmdBY2Nlc3NvciA9XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5OT1JNQUwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuTk9STUFMKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbDtcblxuICAgICAgICAgICAgICAgIHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMucHVzaChwZW5kaW5nQWNjZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtQcm9taXNlLmFsbChwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMpLCBQcm9taXNlLmFsbChwZW5kaW5nTm9ybWFsQWNjZXNzb3JzKV0pLnRoZW4oZnVuY3Rpb24gKFxuICAgICAgICAgICAgYWNjZXNzb3JzXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG1vcnBoUG9zaXRpb25zID0gYWNjZXNzb3JzWzBdO1xuICAgICAgICAgICAgdmFyIG1vcnBoTm9ybWFscyA9IGFjY2Vzc29yc1sxXTtcblxuICAgICAgICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiA9IG1vcnBoUG9zaXRpb25zO1xuICAgICAgICAgICAgaWYgKGhhc01vcnBoTm9ybWFsKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsID0gbW9ycGhOb3JtYWxzO1xuICAgICAgICAgICAgZ2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TWVzaH0gbWVzaFxuICAgICAqIEBwYXJhbSB7R0xURi5NZXNofSBtZXNoRGVmXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKG1lc2gsIG1lc2hEZWYpIHtcbiAgICAgICAgbWVzaC51cGRhdGVNb3JwaFRhcmdldHMoKTtcblxuICAgICAgICBpZiAobWVzaERlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG1lc2hEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWVzaC5tb3JwaFRhcmdldEluZmx1ZW5jZXNbaV0gPSBtZXNoRGVmLndlaWdodHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAuZXh0cmFzIGhhcyB1c2VyLWRlZmluZWQgZGF0YSwgc28gY2hlY2sgdGhhdCAuZXh0cmFzLnRhcmdldE5hbWVzIGlzIGFuIGFycmF5LlxuICAgICAgICBpZiAobWVzaERlZi5leHRyYXMgJiYgQXJyYXkuaXNBcnJheShtZXNoRGVmLmV4dHJhcy50YXJnZXROYW1lcykpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXROYW1lcyA9IG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzO1xuXG4gICAgICAgICAgICBpZiAobWVzaC5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoID09PSB0YXJnZXROYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0TmFtZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0YXJnZXROYW1lc1tpXV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBJbnZhbGlkIGV4dHJhcy50YXJnZXROYW1lcyBsZW5ndGguIElnbm9yaW5nIG5hbWVzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZURlZikge1xuICAgICAgICB2YXIgZHJhY29FeHRlbnNpb24gPSBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXTtcbiAgICAgICAgdmFyIGdlb21ldHJ5S2V5O1xuXG4gICAgICAgIGlmIChkcmFjb0V4dGVuc2lvbikge1xuICAgICAgICAgICAgZ2VvbWV0cnlLZXkgPVxuICAgICAgICAgICAgICAgICdkcmFjbzonICtcbiAgICAgICAgICAgICAgICBkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3ICtcbiAgICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICAgIGRyYWNvRXh0ZW5zaW9uLmluZGljZXMgK1xuICAgICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgICAgY3JlYXRlQXR0cmlidXRlc0tleShkcmFjb0V4dGVuc2lvbi5hdHRyaWJ1dGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdlb21ldHJ5S2V5ID1cbiAgICAgICAgICAgICAgICBwcmltaXRpdmVEZWYuaW5kaWNlcyArICc6JyArIGNyZWF0ZUF0dHJpYnV0ZXNLZXkocHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXMpICsgJzonICsgcHJpbWl0aXZlRGVmLm1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2VvbWV0cnlLZXk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlc0tleShhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzS2V5ID0gJyc7XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5zb3J0KCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0ga2V5cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzS2V5ICs9IGtleXNbaV0gKyAnOicgKyBhdHRyaWJ1dGVzW2tleXNbaV1dICsgJzsnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXNLZXk7XG4gICAgfVxuXG4gICAgLyogR0xURiBQQVJTRVIgKi9cblxuICAgIGZ1bmN0aW9uIEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmpzb24gPSBqc29uIHx8IHt9O1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8vIGxvYWRlciBvYmplY3QgY2FjaGVcbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBHTFRGUmVnaXN0cnkoKTtcblxuICAgICAgICAvLyBCdWZmZXJHZW9tZXRyeSBjYWNoaW5nXG4gICAgICAgIHRoaXMucHJpbWl0aXZlQ2FjaGUgPSB7fTtcblxuICAgICAgICB0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgVGV4dHVyZUxvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik7XG4gICAgICAgIHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4pO1xuXG4gICAgICAgIHRoaXMuZmlsZUxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKTtcbiAgICAgICAgdGhpcy5maWxlTG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJykge1xuICAgICAgICAgICAgdGhpcy5maWxlTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEdMVEZQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKG9uTG9hZCwgb25FcnJvcikge1xuICAgICAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICAgICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXG4gICAgICAgIC8vIENsZWFyIHRoZSBsb2FkZXIgY2FjaGVcbiAgICAgICAgdGhpcy5jYWNoZS5yZW1vdmVBbGwoKTtcblxuICAgICAgICAvLyBNYXJrIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2VcbiAgICAgICAgdGhpcy5tYXJrRGVmcygpO1xuXG4gICAgICAgIFByb21pc2UuYWxsKFt0aGlzLmdldERlcGVuZGVuY2llcygnc2NlbmUnKSwgdGhpcy5nZXREZXBlbmRlbmNpZXMoJ2FuaW1hdGlvbicpLCB0aGlzLmdldERlcGVuZGVuY2llcygnY2FtZXJhJyldKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lOiBkZXBlbmRlbmNpZXNbMF1banNvbi5zY2VuZSB8fCAwXSxcbiAgICAgICAgICAgICAgICAgICAgc2NlbmVzOiBkZXBlbmRlbmNpZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IGRlcGVuZGVuY2llc1sxXSxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhczogZGVwZW5kZW5jaWVzWzJdLFxuICAgICAgICAgICAgICAgICAgICBhc3NldDoganNvbi5hc3NldCxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VyOiBwYXJzZXIsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiB7fVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgcmVzdWx0LCBqc29uKTtcblxuICAgICAgICAgICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEocmVzdWx0LCBqc29uKTtcblxuICAgICAgICAgICAgICAgIG9uTG9hZChyZXN1bHQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChvbkVycm9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZS5cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5tYXJrRGVmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGVEZWZzID0gdGhpcy5qc29uLm5vZGVzIHx8IFtdO1xuICAgICAgICB2YXIgc2tpbkRlZnMgPSB0aGlzLmpzb24uc2tpbnMgfHwgW107XG4gICAgICAgIHZhciBtZXNoRGVmcyA9IHRoaXMuanNvbi5tZXNoZXMgfHwgW107XG5cbiAgICAgICAgdmFyIG1lc2hSZWZlcmVuY2VzID0ge307XG4gICAgICAgIHZhciBtZXNoVXNlcyA9IHt9O1xuXG4gICAgICAgIC8vIE5vdGhpbmcgaW4gdGhlIG5vZGUgZGVmaW5pdGlvbiBpbmRpY2F0ZXMgd2hldGhlciBpdCBpcyBhIEJvbmUgb3IgYW5cbiAgICAgICAgLy8gT2JqZWN0M0QuIFVzZSB0aGUgc2tpbnMnIGpvaW50IHJlZmVyZW5jZXMgdG8gbWFyayBib25lcy5cbiAgICAgICAgZm9yICh2YXIgc2tpbkluZGV4ID0gMCwgc2tpbkxlbmd0aCA9IHNraW5EZWZzLmxlbmd0aDsgc2tpbkluZGV4IDwgc2tpbkxlbmd0aDsgc2tpbkluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBqb2ludHMgPSBza2luRGVmc1tza2luSW5kZXhdLmpvaW50cztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBub2RlRGVmc1tqb2ludHNbaV1dLmlzQm9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNZXNoZXMgY2FuIChhbmQgc2hvdWxkKSBiZSByZXVzZWQgYnkgbXVsdGlwbGUgbm9kZXMgaW4gYSBnbFRGIGFzc2V0LiBUb1xuICAgICAgICAvLyBhdm9pZCBoYXZpbmcgbW9yZSB0aGFuIG9uZSBNZXNoIHdpdGggdGhlIHNhbWUgbmFtZSwgY291bnRcbiAgICAgICAgLy8gcmVmZXJlbmNlcyBhbmQgcmVuYW1lIGluc3RhbmNlcyBiZWxvdy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRXhhbXBsZTogQ2VzaXVtTWlsa1RydWNrIHNhbXBsZSBtb2RlbCByZXVzZXMgXCJXaGVlbFwiIG1lc2hlcy5cbiAgICAgICAgZm9yICh2YXIgbm9kZUluZGV4ID0gMCwgbm9kZUxlbmd0aCA9IG5vZGVEZWZzLmxlbmd0aDsgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDsgbm9kZUluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBub2RlRGVmID0gbm9kZURlZnNbbm9kZUluZGV4XTtcblxuICAgICAgICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID0gbWVzaFVzZXNbbm9kZURlZi5tZXNoXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWVzaFJlZmVyZW5jZXNbbm9kZURlZi5tZXNoXSsrO1xuXG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyBpbiB0aGUgbWVzaCBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzXG4gICAgICAgICAgICAgICAgLy8gYSBTa2lubmVkTWVzaCBvciBNZXNoLiBVc2UgdGhlIG5vZGUncyBtZXNoIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIC8vIHRvIG1hcmsgU2tpbm5lZE1lc2ggaWYgbm9kZSBoYXMgc2tpbi5cbiAgICAgICAgICAgICAgICBpZiAobm9kZURlZi5za2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaERlZnNbbm9kZURlZi5tZXNoXS5pc1NraW5uZWRNZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmpzb24ubWVzaFJlZmVyZW5jZXMgPSBtZXNoUmVmZXJlbmNlcztcbiAgICAgICAgdGhpcy5qc29uLm1lc2hVc2VzID0gbWVzaFVzZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIHRoZSBzcGVjaWZpZWQgZGVwZW5kZW5jeSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QzRHxNYXRlcmlhbHxUSFJFRS5UZXh0dXJlfEFuaW1hdGlvbkNsaXB8QXJyYXlCdWZmZXJ8T2JqZWN0Pn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5nZXREZXBlbmRlbmN5ID0gZnVuY3Rpb24gKHR5cGUsIGluZGV4KSB7XG4gICAgICAgIHZhciBjYWNoZUtleSA9IHR5cGUgKyAnOicgKyBpbmRleDtcbiAgICAgICAgdmFyIGRlcGVuZGVuY3kgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgICAgaWYgKCFkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzY2VuZSc6XG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRTY2VuZShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9kZSc6XG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWROb2RlKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdtZXNoJzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZE1lc2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY2Vzc29yJzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEFjY2Vzc29yKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdidWZmZXJWaWV3JzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlclZpZXcoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2J1ZmZlcic6XG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXIoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ21hdGVyaWFsJzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZE1hdGVyaWFsKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0dXJlJzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFRleHR1cmUoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3NraW4nOlxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkU2tpbihpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEFuaW1hdGlvbihpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnY2FtZXJhJzpcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZENhbWVyYShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubG9hZExpZ2h0KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdHlwZTogJyArIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgZGVwZW5kZW5jeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYWxsIGRlcGVuZGVuY2llcyBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0Pj59XG4gICAgICovXG4gICAgR0xURlBhcnNlci5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KHR5cGUpO1xuXG4gICAgICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICAgICAgICAgIHZhciBkZWZzID0gdGhpcy5qc29uW3R5cGUgKyAodHlwZSA9PT0gJ21lc2gnID8gJ2VzJyA6ICdzJyldIHx8IFtdO1xuXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICBkZWZzLm1hcChmdW5jdGlvbiAoZGVmLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3kodHlwZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmNhY2hlLmFkZCh0eXBlLCBkZXBlbmRlbmNpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNidWZmZXJzLWFuZC1idWZmZXItdmlld3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVySW5kZXhcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlckluZGV4KSB7XG4gICAgICAgIHZhciBidWZmZXJEZWYgPSB0aGlzLmpzb24uYnVmZmVyc1tidWZmZXJJbmRleF07XG4gICAgICAgIHZhciBsb2FkZXIgPSB0aGlzLmZpbGVMb2FkZXI7XG5cbiAgICAgICAgaWYgKGJ1ZmZlckRlZi50eXBlICYmIGJ1ZmZlckRlZi50eXBlICE9PSAnYXJyYXlidWZmZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6ICcgKyBidWZmZXJEZWYudHlwZSArICcgYnVmZmVyIHR5cGUgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHByZXNlbnQsIEdMQiBjb250YWluZXIgaXMgcmVxdWlyZWQgdG8gYmUgdGhlIGZpcnN0IGJ1ZmZlci5cbiAgICAgICAgaWYgKGJ1ZmZlckRlZi51cmkgPT09IHVuZGVmaW5lZCAmJiBidWZmZXJJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdLmJvZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKHJlc29sdmVVUkwoYnVmZmVyRGVmLnVyaSwgb3B0aW9ucy5wYXRoKSwgcmVzb2x2ZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyArIGJ1ZmZlckRlZi51cmkgKyAnXCIuJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2J1ZmZlcnMtYW5kLWJ1ZmZlci12aWV3c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJWaWV3SW5kZXhcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQnVmZmVyVmlldyA9IGZ1bmN0aW9uIChidWZmZXJWaWV3SW5kZXgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlclZpZXdEZWYgPSB0aGlzLmpzb24uYnVmZmVyVmlld3NbYnVmZmVyVmlld0luZGV4XTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXInLCBidWZmZXJWaWV3RGVmLmJ1ZmZlcikudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgYnl0ZUxlbmd0aCA9IGJ1ZmZlclZpZXdEZWYuYnl0ZUxlbmd0aCB8fCAwO1xuICAgICAgICAgICAgdmFyIGJ5dGVPZmZzZXQgPSBidWZmZXJWaWV3RGVmLmJ5dGVPZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhY2Nlc3NvcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWNjZXNzb3JJbmRleFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyQXR0cmlidXRlfEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQWNjZXNzb3IgPSBmdW5jdGlvbiAoYWNjZXNzb3JJbmRleCkge1xuICAgICAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICAgICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG5cbiAgICAgICAgdmFyIGFjY2Vzc29yRGVmID0gdGhpcy5qc29uLmFjY2Vzc29yc1thY2Nlc3NvckluZGV4XTtcblxuICAgICAgICBpZiAoYWNjZXNzb3JEZWYuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkICYmIGFjY2Vzc29yRGVmLnNwYXJzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZW1wdHkgYWNjZXNzb3JzLCB3aGljaCBtYXkgYmUgdXNlZCB0byBkZWNsYXJlIHJ1bnRpbWVcbiAgICAgICAgICAgIC8vIGluZm9ybWF0aW9uIGFib3V0IGF0dHJpYnV0ZXMgY29taW5nIGZyb20gYW5vdGhlciBzb3VyY2UgKGUuZy4gRHJhY29cbiAgICAgICAgICAgIC8vIGNvbXByZXNzaW9uIGV4dGVuc2lvbikuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBlbmRpbmdCdWZmZXJWaWV3cyA9IFtdO1xuXG4gICAgICAgIGlmIChhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5idWZmZXJWaWV3KSk7XG4gICAgICAgICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ1ZmZlclZpZXcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nQnVmZmVyVmlld3MpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlclZpZXdzKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyVmlldyA9IGJ1ZmZlclZpZXdzWzBdO1xuXG4gICAgICAgICAgICB2YXIgaXRlbVNpemUgPSBXRUJHTF9UWVBFX1NJWkVTW2FjY2Vzc29yRGVmLnR5cGVdO1xuICAgICAgICAgICAgdmFyIFR5cGVkQXJyYXkgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZV07XG5cbiAgICAgICAgICAgIC8vIEZvciBWRUMzOiBpdGVtU2l6ZSBpcyAzLCBlbGVtZW50Qnl0ZXMgaXMgNCwgaXRlbUJ5dGVzIGlzIDEyLlxuICAgICAgICAgICAgdmFyIGVsZW1lbnRCeXRlcyA9IFR5cGVkQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgICB2YXIgaXRlbUJ5dGVzID0gZWxlbWVudEJ5dGVzICogaXRlbVNpemU7XG4gICAgICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IGFjY2Vzc29yRGVmLmJ5dGVPZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHZhciBieXRlU3RyaWRlID1cbiAgICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQgPyBqc29uLmJ1ZmZlclZpZXdzW2FjY2Vzc29yRGVmLmJ1ZmZlclZpZXddLmJ5dGVTdHJpZGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG4gICAgICAgICAgICB2YXIgYXJyYXksIGJ1ZmZlckF0dHJpYnV0ZTtcblxuICAgICAgICAgICAgLy8gVGhlIGJ1ZmZlciBpcyBub3QgaW50ZXJsZWF2ZWQgaWYgdGhlIHN0cmlkZSBpcyB0aGUgaXRlbSBzaXplIGluIGJ5dGVzLlxuICAgICAgICAgICAgaWYgKGJ5dGVTdHJpZGUgJiYgYnl0ZVN0cmlkZSAhPT0gaXRlbUJ5dGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gRWFjaCBcInNsaWNlXCIgb2YgdGhlIGJ1ZmZlciwgYXMgZGVmaW5lZCBieSAnY291bnQnIGVsZW1lbnRzIG9mICdieXRlU3RyaWRlJyBieXRlcywgZ2V0cyBpdHMgb3duIEludGVybGVhdmVkQnVmZmVyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtYWtlcyBzdXJlIHRoYXQgSUJBLmNvdW50IHJlZmxlY3RzIGFjY2Vzc29yLmNvdW50IHByb3Blcmx5XG4gICAgICAgICAgICAgICAgdmFyIGliU2xpY2UgPSBNYXRoLmZsb29yKGJ5dGVPZmZzZXQgLyBieXRlU3RyaWRlKTtcbiAgICAgICAgICAgICAgICB2YXIgaWJDYWNoZUtleSA9XG4gICAgICAgICAgICAgICAgICAgICdJbnRlcmxlYXZlZEJ1ZmZlcjonICtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzb3JEZWYuYnVmZmVyVmlldyArXG4gICAgICAgICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgK1xuICAgICAgICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICAgICAgICBpYlNsaWNlICtcbiAgICAgICAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzb3JEZWYuY291bnQ7XG4gICAgICAgICAgICAgICAgdmFyIGliID0gcGFyc2VyLmNhY2hlLmdldChpYkNhY2hlS2V5KTtcblxuICAgICAgICAgICAgICAgIGlmICghaWIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpYlNsaWNlICogYnl0ZVN0cmlkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChhY2Nlc3NvckRlZi5jb3VudCAqIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW50ZWdlciBwYXJhbWV0ZXJzIHRvIElCL0lCQSBhcmUgaW4gYXJyYXkgZWxlbWVudHMsIG5vdCBieXRlcy5cbiAgICAgICAgICAgICAgICAgICAgaWIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoYXJyYXksIGJ5dGVTdHJpZGUgLyBlbGVtZW50Qnl0ZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlci5jYWNoZS5hZGQoaWJDYWNoZUtleSwgaWIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgaWIsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAoYnl0ZU9mZnNldCAlIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzLFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlclZpZXcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShhY2Nlc3NvckRlZi5jb3VudCAqIGl0ZW1TaXplKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGJ1ZmZlclZpZXcsIGJ5dGVPZmZzZXQsIGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNzcGFyc2UtYWNjZXNzb3JzXG4gICAgICAgICAgICBpZiAoYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVNpemVJbmRpY2VzID0gV0VCR0xfVFlQRV9TSVpFUy5TQ0FMQVI7XG4gICAgICAgICAgICAgICAgdmFyIFR5cGVkQXJyYXlJbmRpY2VzID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVPZmZzZXRJbmRpY2VzID0gYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnl0ZU9mZnNldCB8fCAwO1xuICAgICAgICAgICAgICAgIHZhciBieXRlT2Zmc2V0VmFsdWVzID0gYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5ieXRlT2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3BhcnNlSW5kaWNlcyA9IG5ldyBUeXBlZEFycmF5SW5kaWNlcyhcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyVmlld3NbMV0sXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXRJbmRpY2VzLFxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZUluZGljZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHZhciBzcGFyc2VWYWx1ZXMgPSBuZXcgVHlwZWRBcnJheShcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyVmlld3NbMl0sXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVPZmZzZXRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJWaWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIG1vZGlmeWluZyB0aGUgb3JpZ2luYWwgQXJyYXlCdWZmZXIsIGlmIHRoZSBidWZmZXJWaWV3IHdhc24ndCBpbml0aWFsaXplZCB3aXRoIHplcm9lcy5cbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLml0ZW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBzcGFyc2VJbmRpY2VzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gc3BhcnNlSW5kaWNlc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuc2V0WChpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gMikgYnVmZmVyQXR0cmlidXRlLnNldFkoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemUgKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSAzKSBidWZmZXJBdHRyaWJ1dGUuc2V0WihpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDJdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1TaXplID49IDQpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRXKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgM10pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gNSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgaXRlbVNpemUgaW4gc3BhcnNlIEJ1ZmZlckF0dHJpYnV0ZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBidWZmZXJBdHRyaWJ1dGU7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjdGV4dHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGV4dHVyZUluZGV4XG4gICAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5UZXh0dXJlPn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlSW5kZXgpIHtcbiAgICAgICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIHRleHR1cmVMb2FkZXIgPSB0aGlzLnRleHR1cmVMb2FkZXI7XG5cbiAgICAgICAgdmFyIFVSTCA9IHNlbGYuVVJMIHx8IHNlbGYud2Via2l0VVJMO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlRGVmID0ganNvbi50ZXh0dXJlc1t0ZXh0dXJlSW5kZXhdO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlRXh0ZW5zaW9ucyA9IHRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgc291cmNlO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlRXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdKSB7XG4gICAgICAgICAgICBzb3VyY2UgPSBqc29uLmltYWdlc1t0ZXh0dXJlRXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdLnNvdXJjZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3VyY2UgPSBqc29uLmltYWdlc1t0ZXh0dXJlRGVmLnNvdXJjZV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlVVJJID0gc291cmNlLnVyaTtcbiAgICAgICAgdmFyIGlzT2JqZWN0VVJMID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNvdXJjZS5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIExvYWQgYmluYXJ5IGltYWdlIGRhdGEgZnJvbSBidWZmZXJWaWV3LCBpZiBwcm92aWRlZC5cblxuICAgICAgICAgICAgc291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBzb3VyY2UuYnVmZmVyVmlldykudGhlbihmdW5jdGlvbiAoYnVmZmVyVmlldykge1xuICAgICAgICAgICAgICAgIGlzT2JqZWN0VVJMID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJWaWV3XSwgeyB0eXBlOiBzb3VyY2UubWltZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgc291cmNlVVJJID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlVVJJO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNvdXJjZVVSSSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChzb3VyY2VVUkkpIHtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIFRleHR1cmUgcmVzb3VyY2UuXG5cbiAgICAgICAgICAgICAgICB2YXIgbG9hZGVyID0gb3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoc291cmNlVVJJKTtcblxuICAgICAgICAgICAgICAgIGlmICghbG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlciA9IHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU11cbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXS5kZHNMb2FkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGV4dHVyZUxvYWRlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkZXIubG9hZChyZXNvbHZlVVJMKHNvdXJjZVVSSSwgb3B0aW9ucy5wYXRoKSwgcmVzb2x2ZSwgdW5kZWZpbmVkLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBjb25maWd1cmUgVGV4dHVyZS5cblxuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdFVSTCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHNvdXJjZVVSSSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mbGlwWSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVEZWYubmFtZSkgdGV4dHVyZS5uYW1lID0gdGV4dHVyZURlZi5uYW1lO1xuXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHVua25vd24gbWltZSB0eXBlcywgbGlrZSBERFMgZmlsZXMuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5taW1lVHlwZSBpbiBNSU1FX1RZUEVfRk9STUFUUykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCA9IE1JTUVfVFlQRV9GT1JNQVRTW3NvdXJjZS5taW1lVHlwZV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZXJzID0ganNvbi5zYW1wbGVycyB8fCB7fTtcbiAgICAgICAgICAgICAgICB2YXIgc2FtcGxlciA9IHNhbXBsZXJzW3RleHR1cmVEZWYuc2FtcGxlcl0gfHwge307XG5cbiAgICAgICAgICAgICAgICB0ZXh0dXJlLm1hZ0ZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbc2FtcGxlci5tYWdGaWx0ZXJdIHx8IExpbmVhckZpbHRlcjtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLm1pbkZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbc2FtcGxlci5taW5GaWx0ZXJdIHx8IExpbmVhck1pcG1hcExpbmVhckZpbHRlcjtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLndyYXBTID0gV0VCR0xfV1JBUFBJTkdTW3NhbXBsZXIud3JhcFNdIHx8IFJlcGVhdFdyYXBwaW5nO1xuICAgICAgICAgICAgICAgIHRleHR1cmUud3JhcFQgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwVF0gfHwgUmVwZWF0V3JhcHBpbmc7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXNseSBhc3NpZ25zIGEgdGV4dHVyZSB0byB0aGUgZ2l2ZW4gbWF0ZXJpYWwgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWF0ZXJpYWxQYXJhbXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWFwTmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBEZWZcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnblRleHR1cmUgPSBmdW5jdGlvbiAobWF0ZXJpYWxQYXJhbXMsIG1hcE5hbWUsIG1hcERlZikge1xuICAgICAgICB2YXIgcGFyc2VyID0gdGhpcztcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCd0ZXh0dXJlJywgbWFwRGVmLmluZGV4KS50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuaXNDb21wcmVzc2VkVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobWFwTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhb01hcCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VtaXNzaXZlTWFwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWV0YWxuZXNzTWFwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9ybWFsTWFwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncm91Z2huZXNzTWFwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0ID0gUkdCRm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYXRlcmlhbHMgc2FtcGxlIGFvTWFwIGZyb20gVVYgc2V0IDEgYW5kIG90aGVyIG1hcHMgZnJvbSBVViBzZXQgMCAtIHRoaXMgY2FuJ3QgYmUgY29uZmlndXJlZFxuICAgICAgICAgICAgLy8gSG93ZXZlciwgd2Ugd2lsbCBjb3B5IFVWIHNldCAwIHRvIFVWIHNldCAxIG9uIGRlbWFuZCBmb3IgYW9NYXBcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIG1hcERlZi50ZXhDb29yZCAhPSAwICYmXG4gICAgICAgICAgICAgICAgIShtYXBOYW1lID09PSAnYW9NYXAnICYmIG1hcERlZi50ZXhDb29yZCA9PSAxKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcERlZi50ZXhDb29yZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIGZvciB0ZXh0dXJlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIG5vdCB5ZXQgc3VwcG9ydGVkLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9XG4gICAgICAgICAgICAgICAgICAgIG1hcERlZi5leHRlbnNpb25zICE9PSB1bmRlZmluZWQgPyBtYXBEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0uZXh0ZW5kVGV4dHVyZSh0ZXh0dXJlLCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXNbbWFwTmFtZV0gPSB0ZXh0dXJlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBmaW5hbCBtYXRlcmlhbCB0byBhIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS4gVGhlIGluc3RhbmNlXG4gICAgICogYWxyZWFkeSBoYXMgYSBtYXRlcmlhbCAoZ2VuZXJhdGVkIGZyb20gdGhlIGdsVEYgbWF0ZXJpYWwgb3B0aW9ucyBhbG9uZSlcbiAgICAgKiBidXQgcmV1c2Ugb2YgdGhlIHNhbWUgZ2xURiBtYXRlcmlhbCBtYXkgcmVxdWlyZSBtdWx0aXBsZSB0aHJlZWpzIG1hdGVyaWFsc1xuICAgICAqIHRvIGFjY29tb2RhdGUgZGlmZmVyZW50IHByaW1pdGl2ZSB0eXBlcywgZGVmaW5lcywgZXRjLiBOZXcgbWF0ZXJpYWxzIHdpbGxcbiAgICAgKiBiZSBjcmVhdGVkIGlmIG5lY2Vzc2FyeSwgYW5kIHJldXNlZCBmcm9tIGEgY2FjaGUuXG4gICAgICogQHBhcmFtICB7T2JqZWN0M0R9IG1lc2ggTWVzaCwgTGluZSwgb3IgUG9pbnRzIGluc3RhbmNlLlxuICAgICAqL1xuICAgIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnbkZpbmFsTWF0ZXJpYWwgPSBmdW5jdGlvbiAobWVzaCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBtZXNoLmdlb21ldHJ5O1xuICAgICAgICB2YXIgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuXG4gICAgICAgIHZhciB1c2VWZXJ0ZXhUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdXNlVmVydGV4Q29sb3JzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvciAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdXNlRmxhdFNoYWRpbmcgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdXNlU2tpbm5pbmcgPSBtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWU7XG4gICAgICAgIHZhciB1c2VNb3JwaFRhcmdldHMgPSBPYmplY3Qua2V5cyhnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aCA+IDA7XG4gICAgICAgIHZhciB1c2VNb3JwaE5vcm1hbHMgPSB1c2VNb3JwaFRhcmdldHMgJiYgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChtZXNoLmlzUG9pbnRzKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVLZXkgPSAnUG9pbnRzTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7XG5cbiAgICAgICAgICAgIHZhciBwb2ludHNNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgICAgICAgaWYgKCFwb2ludHNNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgIHBvaW50c01hdGVyaWFsID0gbmV3IFBvaW50c01hdGVyaWFsKCk7XG4gICAgICAgICAgICAgICAgTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChwb2ludHNNYXRlcmlhbCwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgIHBvaW50c01hdGVyaWFsLmNvbG9yLmNvcHkobWF0ZXJpYWwuY29sb3IpO1xuICAgICAgICAgICAgICAgIHBvaW50c01hdGVyaWFsLm1hcCA9IG1hdGVyaWFsLm1hcDtcbiAgICAgICAgICAgICAgICBwb2ludHNNYXRlcmlhbC5zaXplQXR0ZW51YXRpb24gPSBmYWxzZTsgLy8gZ2xURiBzcGVjIHNheXMgcG9pbnRzIHNob3VsZCBiZSAxcHhcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBwb2ludHNNYXRlcmlhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hdGVyaWFsID0gcG9pbnRzTWF0ZXJpYWw7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzaC5pc0xpbmUpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZUtleSA9ICdMaW5lQmFzaWNNYXRlcmlhbDonICsgbWF0ZXJpYWwudXVpZDtcblxuICAgICAgICAgICAgdmFyIGxpbmVNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgICAgICAgaWYgKCFsaW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICBsaW5lTWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoKTtcbiAgICAgICAgICAgICAgICBNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKGxpbmVNYXRlcmlhbCwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgIGxpbmVNYXRlcmlhbC5jb2xvci5jb3B5KG1hdGVyaWFsLmNvbG9yKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBsaW5lTWF0ZXJpYWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXRlcmlhbCA9IGxpbmVNYXRlcmlhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsb25lIHRoZSBtYXRlcmlhbCBpZiBpdCB3aWxsIGJlIG1vZGlmaWVkXG4gICAgICAgIGlmICh1c2VWZXJ0ZXhUYW5nZW50cyB8fCB1c2VWZXJ0ZXhDb2xvcnMgfHwgdXNlRmxhdFNoYWRpbmcgfHwgdXNlU2tpbm5pbmcgfHwgdXNlTW9ycGhUYXJnZXRzKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVLZXkgPSAnQ2xvbmVkTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQgKyAnOic7XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbC5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCkgY2FjaGVLZXkgKz0gJ3NwZWN1bGFyLWdsb3NzaW5lc3M6JztcbiAgICAgICAgICAgIGlmICh1c2VTa2lubmluZykgY2FjaGVLZXkgKz0gJ3NraW5uaW5nOic7XG4gICAgICAgICAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMpIGNhY2hlS2V5ICs9ICd2ZXJ0ZXgtdGFuZ2VudHM6JztcbiAgICAgICAgICAgIGlmICh1c2VWZXJ0ZXhDb2xvcnMpIGNhY2hlS2V5ICs9ICd2ZXJ0ZXgtY29sb3JzOic7XG4gICAgICAgICAgICBpZiAodXNlRmxhdFNoYWRpbmcpIGNhY2hlS2V5ICs9ICdmbGF0LXNoYWRpbmc6JztcbiAgICAgICAgICAgIGlmICh1c2VNb3JwaFRhcmdldHMpIGNhY2hlS2V5ICs9ICdtb3JwaC10YXJnZXRzOic7XG4gICAgICAgICAgICBpZiAodXNlTW9ycGhOb3JtYWxzKSBjYWNoZUtleSArPSAnbW9ycGgtbm9ybWFsczonO1xuXG4gICAgICAgICAgICB2YXIgY2FjaGVkTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgICAgICAgIGlmICghY2FjaGVkTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICBjYWNoZWRNYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlZE1hdGVyaWFsLnNraW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMpIGNhY2hlZE1hdGVyaWFsLnZlcnRleFRhbmdlbnRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodXNlVmVydGV4Q29sb3JzKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh1c2VGbGF0U2hhZGluZykgY2FjaGVkTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh1c2VNb3JwaFRhcmdldHMpIGNhY2hlZE1hdGVyaWFsLm1vcnBoVGFyZ2V0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHVzZU1vcnBoTm9ybWFscykgY2FjaGVkTWF0ZXJpYWwubW9ycGhOb3JtYWxzID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBjYWNoZWRNYXRlcmlhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hdGVyaWFsID0gY2FjaGVkTWF0ZXJpYWw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3b3JrYXJvdW5kcyBmb3IgbWVzaCBhbmQgZ2VvbWV0cnlcblxuICAgICAgICBpZiAobWF0ZXJpYWwuYW9NYXAgJiYgZ2VvbWV0cnkuYXR0cmlidXRlcy51djIgPT09IHVuZGVmaW5lZCAmJiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgndXYyJywgZ2VvbWV0cnkuYXR0cmlidXRlcy51dik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xMTQzOCNpc3N1ZWNvbW1lbnQtNTA3MDAzOTk1XG4gICAgICAgIGlmIChtYXRlcmlhbC5ub3JtYWxTY2FsZSAmJiAhdXNlVmVydGV4VGFuZ2VudHMpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLm5vcm1hbFNjYWxlLnkgPSAtbWF0ZXJpYWwubm9ybWFsU2NhbGUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZSAmJiAhdXNlVmVydGV4VGFuZ2VudHMpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlLnkgPSAtbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtYXRlcmlhbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF0ZXJpYWxJbmRleFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8TWF0ZXJpYWw+fVxuICAgICAqL1xuICAgIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChtYXRlcmlhbEluZGV4KSB7XG4gICAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgICAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgICAgIHZhciBtYXRlcmlhbERlZiA9IGpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdO1xuXG4gICAgICAgIHZhciBtYXRlcmlhbFR5cGU7XG4gICAgICAgIHZhciBtYXRlcmlhbFBhcmFtcyA9IHt9O1xuICAgICAgICB2YXIgbWF0ZXJpYWxFeHRlbnNpb25zID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXSkge1xuICAgICAgICAgICAgdmFyIHNnRXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdO1xuICAgICAgICAgICAgbWF0ZXJpYWxUeXBlID0gc2dFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICAgICAgICBwZW5kaW5nLnB1c2goc2dFeHRlbnNpb24uZXh0ZW5kUGFyYW1zKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF0pIHtcbiAgICAgICAgICAgIHZhciBrbXVFeHRlbnNpb24gPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF07XG4gICAgICAgICAgICBtYXRlcmlhbFR5cGUgPSBrbXVFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICAgICAgICBwZW5kaW5nLnB1c2goa211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU3BlY2lmaWNhdGlvbjpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNtZXRhbGxpYy1yb3VnaG5lc3MtbWF0ZXJpYWxcblxuICAgICAgICAgICAgbWF0ZXJpYWxUeXBlID0gTWVzaFN0YW5kYXJkTWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIHZhciBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzIHx8IHt9O1xuXG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7XG5cbiAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVszXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMubWV0YWxuZXNzID1cbiAgICAgICAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgOiAxLjA7XG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5yb3VnaG5lc3MgPVxuICAgICAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yIDogMS4wO1xuXG4gICAgICAgICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbWV0YWxuZXNzTWFwJywgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ3JvdWdobmVzc01hcCcsIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGVyaWFsRGVmLmRvdWJsZVNpZGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5zaWRlID0gRG91YmxlU2lkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFO1xuXG4gICAgICAgIGlmIChhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLkJMRU5EKSB7XG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTc3MDZcbiAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmRlcHRoV3JpdGUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLk1BU0spIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5hbHBoYVRlc3QgPSBtYXRlcmlhbERlZi5hbHBoYUN1dG9mZiAhPT0gdW5kZWZpbmVkID8gbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgOiAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ25vcm1hbE1hcCcsIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUpKTtcblxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUgPSBuZXcgVmVjdG9yMigxLCAxKTtcblxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlLnNldChtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlLCBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xuICAgICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnYW9NYXAnLCBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlKSk7XG5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5hb01hcEludGVuc2l0eSA9IG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0ZXJpYWxEZWYuZW1pc3NpdmVGYWN0b3IgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigpLmZyb21BcnJheShtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xuICAgICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnZW1pc3NpdmVNYXAnLCBtYXRlcmlhbERlZi5lbWlzc2l2ZVRleHR1cmUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVF0pIHtcbiAgICAgICAgICAgIHZhciBjbGVhcmNvYXRFeHRlbnNpb24gPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVRdO1xuICAgICAgICAgICAgbWF0ZXJpYWxUeXBlID0gY2xlYXJjb2F0RXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xuICAgICAgICAgICAgcGVuZGluZy5wdXNoKGNsZWFyY29hdEV4dGVuc2lvbi5leHRlbmRQYXJhbXMobWF0ZXJpYWxQYXJhbXMsIHsgZXh0ZW5zaW9uczogbWF0ZXJpYWxFeHRlbnNpb25zIH0sIHBhcnNlcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsO1xuXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxUeXBlID09PSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdLmNyZWF0ZU1hdGVyaWFsKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgbWF0ZXJpYWxUeXBlKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsRGVmLm5hbWUpIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbERlZi5uYW1lO1xuXG4gICAgICAgICAgICAvLyBiYXNlQ29sb3JUZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUsIGFuZCBzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIHVzZSBzUkdCIGVuY29kaW5nLlxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsLm1hcCkgbWF0ZXJpYWwubWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xuICAgICAgICAgICAgaWYgKG1hdGVyaWFsLmVtaXNzaXZlTWFwKSBtYXRlcmlhbC5lbWlzc2l2ZU1hcC5lbmNvZGluZyA9IHNSR0JFbmNvZGluZztcblxuICAgICAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtYXRlcmlhbCwgbWF0ZXJpYWxEZWYpO1xuXG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gICAgICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wdXRlQm91bmRzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcikge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIHZhciBib3ggPSBuZXcgQm94MygpO1xuXG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1thdHRyaWJ1dGVzLlBPU0lUSU9OXTtcblxuICAgICAgICAgICAgdmFyIG1pbiA9IGFjY2Vzc29yLm1pbjtcbiAgICAgICAgICAgIHZhciBtYXggPSBhY2Nlc3Nvci5tYXg7XG5cbiAgICAgICAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cbiAgICAgICAgICAgIGlmIChtaW4gIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJveC5zZXQobmV3IFZlY3RvcjMobWluWzBdLCBtaW5bMV0sIG1pblsyXSksIG5ldyBWZWN0b3IzKG1heFswXSwgbWF4WzFdLCBtYXhbMl0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIG1pbi9tYXggcHJvcGVydGllcyBmb3IgYWNjZXNzb3IgUE9TSVRJT04uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGFyZ2V0cyA9IHByaW1pdGl2ZURlZi50YXJnZXRzO1xuXG4gICAgICAgIGlmICh0YXJnZXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBtYXhEaXNwbGFjZW1lbnQgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICAgICAgdmFyIHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1t0YXJnZXQuUE9TSVRJT05dO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWluID0gYWNjZXNzb3IubWluO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gYWNjZXNzb3IubWF4O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGdldCBtYXggb2YgYWJzb2x1dGUgY29tcG9uZW50cyBiZWNhdXNlIHRhcmdldCB3ZWlnaHQgaXMgWy0xLDFdXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWN0b3Iuc2V0WChNYXRoLm1heChNYXRoLmFicyhtaW5bMF0pLCBNYXRoLmFicyhtYXhbMF0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWN0b3Iuc2V0WShNYXRoLm1heChNYXRoLmFicyhtaW5bMV0pLCBNYXRoLmFicyhtYXhbMV0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWN0b3Iuc2V0WihNYXRoLm1heChNYXRoLmFicyhtaW5bMl0pLCBNYXRoLmFicyhtYXhbMl0pKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgYXNzdW1lcyB0aGF0IHRoZSBzdW0gb2YgYWxsIHdlaWdodHMgaXMgYXQgbW9zdCAxLiBUaGlzIGlzbid0IHF1aXRlIGNvcnJlY3QgLSBpdCdzIG1vcmUgY29uc2VydmF0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhc3N1bWUgdGhhdCBlYWNoIHRhcmdldCBjYW4gaGF2ZSBhIG1heCB3ZWlnaHQgb2YgMS4gSG93ZXZlciwgZm9yIHNvbWUgdXNlIGNhc2VzIC0gbm90YWJseSwgd2hlbiBtb3JwaCB0YXJnZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmUgdXNlZCB0byBpbXBsZW1lbnQga2V5LWZyYW1lIGFuaW1hdGlvbnMgYW5kIGFzIHN1Y2ggb25seSB0d28gYXJlIGFjdGl2ZSBhdCBhIHRpbWUgLSB0aGlzIHJlc3VsdHMgaW4gdmVyeSBsYXJnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYm94ZXMuIFNvIGZvciBub3cgd2UgbWFrZSBhIGJveCB0aGF0J3Mgc29tZXRpbWVzIGEgdG91Y2ggdG9vIHNtYWxsIGJ1dCBpcyBob3BlZnVsbHkgbW9zdGx5IG9mIHJlYXNvbmFibGUgc2l6ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heERpc3BsYWNlbWVudC5tYXgodmVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcyBwZXIgY29tbWVudCBhYm92ZSB0aGlzIGJveCBpc24ndCBjb25zZXJ2YXRpdmUsIGJ1dCBoYXMgYSByZWFzb25hYmxlIHNpemUgZm9yIGEgdmVyeSBsYXJnZSBudW1iZXIgb2YgbW9ycGggdGFyZ2V0cy5cbiAgICAgICAgICAgIGJveC5leHBhbmRCeVZlY3RvcihtYXhEaXNwbGFjZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2VvbWV0cnkuYm91bmRpbmdCb3ggPSBib3g7XG5cbiAgICAgICAgdmFyIHNwaGVyZSA9IG5ldyBTcGhlcmUoKTtcblxuICAgICAgICBib3guZ2V0Q2VudGVyKHNwaGVyZS5jZW50ZXIpO1xuICAgICAgICBzcGhlcmUucmFkaXVzID0gYm94Lm1pbi5kaXN0YW5jZVRvKGJveC5tYXgpIC8gMjtcblxuICAgICAgICBnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSA9IHNwaGVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7R0xURi5QcmltaXRpdmV9IHByaW1pdGl2ZURlZlxuICAgICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJHZW9tZXRyeT59XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlcztcblxuICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBhY2Nlc3NvckluZGV4KS50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhY2Nlc3Nvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGdsdGZBdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHZhciB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTW2dsdGZBdHRyaWJ1dGVOYW1lXSB8fCBnbHRmQXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAvLyBTa2lwIGF0dHJpYnV0ZXMgYWxyZWFkeSBwcm92aWRlZCBieSBlLmcuIERyYWNvIGV4dGVuc2lvbi5cbiAgICAgICAgICAgIGlmICh0aHJlZUF0dHJpYnV0ZU5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykgY29udGludWU7XG5cbiAgICAgICAgICAgIHBlbmRpbmcucHVzaChhc3NpZ25BdHRyaWJ1dGVBY2Nlc3NvcihhdHRyaWJ1dGVzW2dsdGZBdHRyaWJ1dGVOYW1lXSwgdGhyZWVBdHRyaWJ1dGVOYW1lKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJpbWl0aXZlRGVmLmluZGljZXMgIT09IHVuZGVmaW5lZCAmJiAhZ2VvbWV0cnkuaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHByaW1pdGl2ZURlZi5pbmRpY2VzKS50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGFjY2Vzc29yKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwZW5kaW5nLnB1c2goYWNjZXNzb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShnZW9tZXRyeSwgcHJpbWl0aXZlRGVmKTtcblxuICAgICAgICBjb21wdXRlQm91bmRzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcik7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByaW1pdGl2ZURlZi50YXJnZXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGFkZE1vcnBoVGFyZ2V0cyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLnRhcmdldHMsIHBhcnNlcilcbiAgICAgICAgICAgICAgICA6IGdlb21ldHJ5O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkcmF3TW9kZVxuICAgICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVHJpYW5nbGVzRHJhd01vZGUoZ2VvbWV0cnksIGRyYXdNb2RlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgaW5kZXggaWYgbm90IHByZXNlbnRcblxuICAgICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcblxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL1xuXG4gICAgICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcbiAgICAgICAgdmFyIG5ld0luZGljZXMgPSBbXTtcblxuICAgICAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUpIHtcbiAgICAgICAgICAgIC8vIGdsLlRSSUFOR0xFX0ZBTlxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoMCkpO1xuICAgICAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZ2wuVFJJQU5HTEVfU1RSSVBcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMikpO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0luZGljZXMubGVuZ3RoIC8gMyAhPT0gbnVtYmVyT2ZUcmlhbmdsZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuICAgICAgICB2YXIgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xuICAgICAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcblxuICAgICAgICByZXR1cm4gbmV3R2VvbWV0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNnZW9tZXRyeVxuICAgICAqXG4gICAgICogQ3JlYXRlcyBCdWZmZXJHZW9tZXRyaWVzIGZyb20gcHJpbWl0aXZlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8R0xURi5QcmltaXRpdmU+fSBwcmltaXRpdmVzXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxCdWZmZXJHZW9tZXRyeT4+fVxuICAgICAqL1xuICAgIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRHZW9tZXRyaWVzID0gZnVuY3Rpb24gKHByaW1pdGl2ZXMpIHtcbiAgICAgICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgICAgICB2YXIgY2FjaGUgPSB0aGlzLnByaW1pdGl2ZUNhY2hlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURyYWNvUHJpbWl0aXZlKHByaW1pdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl1cbiAgICAgICAgICAgICAgICAuZGVjb2RlUHJpbWl0aXZlKHByaW1pdGl2ZSwgcGFyc2VyKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlLCBwYXJzZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwcmltaXRpdmVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcmltaXRpdmUgPSBwcmltaXRpdmVzW2ldO1xuICAgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZSk7XG5cbiAgICAgICAgICAgIC8vIFNlZSBpZiB3ZSd2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgICAgdmFyIGNhY2hlZCA9IGNhY2hlW2NhY2hlS2V5XTtcblxuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgY2FjaGVkIGdlb21ldHJ5IGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChjYWNoZWQucHJvbWlzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeVByb21pc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJpbWl0aXZlLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIERSQUNPIGdlb21ldHJ5IGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeVByb21pc2UgPSBjcmVhdGVEcmFjb1ByaW1pdGl2ZShwcmltaXRpdmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhuZXcgQnVmZmVyR2VvbWV0cnkoKSwgcHJpbWl0aXZlLCBwYXJzZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoaXMgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSB7IHByaW1pdGl2ZTogcHJpbWl0aXZlLCBwcm9taXNlOiBnZW9tZXRyeVByb21pc2UgfTtcblxuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChnZW9tZXRyeVByb21pc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21lc2hlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtZXNoSW5kZXhcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwfE1lc2h8U2tpbm5lZE1lc2g+fVxuICAgICAqL1xuICAgIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKG1lc2hJbmRleCkge1xuICAgICAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICAgICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG5cbiAgICAgICAgdmFyIG1lc2hEZWYgPSBqc29uLm1lc2hlc1ttZXNoSW5kZXhdO1xuICAgICAgICB2YXIgcHJpbWl0aXZlcyA9IG1lc2hEZWYucHJpbWl0aXZlcztcblxuICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID1cbiAgICAgICAgICAgICAgICBwcmltaXRpdmVzW2ldLm1hdGVyaWFsID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwodGhpcy5jYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldERlcGVuZGVuY3koJ21hdGVyaWFsJywgcHJpbWl0aXZlc1tpXS5tYXRlcmlhbCk7XG5cbiAgICAgICAgICAgIHBlbmRpbmcucHVzaChtYXRlcmlhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmxvYWRHZW9tZXRyaWVzKHByaW1pdGl2ZXMpKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFscyA9IHJlc3VsdHMuc2xpY2UoMCwgcmVzdWx0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHZhciBnZW9tZXRyaWVzID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICB2YXIgbWVzaGVzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbaV07XG5cbiAgICAgICAgICAgICAgICAvLyAxLiBjcmVhdGUgTWVzaFxuXG4gICAgICAgICAgICAgICAgdmFyIG1lc2g7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBtYXRlcmlhbHNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVTIHx8XG4gICAgICAgICAgICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4gfHxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyAuaXNTa2lubmVkTWVzaCBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAubWFya0RlZnMoKVxuICAgICAgICAgICAgICAgICAgICBtZXNoID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2hEZWYuaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFNraW5uZWRNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc2guaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZSAmJiAhbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm9ybWFsaXplIGZsb2F0aW5nIHBvaW50IHNraW4gd2VpZ2h0IGFycmF5IHRvIGZpeCBtYWxmb3JtZWQgYXNzZXRzIChzZWUgIzE1MzE5KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBpbXBvcnRhbnQgdG8gc2tpcCB0aGlzIGZvciBub24tZmxvYXQzMiBkYXRhIHNpbmNlIG5vcm1hbGl6ZVNraW5XZWlnaHRzIGFzc3VtZXMgbm9uLW5vcm1hbGl6ZWQgaW5wdXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoLm5vcm1hbGl6ZVNraW5XZWlnaHRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9TVFJJUCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5nZW9tZXRyeSA9IHRvVHJpYW5nbGVzRHJhd01vZGUobWVzaC5nZW9tZXRyeSwgVHJpYW5nbGVTdHJpcERyYXdNb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5nZW9tZXRyeSA9IHRvVHJpYW5nbGVzRHJhd01vZGUobWVzaC5nZW9tZXRyeSwgVHJpYW5nbGVGYW5EcmF3TW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORVMpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzaCA9IG5ldyBMaW5lU2VnbWVudHMoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9TVFJJUCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNoID0gbmV3IExpbmUoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9MT09QKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc2ggPSBuZXcgTGluZUxvb3AoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuUE9JTlRTKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc2ggPSBuZXcgUG9pbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBQcmltaXRpdmUgbW9kZSB1bnN1cHBvcnRlZDogJyArIHByaW1pdGl2ZS5tb2RlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobWVzaC5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTW9ycGhUYXJnZXRzKG1lc2gsIG1lc2hEZWYpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1lc2gubmFtZSA9IG1lc2hEZWYubmFtZSB8fCAnbWVzaF8nICsgbWVzaEluZGV4O1xuXG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJpZXMubGVuZ3RoID4gMSkgbWVzaC5uYW1lICs9ICdfJyArIGk7XG5cbiAgICAgICAgICAgICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG1lc2gsIG1lc2hEZWYpO1xuXG4gICAgICAgICAgICAgICAgcGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwobWVzaCk7XG5cbiAgICAgICAgICAgICAgICBtZXNoZXMucHVzaChtZXNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1lc2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaGVzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbWVzaGVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBncm91cC5hZGQobWVzaGVzW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2NhbWVyYXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2FtZXJhSW5kZXhcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFRIUkVFLkNhbWVyYT59XG4gICAgICovXG4gICAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZENhbWVyYSA9IGZ1bmN0aW9uIChjYW1lcmFJbmRleCkge1xuICAgICAgICB2YXIgY2FtZXJhO1xuICAgICAgICB2YXIgY2FtZXJhRGVmID0gdGhpcy5qc29uLmNhbWVyYXNbY2FtZXJhSW5kZXhdO1xuICAgICAgICB2YXIgcGFyYW1zID0gY2FtZXJhRGVmW2NhbWVyYURlZi50eXBlXTtcblxuICAgICAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIGNhbWVyYSBwYXJhbWV0ZXJzLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbWVyYURlZi50eXBlID09PSAncGVyc3BlY3RpdmUnKSB7XG4gICAgICAgICAgICBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoXG4gICAgICAgICAgICAgICAgTWF0aFV0aWxzLnJhZFRvRGVnKHBhcmFtcy55Zm92KSxcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXNwZWN0UmF0aW8gfHwgMSxcbiAgICAgICAgICAgICAgICBwYXJhbXMuem5lYXIgfHwgMSxcbiAgICAgICAgICAgICAgICBwYXJhbXMuemZhciB8fCAyZTZcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FtZXJhRGVmLnR5cGUgPT09ICdvcnRob2dyYXBoaWMnKSB7XG4gICAgICAgICAgICBjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgICAgICAgICAgIC1wYXJhbXMueG1hZyxcbiAgICAgICAgICAgICAgICBwYXJhbXMueG1hZyxcbiAgICAgICAgICAgICAgICBwYXJhbXMueW1hZyxcbiAgICAgICAgICAgICAgICAtcGFyYW1zLnltYWcsXG4gICAgICAgICAgICAgICAgcGFyYW1zLnpuZWFyLFxuICAgICAgICAgICAgICAgIHBhcmFtcy56ZmFyXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbWVyYURlZi5uYW1lKSBjYW1lcmEubmFtZSA9IGNhbWVyYURlZi5uYW1lO1xuXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoY2FtZXJhLCBjYW1lcmFEZWYpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2FtZXJhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NraW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5JbmRleFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkU2tpbiA9IGZ1bmN0aW9uIChza2luSW5kZXgpIHtcbiAgICAgICAgdmFyIHNraW5EZWYgPSB0aGlzLmpzb24uc2tpbnNbc2tpbkluZGV4XTtcblxuICAgICAgICB2YXIgc2tpbkVudHJ5ID0geyBqb2ludHM6IHNraW5EZWYuam9pbnRzIH07XG5cbiAgICAgICAgaWYgKHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNraW5FbnRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcykudGhlbihmdW5jdGlvbiAoYWNjZXNzb3IpIHtcbiAgICAgICAgICAgIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzID0gYWNjZXNzb3I7XG5cbiAgICAgICAgICAgIHJldHVybiBza2luRW50cnk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmltYXRpb25JbmRleFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QW5pbWF0aW9uQ2xpcD59XG4gICAgICovXG4gICAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChhbmltYXRpb25JbmRleCkge1xuICAgICAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcblxuICAgICAgICB2YXIgYW5pbWF0aW9uRGVmID0ganNvbi5hbmltYXRpb25zW2FuaW1hdGlvbkluZGV4XTtcblxuICAgICAgICB2YXIgcGVuZGluZ05vZGVzID0gW107XG4gICAgICAgIHZhciBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgPSBbXTtcbiAgICAgICAgdmFyIHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMgPSBbXTtcbiAgICAgICAgdmFyIHBlbmRpbmdTYW1wbGVycyA9IFtdO1xuICAgICAgICB2YXIgcGVuZGluZ1RhcmdldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBhbmltYXRpb25EZWYuY2hhbm5lbHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBhbmltYXRpb25EZWYuY2hhbm5lbHNbaV07XG4gICAgICAgICAgICB2YXIgc2FtcGxlciA9IGFuaW1hdGlvbkRlZi5zYW1wbGVyc1tjaGFubmVsLnNhbXBsZXJdO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNoYW5uZWwudGFyZ2V0O1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB0YXJnZXQubm9kZSAhPT0gdW5kZWZpbmVkID8gdGFyZ2V0Lm5vZGUgOiB0YXJnZXQuaWQ7IC8vIE5PVEU6IHRhcmdldC5pZCBpcyBkZXByZWNhdGVkLlxuICAgICAgICAgICAgdmFyIGlucHV0ID0gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzW3NhbXBsZXIuaW5wdXRdIDogc2FtcGxlci5pbnB1dDtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPVxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQgPyBhbmltYXRpb25EZWYucGFyYW1ldGVyc1tzYW1wbGVyLm91dHB1dF0gOiBzYW1wbGVyLm91dHB1dDtcblxuICAgICAgICAgICAgcGVuZGluZ05vZGVzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KCdub2RlJywgbmFtZSkpO1xuICAgICAgICAgICAgcGVuZGluZ0lucHV0QWNjZXNzb3JzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIGlucHV0KSk7XG4gICAgICAgICAgICBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIG91dHB1dCkpO1xuICAgICAgICAgICAgcGVuZGluZ1NhbXBsZXJzLnB1c2goc2FtcGxlcik7XG4gICAgICAgICAgICBwZW5kaW5nVGFyZ2V0cy5wdXNoKHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ05vZGVzKSxcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdJbnB1dEFjY2Vzc29ycyksXG4gICAgICAgICAgICBQcm9taXNlLmFsbChwZW5kaW5nT3V0cHV0QWNjZXNzb3JzKSxcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdTYW1wbGVycyksXG4gICAgICAgICAgICBQcm9taXNlLmFsbChwZW5kaW5nVGFyZ2V0cylcbiAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBkZXBlbmRlbmNpZXNbMF07XG4gICAgICAgICAgICB2YXIgaW5wdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbMV07XG4gICAgICAgICAgICB2YXIgb3V0cHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWzJdO1xuICAgICAgICAgICAgdmFyIHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWzNdO1xuICAgICAgICAgICAgdmFyIHRhcmdldHMgPSBkZXBlbmRlbmNpZXNbNF07XG5cbiAgICAgICAgICAgIHZhciB0cmFja3MgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGlucHV0QWNjZXNzb3IgPSBpbnB1dEFjY2Vzc29yc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgb3V0cHV0QWNjZXNzb3IgPSBvdXRwdXRBY2Nlc3NvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZXIgPSBzYW1wbGVyc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgICAgICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbm9kZS51cGRhdGVNYXRyaXgoKTtcbiAgICAgICAgICAgICAgICBub2RlLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdmFyIFR5cGVkS2V5ZnJhbWVUcmFjaztcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gTnVtYmVyS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUEFUSF9QUk9QRVJUSUVTLnJvdGF0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gUXVhdGVybmlvbktleWZyYW1lVHJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy5wb3NpdGlvbjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBWZWN0b3JLZXlmcmFtZVRyYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldE5hbWUgPSBub2RlLm5hbWUgPyBub2RlLm5hbWUgOiBub2RlLnV1aWQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiAhPT0gdW5kZWZpbmVkID8gSU5URVJQT0xBVElPTltzYW1wbGVyLmludGVycG9sYXRpb25dIDogSW50ZXJwb2xhdGVMaW5lYXI7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0TmFtZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGlmIChQQVRIX1BST1BFUlRJRVNbdGFyZ2V0LnBhdGhdID09PSBQQVRIX1BST1BFUlRJRVMud2VpZ2h0cykge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb2RlIG1heSBiZSBhIEdyb3VwIChnbFRGIG1lc2ggd2l0aCBzZXZlcmFsIHByaW1pdGl2ZXMpIG9yIGEgTWVzaC5cbiAgICAgICAgICAgICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmlzTWVzaCA9PT0gdHJ1ZSAmJiBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TmFtZXMucHVzaChvYmplY3QubmFtZSA/IG9iamVjdC5uYW1lIDogb2JqZWN0LnV1aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXROYW1lcy5wdXNoKHRhcmdldE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBvdXRwdXRBcnJheSA9IG91dHB1dEFjY2Vzc29yLmFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjYWxlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gSW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IDEgLyAxMjc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlID0gMSAvIDI1NTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PSBJbnQxNkFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IDEgLyAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlID0gMSAvIDY1NTM1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBvdXRwdXQgYWNjZXNzb3IgY29tcG9uZW50IHR5cGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2NhbGVkID0gbmV3IEZsb2F0MzJBcnJheShvdXRwdXRBcnJheS5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IG91dHB1dEFycmF5Lmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlZFtqXSA9IG91dHB1dEFycmF5W2pdICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRBcnJheSA9IHNjYWxlZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSB0YXJnZXROYW1lcy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IG5ldyBUeXBlZEtleWZyYW1lVHJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXROYW1lc1tqXSArICcuJyArIFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEFjY2Vzc29yLmFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgaW50ZXJwb2xhdGlvbiB3aXRoIGN1c3RvbSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhbXBsZXIuaW50ZXJwb2xhdGlvbiA9PT0gJ0NVQklDU1BMSU5FJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQgPSBmdW5jdGlvbiBJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBDVUJJQ1NQTElORSBrZXlmcmFtZSBpbiBnbFRGIGhhcyB0aHJlZSBvdXRwdXQgdmFsdWVzIGZvciBlYWNoIGlucHV0IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcHJlc2VudGluZyBpblRhbmdlbnQsIHNwbGluZVZlcnRleCwgYW5kIG91dFRhbmdlbnQuIEFzIGEgcmVzdWx0LCB0cmFjay5nZXRWYWx1ZVNpemUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG11c3QgYmUgZGl2aWRlZCBieSB0aHJlZSB0byBnZXQgdGhlIGludGVycG9sYW50J3Mgc2FtcGxlU2l6ZSBhcmd1bWVudC5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlU2l6ZSgpIC8gMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgYXMgQ1VCSUNTUExJTkUuIGB0cmFjay5nZXRJbnRlcnBvbGF0aW9uKClgIGRvZXNuJ3Qgc3VwcG9ydCBjdXN0b20gaW50ZXJwb2xhbnRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5hbWUgPSBhbmltYXRpb25EZWYubmFtZSA/IGFuaW1hdGlvbkRlZi5uYW1lIDogJ2FuaW1hdGlvbl8nICsgYW5pbWF0aW9uSW5kZXg7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgQW5pbWF0aW9uQ2xpcChuYW1lLCB1bmRlZmluZWQsIHRyYWNrcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjbm9kZXMtYW5kLWhpZXJhcmNoeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSW5kZXhcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEPn1cbiAgICAgKi9cbiAgICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkTm9kZSA9IGZ1bmN0aW9uIChub2RlSW5kZXgpIHtcbiAgICAgICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgICAgICB2YXIgcGFyc2VyID0gdGhpcztcblxuICAgICAgICB2YXIgbWVzaFJlZmVyZW5jZXMgPSBqc29uLm1lc2hSZWZlcmVuY2VzO1xuICAgICAgICB2YXIgbWVzaFVzZXMgPSBqc29uLm1lc2hVc2VzO1xuXG4gICAgICAgIHZhciBub2RlRGVmID0ganNvbi5ub2Rlc1tub2RlSW5kZXhdO1xuXG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbWVzaCcsIG5vZGVEZWYubWVzaCkudGhlbihmdW5jdGlvbiAobWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZU51bSA9IG1lc2hVc2VzW25vZGVEZWYubWVzaF0rKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBtZXNoLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5uYW1lICs9ICdfaW5zdGFuY2VfJyArIGluc3RhbmNlTnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbWVzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2VpZ2h0cyBhcmUgcHJvdmlkZWQgb24gdGhlIG5vZGUsIG92ZXJyaWRlIHdlaWdodHMgb24gdGhlIG1lc2guXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZURlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghby5pc01lc2gpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBub2RlRGVmLndlaWdodHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5tb3JwaFRhcmdldEluZmx1ZW5jZXNbaV0gPSBub2RlRGVmLndlaWdodHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGVEZWYuY2FtZXJhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmdldERlcGVuZGVuY3koJ2NhbWVyYScsIG5vZGVEZWYuY2FtZXJhKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnMgJiZcbiAgICAgICAgICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXSAmJlxuICAgICAgICAgICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUxdLmxpZ2h0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbGlnaHQnLCBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5saWdodCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgIH0pKCkudGhlbihmdW5jdGlvbiAob2JqZWN0cykge1xuICAgICAgICAgICAgdmFyIG5vZGU7XG5cbiAgICAgICAgICAgIC8vIC5pc0JvbmUgaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLm1hcmtEZWZzXG4gICAgICAgICAgICBpZiAobm9kZURlZi5pc0JvbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbmV3IEJvbmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvYmplY3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBvYmplY3RzWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbmV3IE9iamVjdDNEKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlICE9PSBvYmplY3RzWzBdKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkKG9iamVjdHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGVEZWYubmFtZSkge1xuICAgICAgICAgICAgICAgIG5vZGUudXNlckRhdGEubmFtZSA9IG5vZGVEZWYubmFtZTtcbiAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBQcm9wZXJ0eUJpbmRpbmcuc2FuaXRpemVOb2RlTmFtZShub2RlRGVmLm5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG5vZGUsIG5vZGVEZWYpO1xuXG4gICAgICAgICAgICBpZiAobm9kZURlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgbm9kZSwgbm9kZURlZik7XG5cbiAgICAgICAgICAgIGlmIChub2RlRGVmLm1hdHJpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG4gICAgICAgICAgICAgICAgbWF0cml4LmZyb21BcnJheShub2RlRGVmLm1hdHJpeCk7XG4gICAgICAgICAgICAgICAgbm9kZS5hcHBseU1hdHJpeDQobWF0cml4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYudHJhbnNsYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnBvc2l0aW9uLmZyb21BcnJheShub2RlRGVmLnRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobm9kZURlZi5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucXVhdGVybmlvbi5mcm9tQXJyYXkobm9kZURlZi5yb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnNjYWxlLmZyb21BcnJheShub2RlRGVmLnNjYWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NjZW5lc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2VuZUluZGV4XG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHcm91cD59XG4gICAgICovXG4gICAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZFNjZW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gc2NlbmUgbm9kZSBoaWVyYWNoeSBidWlsZGVyXG5cbiAgICAgICAgZnVuY3Rpb24gYnVpbGROb2RlSGllcmFjaHkobm9kZUlkLCBwYXJlbnRPYmplY3QsIGpzb24sIHBhcnNlcikge1xuICAgICAgICAgICAgdmFyIG5vZGVEZWYgPSBqc29uLm5vZGVzW25vZGVJZF07XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJzZXJcbiAgICAgICAgICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIG5vZGVJZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZURlZi5za2luID09PSB1bmRlZmluZWQpIHJldHVybiBub2RlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHNrZWxldG9uIGhlcmUgYXMgd2VsbFxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBza2luRW50cnk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlclxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldERlcGVuZGVuY3koJ3NraW4nLCBub2RlRGVmLnNraW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2tpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraW5FbnRyeSA9IHNraW47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVuZGluZ0pvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc2tpbkVudHJ5LmpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdKb2ludHMucHVzaChwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIHNraW5FbnRyeS5qb2ludHNbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZ0pvaW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGpvaW50Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChtZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVzaC5pc01lc2gpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9uZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvbmVJbnZlcnNlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IGpvaW50Tm9kZXMubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpvaW50Tm9kZSA9IGpvaW50Tm9kZXNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqb2ludE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib25lcy5wdXNoKGpvaW50Tm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeDQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdC5mcm9tQXJyYXkoc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMuYXJyYXksIGogKiAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9uZUludmVyc2VzLnB1c2gobWF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogSm9pbnQgXCIlc1wiIGNvdWxkIG5vdCBiZSBmb3VuZC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2luRW50cnkuam9pbnRzW2pdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc2guYmluZChuZXcgU2tlbGV0b24oYm9uZXMsIGJvbmVJbnZlcnNlcyksIG1lc2gubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1aWxkIG5vZGUgaGllcmFjaHlcblxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRPYmplY3QuYWRkKG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGVEZWYuY2hpbGRyZW47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLnB1c2goYnVpbGROb2RlSGllcmFjaHkoY2hpbGQsIG5vZGUsIGpzb24sIHBhcnNlcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxvYWRTY2VuZShzY2VuZUluZGV4KSB7XG4gICAgICAgICAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICAgICAgICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgICAgICAgICAgdmFyIHNjZW5lRGVmID0gdGhpcy5qc29uLnNjZW5lc1tzY2VuZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBMb2FkZXIgcmV0dXJucyBHcm91cCwgbm90IFNjZW5lLlxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xODM0MiNpc3N1ZWNvbW1lbnQtNTc4OTgxMTcyXG4gICAgICAgICAgICB2YXIgc2NlbmUgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgICAgIGlmIChzY2VuZURlZi5uYW1lKSBzY2VuZS5uYW1lID0gc2NlbmVEZWYubmFtZTtcblxuICAgICAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShzY2VuZSwgc2NlbmVEZWYpO1xuXG4gICAgICAgICAgICBpZiAoc2NlbmVEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIHNjZW5lLCBzY2VuZURlZik7XG5cbiAgICAgICAgICAgIHZhciBub2RlSWRzID0gc2NlbmVEZWYubm9kZXMgfHwgW107XG5cbiAgICAgICAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG5vZGVJZHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShub2RlSWRzW2ldLCBzY2VuZSwganNvbiwgcGFyc2VyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NlbmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIEdMVEZMb2FkZXI7XG59KSgpO1xuXG5leHBvcnQgeyBHTFRGTG9hZGVyIH07XG4iLCIvLyBHbG9iYWwgaW1wb3J0cyAtXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBUV0VFTiwgeyB1cGRhdGUgfSBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XG5cbi8vIENvbXBvbmVudHNcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL2NvbXBvbmVudHMvcmVuZGVyZXInO1xuaW1wb3J0IGxhYmVsIGZyb20gJy4vY29tcG9uZW50cy9sYWJlbCc7XG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vY29tcG9uZW50cy9jYW1lcmEnO1xuaW1wb3J0IExpZ2h0IGZyb20gJy4vY29tcG9uZW50cy9saWdodCc7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi9jb21wb25lbnRzL2NvbnRyb2xzJztcbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuL2NvbXBvbmVudHMvZ2VvbWV0cnknO1xuaW1wb3J0IEVudmlyb25tZW50IGZyb20gJy4vY29tcG9uZW50cy9lbnZpcm9ubWVudCc7XG5cbi8vIEhlbHBlcnNcbmltcG9ydCBNZXNoSGVscGVyIGZyb20gJy4vaGVscGVycy9tZXNoSGVscGVyJztcblxuLy8gTW9kZWxcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vbW9kZWwvdGV4dHVyZSc7XG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbC9tb2RlbCc7XG5cbi8vIE1hbmFnZXJzXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9tYW5hZ2Vycy9pbnRlcmFjdGlvbic7XG5pbXBvcnQgRGF0R1VJIGZyb20gJy4vbWFuYWdlcnMvZGF0R1VJJztcblxuLy8gTmV3bHkgaW1wbGVtZW50ZWQgY2xhc3Nlc1xuaW1wb3J0IE1RVFRDbGllbnQgZnJvbSAnLi9tYW5hZ2Vycy9tcXR0Q2xpZW50JztcblxuLy8gQ29uZmlnIGRhdGFcbmltcG9ydCBDb25maWcgZnJvbSAnLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIFNUTExvYWRlclxuY29uc3QgU1RMTG9hZGVyID0gcmVxdWlyZSgndGhyZWUtc3RsLWxvYWRlcicpKFRIUkVFKTtcblxuLy8gR2xvYmFsIFZhcmlhYmxlc1xubGV0IGNhbWVyYSwgbGFiZWxSZW5kZXJlciwgSU5URVJTRUNURUQsIHNlbGVjdGVkTGFiZWw7XG5cbi8vIEZvciBjbGljayBldmVudCBvbiByb2JvdHNcbmNvbnN0IHJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcbmNvbnN0IG1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuLy8gVGhpcyBjbGFzcyBpbnN0YW50aWF0ZXMgYW5kIHRpZXMgYWxsIG9mIHRoZSBjb21wb25lbnRzIHRvZ2V0aGVyLCBzdGFydHMgdGhlIGxvYWRpbmcgcHJvY2VzcyBhbmQgcmVuZGVycyB0aGUgbWFpbiBsb29wXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcbiAgICAgICAgLy8gU2V0IGNvbnRhaW5lciBwcm9wZXJ0eSB0byBjb250YWluZXIgZWxlbWVudFxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgICAgICAvLyBTdGFydCBUaHJlZSBjbG9ja1xuICAgICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG5cbiAgICAgICAgLy8gTWFpbiBzY2VuZSBjcmVhdGlvblxuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgIHdpbmRvdy5zY2VuZSA9IHRoaXMuc2NlbmU7IC8vIGNvbmZpZyBhcyBhIGdsb2JhbCB2YXJpYWJsZVxuICAgICAgICB3aW5kb3cuc2NlbmVfc2NhbGUgPSBDb25maWcuc2NhbGU7XG4gICAgICAgIC8vIEhpZ2ggbGV2ZWwgcmVhbGl0eSBmbGFnXG4gICAgICAgIHdpbmRvdy5zZWxlY3RlZFJlYWxpdHkgPSBDb25maWcuc2VsZWN0ZWRSZWFsaXR5O1xuXG4gICAgICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZ0V4cDIoQ29uZmlnLmZvZy5jb2xvciwgQ29uZmlnLmZvZy5uZWFyKTtcblxuICAgICAgICB0aGlzLm1xdHQgPSBuZXcgTVFUVENsaWVudCh0aGlzLnNjZW5lKTtcblxuICAgICAgICAvLyBHZXQgRGV2aWNlIFBpeGVsIFJhdGlvIGZpcnN0IGZvciByZXRpbmFcbiAgICAgICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgICAgICBDb25maWcuZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWluIHJlbmRlcmVyIGNvbnN0cnVjdG9yXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5zY2VuZSwgY29udGFpbmVyKTtcblxuICAgICAgICAvLyBDb21wb25lbnRzIGluc3RhbnRpYXRpb25zXG4gICAgICAgIGNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5yZW5kZXJlci50aHJlZVJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBDb250cm9scyhjYW1lcmEudGhyZWVDYW1lcmEsIGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMubGlnaHQgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSk7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgcGxhY2UgbGlnaHRzIGluIHNjZW5lXG4gICAgICAgIGNvbnN0IGxpZ2h0cyA9IFsnYW1iaWVudCcsICdkaXJlY3Rpb25hbCcsICdwb2ludCcsICdoZW1pJ107XG4gICAgICAgIGxpZ2h0cy5mb3JFYWNoKChsaWdodCkgPT4gdGhpcy5saWdodC5wbGFjZShsaWdodCkpO1xuXG4gICAgICAgIC8vIFNldCB1cCBTdGF0cyBpZiBkZXYgZW52aXJvbm1lbnRcbiAgICAgICAgaWYgKENvbmZpZy5pc0RldiAmJiBDb25maWcuaXNTaG93aW5nU3RhdHMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHMgPSBuZXcgU3RhdHMoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3RhdHMuZG9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChDb25maWcuaXNTaG93aW5nTGFibGVzKSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsUmVuZGVyZXIgPSBsYWJlbCgpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbFJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHVwIGd1aVxuICAgICAgICBpZiAoQ29uZmlnLmlzRGV2KSB7XG4gICAgICAgICAgICB0aGlzLmd1aSA9IG5ldyBEYXRHVUkodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnN0YW50aWF0ZSB0ZXh0dXJlIGNsYXNzXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgbG9hZGluZyB0aGUgdGV4dHVyZXMgYW5kIHRoZW4gZ28gb24gdG8gbG9hZCB0aGUgbW9kZWwgYWZ0ZXIgdGhlIHRleHR1cmUgUHJvbWlzZXMgaGF2ZSByZXNvbHZlZFxuICAgICAgICB0aGlzLnRleHR1cmUubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgZW52aXJvbm1lbnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gbmV3IEVudmlyb25tZW50KCk7XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIGlmIChDb25maWcuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm1lc2hIZWxwZXIgPSBuZXcgTWVzaEhlbHBlcih0aGlzLnNjZW5lLCB0aGlzLm1vZGVsLm9iaik7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBpZiAoQ29uZmlnLm1lc2guZW5hYmxlSGVscGVyKSB0aGlzLm1lc2hIZWxwZXIuZW5hYmxlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5sb2FkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIC8vIG9uUHJvZ3Jlc3MgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5vblByb2dyZXNzID0gKGl0ZW0sIGxvYWRlZCwgdG90YWwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtpdGVtfTogJHtsb2FkZWR9ICR7dG90YWx9YCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBBbGwgbG9hZGVycyBkb25lIG5vd1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLm9uTG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhbGVydCgnTG9hZGVkJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgY29tcGxldGUhJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdXAgaW50ZXJhY3Rpb24gbWFuYWdlciB3aXRoIHRoZSBhcHAgbm93IHRoYXQgdGhlIG1vZGVsIGlzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICAgICAgICAgICAgICBuZXcgSW50ZXJhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZSxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnRocmVlQ2FtZXJhLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHNcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGRhdC5HVUkgY29udHJvbHMgaWYgZGV2XG4gICAgICAgICAgICAgICAgaWYgKENvbmZpZy5pc0Rldikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc2hIZWxwZXIgPSBuZXcgTWVzaEhlbHBlcih0aGlzLnNjZW5lLCB0aGlzLm1vZGVsLm9iaik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKENvbmZpZy5tZXNoLmVuYWJsZUhlbHBlcikgdGhpcy5tZXNoSGVscGVyLmVuYWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZ3VpLmxvYWQodGhpcywgdGhpcy5tb2RlbC5vYmopO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmd1aS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXZlcnl0aGluZyBpcyBub3cgZnVsbHkgbG9hZGVkXG4gICAgICAgICAgICAgICAgQ29uZmlnLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdGFydCByZW5kZXIgd2hpY2ggZG9lcyBub3Qgd2FpdCBmb3IgbW9kZWwgZnVsbHkgbG9hZGVkXG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignI2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIC8vIEV2ZW50bGlzdG5lciBmb3IgY2F0Y2hpbmcgbW91c2UgY2xpY2sgZXZlbnRzXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Eb2N1bWVudE1vdXNlRG93biwgZmFsc2UpO1xuICAgICAgICAvLyBFdmVudGxpc3RuZXIgZm9yIGNhdGNoaW5nIG1vdXNlIG1vdmUgZXZlbnRzXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Eb2N1bWVudE1vdXNlTW92ZSk7XG4gICAgfVxuXG4gICAgb25Eb2N1bWVudE1vdXNlRG93bihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIG1vdXNlLnggPSAoZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDIgLSAxO1xuICAgICAgICBtb3VzZS55ID0gLShldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0KSAqIDIgKyAxO1xuXG4gICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG1vdXNlLCBjYW1lcmEudGhyZWVDYW1lcmEpO1xuXG4gICAgICAgIGNvbnN0IGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbik7XG4gICAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdCA9IGludGVyc2VjdHNbMF0ub2JqZWN0O1xuICAgICAgICAgICAgaWYgKElOVEVSU0VDVEVEKSBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5zZXRWYWx1ZXMoeyBvcGFjaXR5OiBJTlRFUlNFQ1RFRC5jdXJyZW50T3BhY2l0eSB9KTtcbiAgICAgICAgICAgIElOVEVSU0VDVEVEID0gb2JqZWN0O1xuICAgICAgICAgICAgc2VsZWN0ZWRMYWJlbCA9IElOVEVSU0VDVEVELmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgSU5URVJTRUNURUQuY3VycmVudE9wYWNpdHkgPSBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5vcGFjaXR5O1xuICAgICAgICAgICAgSU5URVJTRUNURUQubGFiZWxzVmlzaWJpbGl0eSA9IElOVEVSU0VDVEVELm1hdGVyaWFsLmxhYmVsVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZExhYmVsICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0ZWRMYWJlbC52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgQ29uZmlnLmlzU2hvd2luZ0xhYmxlcykge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFiZWwudmlzaWJsZSA9ICFzZWxlY3RlZExhYmVsLnZpc2libGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5zZWxlY3RlZCA9ICFJTlRFUlNFQ1RFRC5tYXRlcmlhbC5zZWxlY3RlZDtcbiAgICAgICAgICAgIGlmIChJTlRFUlNFQ1RFRC5uYW1lLnN0YXJ0c1dpdGgoJ09ic3RhY2xlJykpIHtcbiAgICAgICAgICAgICAgICAvLyBPYnN0YWNsZSBzZWxlY3Rpb24gZXZlbnQgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAvLyBpZiAoSU5URVJTRUNURUQubWF0ZXJpYWwuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgSU5URVJTRUNURUQuY3VycmVudEhleCA9IElOVEVSU0VDVEVELm1hdGVyaWFsLmVtaXNzaXZlLmdldEhleCgpO1xuICAgICAgICAgICAgICAgIC8vICAgICBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5lbWlzc2l2ZS5zZXRIZXgoMHhmOTVmNGEpO1xuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIElOVEVSU0VDVEVELmN1cnJlbnRIZXggPSBJTlRFUlNFQ1RFRC5tYXRlcmlhbC51c2VyRGF0YS5vcmlnaW5hbEVtbWlzaXZlO1xuICAgICAgICAgICAgICAgIC8vICAgICBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5lbWlzc2l2ZS5zZXRIZXgoSU5URVJTRUNURUQuY3VycmVudEhleCk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChJTlRFUlNFQ1RFRC5uYW1lLnN0YXJ0c1dpdGgoJ1JvYm90JykpIHtcbiAgICAgICAgICAgICAgICAvLyBSb2JvdCBzZWxlY3Rpb24gZXZlbnQgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDb25zaWRlciBSZWFsaXR5IGZpbHRlcmluZyB0b28uLi5cbiAgICAgICAgICAgICAgICBpZiAoSU5URVJTRUNURUQubWF0ZXJpYWwuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgSU5URVJTRUNURUQubWF0ZXJpYWwuc2V0VmFsdWVzKHsgb3BhY2l0eTogMC41IH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIElOVEVSU0VDVEVELm1hdGVyaWFsLnNldFZhbHVlcyh7IG9wYWNpdHk6IDEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChJTlRFUlNFQ1RFRC5jbGlja0V2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgSU5URVJTRUNURUQuY2xpY2tFdmVudChJTlRFUlNFQ1RFRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKElOVEVSU0VDVEVEKSBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5zZXRWYWx1ZXMoeyBvcGFjaXR5OiBJTlRFUlNFQ1RFRC5jdXJyZW50T3BhY2l0eSB9KTtcbiAgICAgICAgICAgIElOVEVSU0VDVEVEID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRG9jdW1lbnRNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBtb3VzZS54ID0gKGV2ZW50LmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiAyIC0gMTtcbiAgICAgICAgbW91c2UueSA9IC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMTtcblxuICAgICAgICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShtb3VzZSwgY2FtZXJhLnRocmVlQ2FtZXJhKTtcblxuICAgICAgICBjb25zdCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoc2NlbmUuY2hpbGRyZW4sIHRydWUpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBvYmplY3QgPSBpbnRlcnNlY3RzWzBdLm9iamVjdDtcbiAgICAgICAgICAgIGlmIChJTlRFUlNFQ1RFRCAhPT0gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKElOVEVSU0VDVEVEKSBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5zZXRWYWx1ZXMoeyBvcGFjaXR5OiBJTlRFUlNFQ1RFRC5jdXJyZW50T3BhY2l0eSB9KTtcbiAgICAgICAgICAgICAgICBJTlRFUlNFQ1RFRCA9IG9iamVjdDtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhYmVsID0gSU5URVJTRUNURUQuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgSU5URVJTRUNURUQuY3VycmVudE9wYWNpdHkgPSBJTlRFUlNFQ1RFRC5tYXRlcmlhbC5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIElOVEVSU0VDVEVELmN1cnJlbnRDb2xvciA9IElOVEVSU0VDVEVELm1hdGVyaWFsLm9wYWNpdHk7XG4gICAgICAgICAgICAgICAgSU5URVJTRUNURUQubWF0ZXJpYWwuc2V0VmFsdWVzKHsgY29sb3I6IDB4MDNkZmZjLCBvcGFjaXR5OiAwLjc1IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKElOVEVSU0VDVEVEKVxuICAgICAgICAgICAgICAgIElOVEVSU0VDVEVELm1hdGVyaWFsLnNldFZhbHVlcyh7IG9wYWNpdHk6IDEuMCwgY29sb3I6IElOVEVSU0VDVEVELm1hdGVyaWFsLnVzZXJEYXRhLm9yaWdpbmFsQ29sb3IgfSk7XG4gICAgICAgICAgICBJTlRFUlNFQ1RFRCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIENhbGwgcmVuZGVyIGZ1bmN0aW9uIGFuZCBwYXNzIGluIGNyZWF0ZWQgc2NlbmUgYW5kIGNhbWVyYVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCBjYW1lcmEudGhyZWVDYW1lcmEpO1xuXG4gICAgICAgIC8vIHJlbmRlciBsYWJlbHMgaWYgZW5hYmxlZFxuICAgICAgICBpZiAoQ29uZmlnLmlzU2hvd2luZ0xhYmxlcykge1xuICAgICAgICAgICAgdGhpcy5sYWJlbFJlbmRlcmVyLmRvbUVsZW1lbnQuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsUmVuZGVyZXIuZG9tRWxlbWVudC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFiZWxSZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgY2FtZXJhLnRocmVlQ2FtZXJhKTtcblxuICAgICAgICAvLyBEZWx0YSB0aW1lIGlzIHNvbWV0aW1lcyBuZWVkZWQgZm9yIGNlcnRhaW4gdXBkYXRlc1xuICAgICAgICAvL2NvbnN0IGRlbHRhID0gdGhpcy5jbG9jay5nZXREZWx0YSgpO1xuXG4gICAgICAgIC8vIENhbGwgYW55IHZlbmRvciBvciBtb2R1bGUgZnJhbWUgdXBkYXRlcyBoZXJlXG4gICAgICAgIFRXRUVOLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHMudXBkYXRlKCk7XG5cbiAgICAgICAgY2FtZXJhLnRocmVlQ2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHN0YXRzIGlmIGRldiBlbnZpcm9ubWVudFxuICAgICAgICBpZiAoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xuICAgICAgICAgICAgdGhpcy5zdGF0cy51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJBRlxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIuYmluZCh0aGlzKSk7IC8vIEJpbmQgdGhlIG1haW4gY2xhc3MgaW5zdGVhZCBvZiB3aW5kb3cgb2JqZWN0XG4gICAgfVxufVxuIiwiaW1wb3J0IENvbmZpZywgeyBzYXZlQ29uZmlnIH0gZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBDT01NRU5UKE51d2FuSilcbi8vIFN0b3JlIHRoZSBsYXN0IHN0YXRlIG9mIHRoZSB0b2dnbGVzIGluIHRoZSB3aW5kb3cubG9jYWxTdG9yYWdlXG4vLyBSZWZlcjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9sb2NhbFN0b3JhZ2Vcbi8vIFJlZmVyOiBodHRwczovL2dpdGh1Yi5jb20vZGF0YWFydHMvZGF0Lmd1aS9ibG9iL21hc3Rlci9BUEkubWQjR1VJK3VzZUxvY2FsU3RvcmFnZVxuXG4vLyBNYW5hZ2VzIGFsbCBkYXQuR1VJIGludGVyYWN0aW9uc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0R1VJIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTtcblxuICAgICAgICB0aGlzLmd1aS51c2VMb2NhbFN0b3JhZ2UgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbWFpbi5jYW1lcmEudGhyZWVDYW1lcmE7XG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBtYWluLmNvbnRyb2xzLnRocmVlQ29udHJvbHM7XG4gICAgICAgIHRoaXMubGlnaHQgPSBtYWluLmxpZ2h0O1xuICAgICAgICB0aGlzLnNjZW5lID0gbWFpbi5zY2VuZTtcblxuICAgICAgICB0aGlzLm1vZGVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZXNoSGVscGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBsb2FkKG1haW4sIG1lc2gpIHtcbiAgICAgICAgLy8gQWRkIGZvbGRlcnNcbiAgICAgICAgdGhpcy5ndWlcbiAgICAgICAgICAgIC5hZGQoQ29uZmlnLCAnaXNTaG93aW5nUm9ib3RTbmFwc2hvdHMnKVxuICAgICAgICAgICAgLm5hbWUoJ1JvYm90IFNuYXBzaG90cycpXG4gICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgQ29uZmlnLmlzU2hvd2luZ1JvYm90U25hcHNob3RzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgc2F2ZUNvbmZpZyhDb25maWcpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLyogTGFiZWxzIEZvbGRlciAqL1xuICAgICAgICBjb25zdCBsYWJlbHNGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xhYmVscycpO1xuICAgICAgICAvLyBsYWJlbHNGb2xkZXJcbiAgICAgICAgLy8gICAgIC5hZGQoQ29uZmlnLCAnaXNTaG93aW5nTGFibGVzJylcbiAgICAgICAgLy8gICAgIC5uYW1lKCdBbGwgTGFiZWxzJylcbiAgICAgICAgLy8gICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgLy8gICAgICAgICBDb25maWcuaXNTaG93aW5nTGFibGVzID0gdmFsdWU7XG4gICAgICAgIC8vICAgICAgICAgQ29uZmlnLmxhYmVsc1Zpc2liaWxpdHkgPSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIG9ic3RhY2xlczogdmFsdWUsXG4gICAgICAgIC8vICAgICAgICAgICAgIHJvYm90czogdmFsdWVcbiAgICAgICAgLy8gICAgICAgICB9O1xuICAgICAgICAvLyAgICAgICAgIHNhdmVDb25maWcoQ29uZmlnKTtcbiAgICAgICAgLy8gICAgIH0pO1xuXG4gICAgICAgIGxhYmVsc0ZvbGRlclxuICAgICAgICAgICAgLmFkZChDb25maWcubGFiZWxzVmlzaWJpbGl0eSwgJ29ic3RhY2xlcycpXG4gICAgICAgICAgICAubmFtZSgnT2JzdGFjbGUgTGFiZWxzJylcbiAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUxhYmVscyh0aGlzLnNjZW5lLmNoaWxkcmVuLCAnT2JzdGFjbGUnLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbGFiZWxzRm9sZGVyXG4gICAgICAgICAgICAuYWRkKENvbmZpZy5sYWJlbHNWaXNpYmlsaXR5LCAncm9ib3RzJylcbiAgICAgICAgICAgIC5uYW1lKCdSb2JvdCBMYWJlbHMnKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTGFiZWxzKHRoaXMuc2NlbmUuY2hpbGRyZW4sICdSb2JvdCcsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8qIFJlYWxpdHkgRm9sZGVyICovXG4gICAgICAgIGNvbnN0IHJlYWxpdHlGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlYWxpdHknKTtcblxuICAgICAgICByZWFsaXR5Rm9sZGVyXG4gICAgICAgICAgICAuYWRkKENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcywgJ3JlYWwnKVxuICAgICAgICAgICAgLm5hbWUoJ1BoeXNpY2FsIFJlYWxpdHknKVxuICAgICAgICAgICAgLmxpc3RlbigpXG4gICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVSZWFsaXR5KCdyZWFsJywgJ1InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZWFsaXR5Rm9sZGVyXG4gICAgICAgICAgICAuYWRkKENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcywgJ3ZpcnR1YWwnKVxuICAgICAgICAgICAgLm5hbWUoJ1ZpcnR1YWwgUmVhbGl0eScpXG4gICAgICAgICAgICAubGlzdGVuKClcbiAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVJlYWxpdHkoJ3ZpcnR1YWwnLCAnVicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT3RoZXJcbiAgICAgICAgY29uc3Qgb3RoZXJGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ090aGVyJyk7XG4gICAgICAgIG90aGVyRm9sZGVyXG4gICAgICAgICAgICAuYWRkKENvbmZpZy5jb250cm9scywgJ2F1dG9Sb3RhdGUnKVxuICAgICAgICAgICAgLm5hbWUoJ0F1dG8gUm90YXRlJylcbiAgICAgICAgICAgIC5saXN0ZW4oKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCdUb2dnbGUgQXV0b1JvdGF0ZScpO1xuICAgICAgICAgICAgICAgIENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgc2F2ZUNvbmZpZyhDb25maWcpO1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIG90aGVyRm9sZGVyXG4gICAgICAgICAgICAuYWRkKENvbmZpZy5jb250cm9scywgJ2F1dG9Sb3RhdGVTcGVlZCcpXG4gICAgICAgICAgICAubWluKC01KVxuICAgICAgICAgICAgLm1heCg1KVxuICAgICAgICAgICAgLm5hbWUoJ0F1dG8gUm90YXRlIFNwZWVkJylcbiAgICAgICAgICAgIC5saXN0ZW4oKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlU3BlZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBzYXZlQ29uZmlnKENvbmZpZyk7XG4gICAgICAgICAgICAgICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLyogR2xvYmFsICovXG4gICAgICAgIC8vIHRoaXMuZ3VpLm9wZW4oKTtcbiAgICAgICAgdGhpcy5ndWkuY2xvc2UoKTtcblxuICAgICAgICAvLyB0aGlzLm1vZGVsID0gbWFpbi5tb2RlbDtcbiAgICAgICAgLy8gdGhpcy5tZXNoSGVscGVyID0gbWFpbi5tZXNoSGVscGVyO1xuICAgIH1cblxuICAgIHRvZ2dsZUxhYmVscyhvYmplY3RzLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgICBzYXZlQ29uZmlnKENvbmZpZyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdHMpICYmIHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlICE9PSAnJykge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFyaWFibGUgb2Ygb2JqZWN0cykge1xuICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZS5uYW1lLnN0YXJ0c1dpdGgodHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUuY2hpbGRyZW5bMF0udmlzaWJsZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvZ2dsZVJlYWxpdHkocmVhbGl0eSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgLy8gYnkgZGVmYXVsdCB2aXN1YWxpemVyIHdpbGwgaW50ZXJjZXB0IGFsbCB0aGUgY29tbXVuaWNhdGlvbiBjb21pbmcgdG8gdGhlIGNoYW5uZWwgcmVnYXJkbGVzcyBvZiB0aGUgcmVhbGl0eS5cbiAgICAgICAgLy8gdGhpcyBjb250cm9sIHBhbmVsIHdpbGwgb25seSB0b2dnbGUgdGhlICd2aXNpYmlsaXR5JyBvZiBvYmplY3RzIGluIHRoZSBzZWxlY3RlZCByZWFsaXRpZXMuXG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSBzY2VuZS5jaGlsZHJlbjtcbiAgICAgICAgc2F2ZUNvbmZpZyhDb25maWcpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhvYmplY3RzKS5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBvYmpbMV1bJ25hbWUnXTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWxpdHkgPSBvYmpbMV1bJ3JlYWxpdHknXTtcblxuICAgICAgICAgICAgaWYgKHJlYWxpdHkgIT09IHVuZGVmaW5lZCAmJiByZWFsaXR5ID09PSAnUicpIHtcbiAgICAgICAgICAgICAgICAvLyBvYmpbMV0udHJhbnNwYXJlbnQgPSBDb25maWcuc2VsZWN0ZWRSZWFsaXRpZXMucmVhbDtcbiAgICAgICAgICAgICAgICBvYmpbMV0ubWF0ZXJpYWwub3BhY2l0eSA9IENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcy5yZWFsID8gMS4wIDogQ29uZmlnLmhpZGRlbk9wYWNpdHk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlYWxpdHkgIT09IHVuZGVmaW5lZCAmJiByZWFsaXR5ID09PSAnVicpIHtcbiAgICAgICAgICAgICAgICAvLyBvYmpbMV0udHJhbnNwYXJlbnQgPSBDb25maWcuc2VsZWN0ZWRSZWFsaXRpZXMudmlydHVhbDtcbiAgICAgICAgICAgICAgICBvYmpbMV0ubWF0ZXJpYWwub3BhY2l0eSA9IENvbmZpZy5zZWxlY3RlZFJlYWxpdGllcy52aXJ0dWFsID8gMS4wIDogQ29uZmlnLmhpZGRlbk9wYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMuZ3VpLnNob3coKTtcbiAgICB9XG5cbiAgICB1bmxvYWQoKSB7XG4gICAgICAgIHRoaXMuZ3VpLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBLZXlib2FyZCBmcm9tICcuLi8uLi91dGlscy9rZXlib2FyZCc7XG5pbXBvcnQgSGVscGVycyBmcm9tICcuLi8uLi91dGlscy9oZWxwZXJzJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBNYW5hZ2VzIGFsbCBpbnB1dCBpbnRlcmFjdGlvbnNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSwgY29udHJvbHMpIHtcbiAgICAgICAgLy8gUHJvcGVydGllc1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBjb250cm9scztcblxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgIC8vIEluc3RhbnRpYXRlIGtleWJvYXJkIGhlbHBlclxuICAgICAgICB0aGlzLmtleWJvYXJkID0gbmV3IEtleWJvYXJkKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuZXJzXG4gICAgICAgIC8vIE1vdXNlIGV2ZW50c1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdtb3VzZW1vdmUnLFxuICAgICAgICAgICAgKGV2ZW50KSA9PiBIZWxwZXJzLnRocm90dGxlKHRoaXMub25Nb3VzZU1vdmUoZXZlbnQpLCAyNTApLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZXZlbnQpID0+IHRoaXMub25Nb3VzZUxlYXZlKGV2ZW50KSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VPdmVyKGV2ZW50KSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIEtleWJvYXJkIGV2ZW50c1xuICAgICAgICB0aGlzLmtleWJvYXJkLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gT25seSBvbmNlXG4gICAgICAgICAgICBpZiAoZXZlbnQucmVwZWF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5rZXlib2FyZC5ldmVudE1hdGNoZXMoZXZlbnQsICdlc2NhcGUnKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFc2NhcGUgcHJlc3NlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbk1vdXNlT3ZlcihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIENvbmZpZy5pc01vdXNlT3ZlciA9IHRydWU7XG4gICAgfVxuXG4gICAgb25Nb3VzZUxlYXZlKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgQ29uZmlnLmlzTW91c2VPdmVyID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25Nb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIENvbmZpZy5pc01vdXNlTW92aW5nID0gZmFsc2U7XG4gICAgICAgIH0sIDIwMCk7XG5cbiAgICAgICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCBUV0VFTiwgeyB1cGRhdGUgfSBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XG5pbXBvcnQgTVFUVCBmcm9tICdwYWhvLW1xdHQnO1xuXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcbmltcG9ydCBPYnN0YWNsZSBmcm9tICcuLi9jb21wb25lbnRzL29ic3RhY2xlJztcbmltcG9ydCBSb2JvdCBmcm9tICcuLi9jb21wb25lbnRzL3JvYm90JztcbmltcG9ydCB7IGdldENyZWRlbnRpYWxzIH0gZnJvbSAnLi4vaGVscGVycy91cmxIZWxwZXInO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTVFUVCBUb3BpY3NcblxuLy8gQ3JlYXRlIGFuZCBkZWxldGUgcm9ib3Qgb2JqZWN0c1xuY29uc3QgVE9QSUNfUk9CT1RfQ1JFQVRFID0gJ3JvYm90L2NyZWF0ZSc7XG5jb25zdCBUT1BJQ19ST0JPVF9ERUxFVEUgPSAncm9ib3QvZGVsZXRlJztcbmNvbnN0IFRPUElDX1JPQk9UX0JST0FEQ0FTVCA9ICdyb2JvdC9tc2cvYnJvYWRjYXN0JztcblxuLy8gVGhpcyB3aWxsIHByb3ZpZGUgbG9jYXRpb24gZGF0YSB0byB0aGUgR1VJXG5jb25zdCBUT1BJQ19MT0NfSU5GT19GUk9NX1NFUlZFUiA9ICdsb2NhbGl6YXRpb24vZGF0YSc7XG5jb25zdCBUT1BJQ19MT0NfSU5GT19GUk9NX0xPQ19TWVNURU1TID0gJ2xvY2FsaXphdGlvbi91cGRhdGUnO1xuXG4vLyBUaGlzIHdpbGwgcmVxdWVzdCB0aGUgbG9jYWxpemF0aW9uIGRhdGEgdXBkYXRlIGZyb20gdGhlIHNlcnZlclxuY29uc3QgVE9QSUNfTE9DX1JFUVVFU1QgPSAnbG9jYWxpemF0aW9uL2RhdGEvPyc7XG5cbi8vIFRoaXMgd2lsbCByZXF1ZXN0IG9ic3RhY2xlIGRhdGEgZnJvbSB0aGUgc2VydmVyXG5jb25zdCBUT1BJQ19PQlNUQUNMRV9SRVFVRVNUID0gJ29ic3RhY2xlcy8/JztcblxuLy8gVGhpcyB3aWxsIHNlbmQgb2JzdGFjbGUgZGF0YSBhcyBhIEpTT04gbGlzdFxuY29uc3QgVE9QSUNfT0JTVEFDTEVTX0xJU1QgPSAnb2JzdGFjbGVzJztcbmNvbnN0IFRPUElDX09CU1RBQ0xFU19ERUxFVEUgPSAnb2JzdGFjbGVzL2RlbGV0ZSc7XG5jb25zdCBUT1BJQ19PQlNUQUNMRVNfREVMRVRFX0FMTCA9ICdvYnN0YWNsZXMvZGVsZXRlL2FsbCc7XG5cbi8vIFJvYm90IENvbG9yIC0gTmVvUGl4ZWxcbmNvbnN0IFRPUElDX0NIQU5HRV9DT0xPUiA9ICdvdXRwdXQvbmVvcGl4ZWwnO1xuXG4vLyBUaGlzIHdpbGwgaGVscCB0byByZW1vdGUgdXBkYXRlIHRoZSBwYXJhbWV0ZXJzIGluIGhlcmVcbmNvbnN0IFRPUElDX01BTkFHRU1FTlRfVklTVUFMSVpFUiA9ICdtZ3QvdmlzdWFsaXplcic7XG5cbi8vIFJvYm90IG1hbmFnZW1lbnQgc25hcHNob3QgdG9waWNcbmNvbnN0IFRPUElDX01BTkFHRU1FTlRfU05BUFNIT1QgPSAnbWd0L3JvYm90cy8/JztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTVFUVENsaWVudCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLnJvYm90ID0gbmV3IFJvYm90KHNjZW5lKTtcbiAgICAgICAgdGhpcy5vYnN0YWNsZXMgPSBuZXcgT2JzdGFjbGUoc2NlbmUpO1xuXG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gZ2V0Q3JlZGVudGlhbHMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFubmVsKCk7XG5cbiAgICAgICAgaWYgKGNyZWRlbnRpYWxzID09PSAtMSkge1xuICAgICAgICAgICAgYWxlcnQoJ1VuYXV0aG9yaXplZCBhY2Nlc3MhIFRoZSBWaXN1YWxpemVyIHdpbGwgbm90IHdvcmsgcHJvcGVybHkuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYSByYW5kb20gY2xpZW50IElkXG4gICAgICAgICAgICBjb25zdCBjbGllbnRfaWQgPSAnY2xpZW50XycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgTVFUVC5DbGllbnQoQ29uZmlnLm1xdHQuc2VydmVyLCBDb25maWcubXF0dC5wb3J0LCBDb25maWcubXF0dC5wYXRoLCBjbGllbnRfaWQpO1xuXG4gICAgICAgICAgICB3aW5kb3cubXF0dCA9IHRoaXMuY2xpZW50O1xuICAgICAgICAgICAgd2luZG93LmNoYW5uZWwgPSBjcmVkZW50aWFscy5jaGFubmVsID09PSB1bmRlZmluZWQgPyAndjEnIDogY3JlZGVudGlhbHMuY2hhbm5lbDtcblxuICAgICAgICAgICAgdGhpcy5jbGllbnQuY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgdXNlck5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICByZWNvbm5lY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlU1NMOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsZWFuU2Vzc2lvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNUVRUOiBjb25uZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdG9waWNzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKFRPUElDX0xPQ19JTkZPX0ZST01fU0VSVkVSKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoVE9QSUNfTE9DX0lORk9fRlJPTV9MT0NfU1lTVEVNUyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoVE9QSUNfUk9CT1RfQ1JFQVRFKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoVE9QSUNfUk9CT1RfREVMRVRFKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoVE9QSUNfUk9CT1RfQlJPQURDQVNUKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZShUT1BJQ19DSEFOR0VfQ09MT1IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZShUT1BJQ19PQlNUQUNMRVNfTElTVCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKFRPUElDX09CU1RBQ0xFU19ERUxFVEUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZShUT1BJQ19PQlNUQUNMRVNfREVMRVRFX0FMTCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKFRPUElDX01BTkFHRU1FTlRfVklTVUFMSVpFUik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKFRPUElDX01BTkFHRU1FTlRfU05BUFNIT1QpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgZm9yIG9ic3RhY2xlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5wdWJsaXNoKFRPUElDX09CU1RBQ0xFX1JFUVVFU1QsIENvbmZpZy5taXhlZFJlYWxpdHkub2JzdGFjbGVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFRPUElDX09CU1RBQ0xFX1JFUVVFU1QsICdNJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBmb3IgY29vcmRpbmF0ZSBkYXRhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaChUT1BJQ19MT0NfUkVRVUVTVCwgQ29uZmlnLm1peGVkUmVhbGl0eS5yb2JvdHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY2VzcyBnbG9iYWxseVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucm9ib3QgPSB0aGlzLnJvYm90O1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub2JzdGFjbGVzID0gdGhpcy5vYnN0YWNsZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub25NZXNzYWdlQXJyaXZlZCA9IHRoaXMub25NZXNzYWdlQXJyaXZlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub25Db25uZWN0aW9uTG9zdCA9IHRoaXMub25Db25uZWN0aW9uTG9zdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRmFpbHVyZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTVFUVDogY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ01RVFQ6IGNvbm5lY3Rpb24gZmFpbGVkIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ2hhbm5lbCgpIHtcbiAgICAgICAgLy8gY29uc3QgY2hhbm5lbEhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgICAgLy8gaWYgKChjaGFubmVsSGFzaCAhPSAnJykgJiAoY2hhbm5lbEhhc2gubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgLy8gICAgIC8vIHdpbmRvdy5jaGFubmVsID0gY2hhbm5lbEhhc2guc3Vic3RyaW5nKDEpO1xuICAgICAgICAvLyAgICAgd2luZG93LmNoYW5uZWwgPSBjaGFubmVsSGFzaC5zcGxpdCgnIycpWzFdLnNwbGl0KCc/JylbMF07XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICB3aW5kb3cuY2hhbm5lbCA9IENvbmZpZy5tcXR0LmNoYW5uZWw7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ01RVFQ6IGNoYW5uZWw9Jywgd2luZG93LmNoYW5uZWwsIGNoYW5uZWxIYXNoKTtcbiAgICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgb25Db25uZWN0aW9uTG9zdChyZXNwb25zZU9iamVjdCkge1xuICAgICAgICBpZiAocmVzcG9uc2VPYmplY3QuZXJyb3JDb2RlICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTVFUVDogb25Db25uZWN0aW9uTG9zdDonICsgcmVzcG9uc2VPYmplY3QuZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNUVRUOiByZWNvbm5lY3RpbmcnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTWVzc2FnZUFycml2ZWQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IHBhY2tldC5wYXlsb2FkU3RyaW5nLnRyaW0oKTtcbiAgICAgICAgY29uc3QgdCA9IHBhY2tldC5kZXN0aW5hdGlvbk5hbWU7XG4gICAgICAgIGNvbnN0IHRvcGljID0gdC5zdWJzdHJpbmcodC5pbmRleE9mKCcvJykgKyAxKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnTVFUVDogJyArIHRvcGljICsgJyA+ICcgKyBtc2cpO1xuXG4gICAgICAgIGlmICh0b3BpYyA9PSBUT1BJQ19ST0JPVF9DUkVBVEUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobXNnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucm9ib3QuY3JlYXRlKGRhdGEuaWQsIGRhdGEueCwgZGF0YS55LCBkYXRhLmhlYWRpbmcsIGRhdGEucmVhbGl0eSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0b3BpYyA9PSBUT1BJQ19ST0JPVF9ERUxFVEUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1zZyk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJvYm90LmRlbGV0ZShkYXRhLmlkKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRvcGljID09IFRPUElDX0xPQ19JTkZPX0ZST01fTE9DX1NZU1RFTVMgfHwgdG9waWMgPT0gVE9QSUNfTE9DX0lORk9fRlJPTV9TRVJWRVIpIHtcbiAgICAgICAgICAgIC8vRGF0YSBmcm9tIHRoZSBsb2NhbGl6YXRpb24gc2VydmVyIG9yIHZpcnR1YWwgcm9ib3RzXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1zZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgUkVBTElUWSA9IENvbmZpZy5taXhlZFJlYWxpdHkucm9ib3RzO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVuZGVyIG9ubHkgdGhlIHJlY2VpdmVkIGRhdGEgaXMgc2FtZSBhcyBjb25maWd1cmVkIHJlYWxpdHlcbiAgICAgICAgICAgICAgICAvLyBvciBjb25maWd1cmF0aW9uIGFsbG93ZWQgbWl4ZWQgcmVhbGl0eVxuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIYXZlIGRhdGEgb24gdGhpcyByZWFsaXR5XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGlkLCB4LCB5LCBoZWFkaW5nIH0gPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhbGl0eSA9IGRhdGFbaV0ucmVhbGl0eSA9PSB1bmRlZmluZWQgPyAnVicgOiBkYXRhW2ldLnJlYWxpdHk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFsaXR5ID09PSBSRUFMSVRZIHx8IFJFQUxJVFkgPT09ICdNJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBvbmx5IGlmIHJvYm90cyBtYXRjaCB3aXRoIHBsYXRmb3JtJ3MgYWxsb3dlZCByZWFsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5yb2JvdC5leGlzdHMoaWQpID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucm9ib3QuY3JlYXRlKGlkLCB4LCB5LCBoZWFkaW5nLCByZWFsaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucm9ib3QubW92ZShpZCwgeCwgeSwgaGVhZGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yb2JvdC5zZXRSZWFsaXR5KGlkLCByZWFsaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWxpdHkgbm90IG1hdGNoaW5nOyByZW1vdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2JvdC5kZWxldGUoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodG9waWMgPT0gVE9QSUNfT0JTVEFDTEVTX0xJU1QpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBvYnN0YWNsZXMgaW4gdGhlIGFyZW5hXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1zZyk7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9ic3RhY2xlcy5jcmVhdGVMaXN0KGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodG9waWMgPT0gVE9QSUNfT0JTVEFDTEVTX0RFTEVURSkge1xuICAgICAgICAgICAgLy8gRGVsZXRlIG9ic3RhY2xlIGdpdmVuIGluIHRoZSBpZFxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuXG4gICAgICAgICAgICB3aW5kb3cub2JzdGFjbGVzLmRlbGV0ZUlmRXhpc3RzKGRhdGEuaWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRvcGljID09IFRPUElDX09CU1RBQ0xFU19ERUxFVEVfQUxMKSB7XG4gICAgICAgICAgICAvLyBEZWxldGUgYWxsIG9ic3RhY2xlc1xuICAgICAgICAgICAgd2luZG93Lm9ic3RhY2xlcy5kZWxldGVBbGwoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3BpYyA9PSBUT1BJQ19DSEFOR0VfQ09MT1IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobXNnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucm9ib3QuY2hhbmdlQ29sb3IoZGF0YS5pZCwgZGF0YS5SLCBkYXRhLkcsIGRhdGEuQiwgZGF0YS5hbWJpZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRvcGljID09IFRPUElDX1JPQk9UX0JST0FEQ0FTVCkge1xuICAgICAgICAgICAgLy8gRGlzcGxheSBhIHBvcHVwIG1lc3NhZ2VcbiAgICAgICAgICAgIC8vIFRPRE86IERvIHRoaXMgYnkgYSBnZW5lcmFsaXplZCBmdW5jdGlvbiBjYWxsXG5cbiAgICAgICAgICAgIGlmIChtc2cgIT0gJ0lEPyAtMScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtID0gJ0Jyb2FkY2FzdCBNZXNzYWdlOiAnICsgbXNnLnNwbGl0KCcgJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IDEwMDAgKyBtc2cubGVuZ3RoICogOTU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZy1ib3gnKTtcbiAgICAgICAgICAgICAgICBkaXNwLmlubmVySFRNTCA9IG07XG4gICAgICAgICAgICAgICAgZGlzcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXNnLWJveCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodG9waWMgPT0gVE9QSUNfTUFOQUdFTUVOVF9WSVNVQUxJWkVSKSB7XG4gICAgICAgICAgICBpZiAobXNnID09PSAnUkVGUkVTSCcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFnZSByZWZyZXNoIHJlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobXNnLnN0YXJ0c1dpdGgoJ01TRycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbSA9ICdOb3RpY2U6ICcgKyBtc2cuc3Vic3RyaW5nKDQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSAyMDAwICsgbS5sZW5ndGggKiA5NTtcblxuICAgICAgICAgICAgICAgIC8vIERpc3BsYXkgYSBwb3B1cCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRG8gdGhpcyBieSBhIGdlbmVyYWxpemVkIGZ1bmN0aW9uIGNhbGxcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZy1ib3gnKTtcbiAgICAgICAgICAgICAgICBkaXNwLmlubmVySFRNTCA9IG07XG4gICAgICAgICAgICAgICAgZGlzcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXNnLWJveCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfSwgdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc+TWFuYWdlbWVudDonLCBtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRvcGljID09IFRPUElDX01BTkFHRU1FTlRfU05BUFNIT1QpIHtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gSlNPTi5wYXJzZShtc2cpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JvYm90OlNuYXBzaG90Jywgc25hcHNob3QpO1xuICAgICAgICAgICAgaWYgKHNuYXBzaG90ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGxldCBpID0gMCxcbiAgICAgICAgICAgICAgICAgICAgc3ViRWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZy1ib3gnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtc2ctY29udGVudCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjb250ZW50LnNldEF0dHJpYnV0ZSgnaWQnLCAnbXNnLWNvbnRlbnQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICAgICAgICAgIHRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IGBSb2JvdCBbJHtzbmFwc2hvdC5pZH1dIFNuYXBzaG90YDtcbiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHRpdGxlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YXJpYWJsZSBpbiBzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNuYXBzaG90LCB2YXJpYWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFyaWFibGUgPT09ICdkYXRhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNuYXBzaG90LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHtrZXl9OiAke3ZhbHVlfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dmFyaWFibGV9OiAke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90W3ZhcmlhYmxlXSl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoc3ViRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcC5yZXBsYWNlQ2hpbGQoY29udGVudCwgcHJldkNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGRpc3Auc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgZGlzcC5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3Auc3R5bGUub3BhY2l0eSA9ICcxLjAnO1xuICAgICAgICAgICAgICAgICAgICBkaXNwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfSwgNjAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdWJzY3JpYmUodG9waWMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHN1YlRvcGljID0gd2luZG93LmNoYW5uZWwgKyAnLycgKyB0b3BpYztcbiAgICAgICAgdGhpcy5jbGllbnQuc3Vic2NyaWJlKHN1YlRvcGljKTtcbiAgICAgICAgY29uc29sZS5sb2coJ01RVFQ6IHN1YnNjcmliZWQnLCBzdWJUb3BpYyk7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHB1Ymxpc2godG9waWMsIG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0gbmV3IE1RVFQuTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgcHViVG9waWMgPSB3aW5kb3cuY2hhbm5lbCArICcvJyArIHRvcGljO1xuICAgICAgICBwYXlsb2FkLmRlc3RpbmF0aW9uTmFtZSA9IHB1YlRvcGljO1xuICAgICAgICB0aGlzLmNsaWVudC5zZW5kKHBheWxvYWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnTVFUVDogcHVibGlzaGVkJywgcHViVG9waWMpO1xuXG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjaygpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IE1hdGVyaWFsIGZyb20gJy4uL2NvbXBvbmVudHMvbWF0ZXJpYWwnO1xuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeVV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnVmZmVyR2VvbWV0cnlVdGlscyc7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAnLi4vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBMb2FkcyBpbiBhIHNpbmdsZSBvYmplY3QgZnJvbSB0aGUgY29uZmlnIGZpbGVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgbWFuYWdlciwgdGV4dHVyZXMpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cbiAgICAgICAgdGhpcy5vYmogPSBudWxsO1xuICAgICAgICB0aGlzLnJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgbG9hZCh0eXBlKSB7XG4gICAgICAgIC8vIE1hbmFnZXIgaXMgcGFzc2VkIGluIHRvIGxvYWRlciB0byBkZXRlcm1pbmUgd2hlbiBsb2FkaW5nIGRvbmUgaW4gbWFpblxuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZ2x0Zic6XG4gICAgICAgICAgICAgICAgLy8gTG9hZCBtb2RlbCB3aXRoIHNlbGVjdGVkIGxvYWRlclxuICAgICAgICAgICAgICAgIG5ldyBHTFRGTG9hZGVyKHRoaXMubWFuYWdlcikubG9hZChcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLm1vZGVsc1tDb25maWcubW9kZWwuc2VsZWN0ZWRdLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIChnbHRmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVzaDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbmZpZy5zaGFkb3cuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjZW5lLnRyYXZlcnNlKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmlzTWVzaCB8fCBub2RlLmlzTGlnaHQpIG5vZGUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmlzTWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXRlcmlhbC53aXJlZnJhbWUgPSBDb25maWcubWVzaC53aXJlZnJhbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNoID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iaiA9IG1lc2g7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZmZlckdlb21ldHJ5VXRpbHMuY29tcHV0ZVRhbmdlbnRzKG1lc2guZ2VvbWV0cnkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLnNjYWxlLm11bHRpcGx5U2NhbGFyKDAuMjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoZ3JvdXApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZiA9IGdyb3VwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCB0aGUgbWF0cml4V29ybGQgaXMgdXAgdG8gZGF0ZSBmb3IgdGhlIGJveGhlbHBlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYWRkKG1lc2gpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKHNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxuICAgICAgICAgICAgICAgICAgICBIZWxwZXJzLmxvZ0Vycm9yKClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIC8vIExvYWQgbW9kZWwgd2l0aCBPYmplY3RMb2FkZXJcbiAgICAgICAgICAgICAgICBuZXcgVEhSRUUuT2JqZWN0TG9hZGVyKHRoaXMubWFuYWdlcikubG9hZChcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLm1vZGVsc1tDb25maWcubW9kZWwuc2VsZWN0ZWRdLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIChvYmopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50cmF2ZXJzZSgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBtYXRlcmlhbCBmb3IgbWVzaCBhbmQgc2V0IGl0cyBtYXAgdG8gdGV4dHVyZSBieSBuYW1lIGZyb20gcHJlbG9hZGVkIHRleHR1cmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDB4ZmZmZmZmKS5zdGFuZGFyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwubWFwID0gdGhpcy50ZXh0dXJlcy5VVjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdG8gY2FzdCBhbmQgcmVjZWl2ZSBzaGFkb3cgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29uZmlnLnNoYWRvdy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBwcm9wIHRvIG9iaiBzbyBpdCBjYW4gYmUgYWNjZXNzZWQgZnJvbSBvdXRzaWRlIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmogPSBvYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZiA9IG9iajtcblxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNjYWxlLm11bHRpcGx5U2NhbGFyKENvbmZpZy5tb2RlbHNbQ29uZmlnLm1vZGVsLnNlbGVjdGVkXS5zY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChvYmopO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBIZWxwZXJzLmxvZ1Byb2dyZXNzKCksXG4gICAgICAgICAgICAgICAgICAgIEhlbHBlcnMubG9nRXJyb3IoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bmxvYWQoKSB7XG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMucmVmKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG4vLyBQcm9taXNlIHBvbHlmaWxsIGZvciBJRVxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJ2VzNi1wcm9taXNlJztcblxuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gVGhpcyBjbGFzcyBwcmVsb2FkcyBhbGwgdGV4dHVyZXMgaW4gdGhlIGltYWdlRmlsZXMgYXJyYXkgaW4gdGhlIENvbmZpZyB2aWEgRVM2IFByb21pc2VzLlxuLy8gT25jZSBhbGwgdGV4dHVyZXMgYXJlIGRvbmUgbG9hZGluZyB0aGUgbW9kZWwgaXRzZWxmIHdpbGwgYmUgbG9hZGVkIGFmdGVyIHRoZSBQcm9taXNlIC50aGVuKCkgY2FsbGJhY2suXG4vLyBVc2luZyBwcm9taXNlcyB0byBwcmVsb2FkIHRleHR1cmVzIHByZXZlbnRzIGlzc3VlcyB3aGVuIGFwcGx5aW5nIHRleHR1cmVzIHRvIG1hdGVyaWFsc1xuLy8gYmVmb3JlIHRoZSB0ZXh0dXJlcyBoYXZlIGxvYWRlZC5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBQcm9wIHRoYXQgd2lsbCBjb250YWluIGFsbCBsb2FkZWQgdGV4dHVyZXNcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XG4gICAgICAgIGNvbnN0IG1heEFuaXNvdHJvcHkgPSBDb25maWcubWF4QW5pc290cm9weTtcbiAgICAgICAgY29uc3QgaW1hZ2VGaWxlcyA9IENvbmZpZy50ZXh0dXJlLmltYWdlRmlsZXM7XG4gICAgICAgIGNvbnN0IHByb21pc2VBcnJheSA9IFtdO1xuXG4gICAgICAgIGxvYWRlci5zZXRQYXRoKENvbmZpZy50ZXh0dXJlLnBhdGgpO1xuXG4gICAgICAgIGltYWdlRmlsZXMuZm9yRWFjaCgoaW1hZ2VGaWxlKSA9PiB7XG4gICAgICAgICAgICAvLyBBZGQgYW4gaW5kaXZpZHVhbCBQcm9taXNlIGZvciBlYWNoIGltYWdlIGluIGFycmF5XG4gICAgICAgICAgICBwcm9taXNlQXJyYXkucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggUHJvbWlzZSB3aWxsIGF0dGVtcHQgdG8gbG9hZCB0aGUgaW1hZ2UgZmlsZVxuICAgICAgICAgICAgICAgICAgICBsb2FkZXIubG9hZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZS5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZ2V0cyBjYWxsZWQgb24gbG9hZCB3aXRoIHRoZSBsb2FkZWQgdGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgKHRleHR1cmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmFuaXNvdHJvcHkgPSBtYXhBbmlzb3Ryb3B5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSBQcm9taXNlIHdpdGggb2JqZWN0IG9mIHRleHR1cmUgaWYgaXQgaXMgaW5zdGFuY2Ugb2YgVEhSRUUuVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsT0JKID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdID0gdGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdIGluc3RhbmNlb2YgVEhSRUUuVGV4dHVyZSkgcmVzb2x2ZShtb2RlbE9CSik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHhocikgPT4gcmVqZWN0KG5ldyBFcnJvcih4aHIgKyAnQW4gZXJyb3Igb2NjdXJyZWQgbG9hZGluZyB3aGlsZSBsb2FkaW5nICcgKyBpbWFnZUZpbGUuaW1hZ2UpKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIFByb21pc2VzIGluIGFycmF5IGFuZCByZXR1cm4gYW5vdGhlciBQcm9taXNlIHdoZW4gYWxsIGhhdmUgcmVzb2x2ZWQgb3IgY29uc29sZSBsb2cgcmVhc29uIHdoZW4gYW55IHJlamVjdFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKFxuICAgICAgICAgICAgKHRleHR1cmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSB0ZXh0dXJlcyBwcm9wIG9iamVjdCB0byBoYXZlIG5hbWUgYmUgdGhlIHJlc29sdmVkIHRleHR1cmVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXSA9IHRleHR1cmVzW2ldW09iamVjdC5rZXlzKHRleHR1cmVzW2ldKVswXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChyZWFzb24pID0+IGNvbnNvbGUubG9nKHJlYXNvbilcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVFdFRU4gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnO1xuXG5sZXQgcmVzb2x2ZWRDb25maWc7XG5cbi8vIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHRoZSBzdGF0ZSBvZiB0aGUgYXBwXG5jb25zdCBjb25maWcgPSB7XG4gICAgc2NhbGU6IDEsXG4gICAgYXJlbmE6IHtcbiAgICAgICAgc2l6ZTogMTgwLFxuICAgICAgICBtaW5YOiAtODUsXG4gICAgICAgIG1heFg6IDg1LFxuICAgICAgICBtaW5ZOiAtODUsXG4gICAgICAgIG1heFk6IDg1XG4gICAgfSxcbiAgICBtcXR0OiB7XG4gICAgICAgIHNlcnZlcjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcmEtc3dhcm0tc2VydmVyJykgfHwgJ3dlYnNlcnZpY2VzLmNleWtvZC5jb20nLFxuICAgICAgICBwb3J0OiBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyYS1zd2FybS1wb3J0JykpIHx8IDg4ODMsXG4gICAgICAgIHBhdGg6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZXJhLXN3YXJtLXBhdGgnKSB8fCAnL21xdHQnLFxuICAgICAgICBjaGFubmVsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyYS1zd2FybS1jaGFubmVsJykgfHwgJ3YxJ1xuICAgIH0sXG4gICAgbWl4ZWRSZWFsaXR5OiB7XG4gICAgICAgIG9ic3RhY2xlczogJ00nLFxuICAgICAgICByb2JvdHM6ICdNJ1xuICAgIH0sXG4gICAgc2VsZWN0ZWRSZWFsaXR5OiAnTScsXG4gICAgc2VsZWN0ZWRSZWFsaXRpZXM6IHtcbiAgICAgICAgcmVhbDogdHJ1ZSxcbiAgICAgICAgdmlydHVhbDogdHJ1ZVxuICAgIH0sXG4gICAgaGlkZGVuT3BhY2l0eTogMC4zLFxuICAgIGlzRGV2OiB0cnVlLFxuICAgIGlzU2hvd2luZ1N0YXRzOiB0cnVlLFxuICAgIGlzU2hvd2luZ0xhYmxlczogdHJ1ZSxcbiAgICBsYWJlbHNWaXNpYmlsaXR5OiB7XG4gICAgICAgIG9ic3RhY2xlczogZmFsc2UsXG4gICAgICAgIHJvYm90czogZmFsc2VcbiAgICB9LFxuICAgIGlzU2hvd2luZ1JvYm90U25hcHNob3RzOiB0cnVlLFxuICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICBpc1R3ZWVuaW5nOiBmYWxzZSxcbiAgICBpc1JvdGF0aW5nOiBmYWxzZSxcbiAgICBpc01vdXNlTW92aW5nOiBmYWxzZSxcbiAgICBpc01vdXNlT3ZlcjogZmFsc2UsXG4gICAgbWF4QW5pc290cm9weTogMSxcbiAgICBkcHI6IDEsXG4gICAgZWFzaW5nOiBUV0VFTi5FYXNpbmcuUXVhZHJhdGljLkluT3V0LFxuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgdGV4dHVyZToge1xuICAgICAgICBwYXRoOiAnLi9hc3NldHMvdGV4dHVyZXMvJyxcbiAgICAgICAgaW1hZ2VGaWxlczogW3sgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfV1cbiAgICB9LFxuICAgIG1lc2g6IHtcbiAgICAgICAgZW5hYmxlSGVscGVyOiBmYWxzZSxcbiAgICAgICAgd2lyZWZyYW1lOiBmYWxzZSxcbiAgICAgICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGZvZzoge1xuICAgICAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgICAgIG5lYXI6IDAuMDAwOFxuICAgIH0sXG4gICAgY2FtZXJhOiB7XG4gICAgICAgIGZvdjogNTAsXG4gICAgICAgIG5lYXI6IDUwLFxuICAgICAgICBmYXI6IDEwMDAsXG4gICAgICAgIGFzcGVjdDogMSxcbiAgICAgICAgcG9zWDogMCxcbiAgICAgICAgcG9zWTogMCxcbiAgICAgICAgcG9zWjogMFxuICAgIH0sXG4gICAgY29udHJvbHM6IHtcbiAgICAgICAgYXV0b1JvdGF0ZTogZmFsc2UsXG4gICAgICAgIGF1dG9Sb3RhdGVTcGVlZDogLTEuNSxcbiAgICAgICAgcm90YXRlU3BlZWQ6IDEuNSxcbiAgICAgICAgem9vbVNwZWVkOiAwLjgsXG4gICAgICAgIG1pbkRpc3RhbmNlOiAxMDAsXG4gICAgICAgIG1heERpc3RhbmNlOiA4MDAsXG4gICAgICAgIG1pblBvbGFyQW5nbGU6IDAgLypNYXRoLlBJIC8gNiwqLyxcbiAgICAgICAgbWF4UG9sYXJBbmdsZTogKDcgLyAxNikgKiBNYXRoLlBJLFxuICAgICAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcbiAgICAgICAgbWF4QXppbXV0aEFuZ2xlOiBJbmZpbml0eSxcbiAgICAgICAgZW5hYmxlRGFtcGluZzogdHJ1ZSxcbiAgICAgICAgZGFtcGluZ0ZhY3RvcjogMC41LFxuICAgICAgICBlbmFibGVab29tOiB0cnVlLFxuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgejogMFxuICAgICAgICB9XG4gICAgfSxcbiAgICBhbWJpZW50TGlnaHQ6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgY29sb3I6IDB4MTQxNDE0XG4gICAgfSxcbiAgICBkaXJlY3Rpb25hbExpZ2h0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGNvbG9yOiAweGYwZjBmMCxcbiAgICAgICAgaW50ZW5zaXR5OiAwLjQsXG4gICAgICAgIHg6IC03NSxcbiAgICAgICAgeTogMjgwLFxuICAgICAgICB6OiAxNTBcbiAgICB9LFxuICAgIHNoYWRvdzoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBoZWxwZXJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgYmlhczogMCxcbiAgICAgICAgbWFwV2lkdGg6IDIwNDgsXG4gICAgICAgIG1hcEhlaWdodDogMjA0OCxcbiAgICAgICAgbmVhcjogMjUwLFxuICAgICAgICBmYXI6IDQwMCxcbiAgICAgICAgdG9wOiAxMDAsXG4gICAgICAgIHJpZ2h0OiAxMDAsXG4gICAgICAgIGJvdHRvbTogLTEwMCxcbiAgICAgICAgbGVmdDogLTEwMFxuICAgIH0sXG4gICAgcG9pbnRMaWdodDoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgICAgIGludGVuc2l0eTogMC4zNCxcbiAgICAgICAgZGlzdGFuY2U6IDExNSxcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgejogMFxuICAgIH0sXG4gICAgaGVtaUxpZ2h0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGNvbG9yOiAweGM4YzhjOCxcbiAgICAgICAgZ3JvdW5kQ29sb3I6IDB4ZmZmZmZmLFxuICAgICAgICBpbnRlbnNpdHk6IDAuNTUsXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHo6IDBcbiAgICB9XG59O1xuXG4vLyBDaGVjayBsb2NhbHN0b3JhZ2UgZm9yIHVwZGF0ZWQgY29uZmlnLCBpZiBub3QgdXNlIGFib3ZlIGNvbmZpZ1xuY29uc3Qgc3RvcmVkQ29uZmlnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZiArICcuY29uZmlnJyk7XG5yZXNvbHZlZENvbmZpZyA9IHN0b3JlZENvbmZpZyAhPT0gbnVsbCAmJiBzdG9yZWRDb25maWcgIT09IHVuZGVmaW5lZCA/IEpTT04ucGFyc2Uoc3RvcmVkQ29uZmlnKSA6IGNvbmZpZztcblxuLy8gbWV0aG9kIHRvIHByZXNpc3QgY29uZmlnIGRhdGEgd2l0aCBsb2NhbFN0b3JhZ2VcbmV4cG9ydCBjb25zdCBzYXZlQ29uZmlnID0gKGRhdGEpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmICsgJy5jb25maWcnLCBKU09OLnN0cmluZ2lmeSh7IC4uLmNvbmZpZywgLi4uZGF0YSB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZXNvbHZlZENvbmZpZztcbiIsIi8qKlxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5pbXBvcnQge1xuICAgIEJ1ZmZlckF0dHJpYnV0ZSxcbiAgICBCdWZmZXJHZW9tZXRyeSxcbiAgICBJbnRlcmxlYXZlZEJ1ZmZlcixcbiAgICBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcbiAgICBUcmlhbmdsZUZhbkRyYXdNb2RlLFxuICAgIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcbiAgICBUcmlhbmdsZXNEcmF3TW9kZSxcbiAgICBWZWN0b3IyLFxuICAgIFZlY3RvcjNcbn0gZnJvbSAndGhyZWUnO1xuXG52YXIgQnVmZmVyR2VvbWV0cnlVdGlscyA9IHtcbiAgICBjb21wdXRlVGFuZ2VudHM6IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5pbmRleDtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cudGVyYXRob24uY29tL2NvZGUvdGFuZ2VudC5odG1sXG4gICAgICAgIC8vIChwZXIgdmVydGV4IHRhbmdlbnRzKVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGluZGV4ID09PSBudWxsIHx8XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnBvc2l0aW9uID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMudXYgPT09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5jb21wdXRlVGFuZ2VudHMoKSBmYWlsZWQuIE1pc3NpbmcgcmVxdWlyZWQgYXR0cmlidXRlcyAoaW5kZXgsIHBvc2l0aW9uLCBub3JtYWwgb3IgdXYpJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRpY2VzID0gaW5kZXguYXJyYXk7XG4gICAgICAgIHZhciBwb3NpdGlvbnMgPSBhdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5O1xuICAgICAgICB2YXIgbm9ybWFscyA9IGF0dHJpYnV0ZXMubm9ybWFsLmFycmF5O1xuICAgICAgICB2YXIgdXZzID0gYXR0cmlidXRlcy51di5hcnJheTtcblxuICAgICAgICB2YXIgblZlcnRpY2VzID0gcG9zaXRpb25zLmxlbmd0aCAvIDM7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMudGFuZ2VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3RhbmdlbnQnLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoNCAqIG5WZXJ0aWNlcyksIDQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0YW5nZW50cyA9IGF0dHJpYnV0ZXMudGFuZ2VudC5hcnJheTtcblxuICAgICAgICB2YXIgdGFuMSA9IFtdLFxuICAgICAgICAgICAgdGFuMiA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblZlcnRpY2VzOyBpKyspIHtcbiAgICAgICAgICAgIHRhbjFbaV0gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICAgICAgdGFuMltpXSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdkEgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICAgICAgdkIgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICAgICAgdkMgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICAgICAgdXZBID0gbmV3IFZlY3RvcjIoKSxcbiAgICAgICAgICAgIHV2QiA9IG5ldyBWZWN0b3IyKCksXG4gICAgICAgICAgICB1dkMgPSBuZXcgVmVjdG9yMigpLFxuICAgICAgICAgICAgc2RpciA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgICAgICB0ZGlyID0gbmV3IFZlY3RvcjMoKTtcblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVUcmlhbmdsZShhLCBiLCBjKSB7XG4gICAgICAgICAgICB2QS5mcm9tQXJyYXkocG9zaXRpb25zLCBhICogMyk7XG4gICAgICAgICAgICB2Qi5mcm9tQXJyYXkocG9zaXRpb25zLCBiICogMyk7XG4gICAgICAgICAgICB2Qy5mcm9tQXJyYXkocG9zaXRpb25zLCBjICogMyk7XG5cbiAgICAgICAgICAgIHV2QS5mcm9tQXJyYXkodXZzLCBhICogMik7XG4gICAgICAgICAgICB1dkIuZnJvbUFycmF5KHV2cywgYiAqIDIpO1xuICAgICAgICAgICAgdXZDLmZyb21BcnJheSh1dnMsIGMgKiAyKTtcblxuICAgICAgICAgICAgdkIuc3ViKHZBKTtcbiAgICAgICAgICAgIHZDLnN1Yih2QSk7XG5cbiAgICAgICAgICAgIHV2Qi5zdWIodXZBKTtcbiAgICAgICAgICAgIHV2Qy5zdWIodXZBKTtcblxuICAgICAgICAgICAgdmFyIHIgPSAxLjAgLyAodXZCLnggKiB1dkMueSAtIHV2Qy54ICogdXZCLnkpO1xuXG4gICAgICAgICAgICAvLyBzaWxlbnRseSBpZ25vcmUgZGVnZW5lcmF0ZSB1diB0cmlhbmdsZXMgaGF2aW5nIGNvaW5jaWRlbnQgb3IgY29saW5lYXIgdmVydGljZXNcblxuICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShyKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBzZGlyLmNvcHkodkIpLm11bHRpcGx5U2NhbGFyKHV2Qy55KS5hZGRTY2FsZWRWZWN0b3IodkMsIC11dkIueSkubXVsdGlwbHlTY2FsYXIocik7XG4gICAgICAgICAgICB0ZGlyLmNvcHkodkMpLm11bHRpcGx5U2NhbGFyKHV2Qi54KS5hZGRTY2FsZWRWZWN0b3IodkIsIC11dkMueCkubXVsdGlwbHlTY2FsYXIocik7XG5cbiAgICAgICAgICAgIHRhbjFbYV0uYWRkKHNkaXIpO1xuICAgICAgICAgICAgdGFuMVtiXS5hZGQoc2Rpcik7XG4gICAgICAgICAgICB0YW4xW2NdLmFkZChzZGlyKTtcblxuICAgICAgICAgICAgdGFuMlthXS5hZGQodGRpcik7XG4gICAgICAgICAgICB0YW4yW2JdLmFkZCh0ZGlyKTtcbiAgICAgICAgICAgIHRhbjJbY10uYWRkKHRkaXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdyb3VwcyA9IGdlb21ldHJ5Lmdyb3VwcztcblxuICAgICAgICBpZiAoZ3JvdXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZ3JvdXBzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBpbmRpY2VzLmxlbmd0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBncm91cC5zdGFydDtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IGdyb3VwLmNvdW50O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQsIGpsID0gc3RhcnQgKyBjb3VudDsgaiA8IGpsOyBqICs9IDMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVUcmlhbmdsZShpbmRpY2VzW2ogKyAwXSwgaW5kaWNlc1tqICsgMV0sIGluZGljZXNbaiArIDJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0bXAgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICAgICAgdG1wMiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHZhciBuID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgICAgIG4yID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdmFyIHcsIHQsIHRlc3Q7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVmVydGV4KHYpIHtcbiAgICAgICAgICAgIG4uZnJvbUFycmF5KG5vcm1hbHMsIHYgKiAzKTtcbiAgICAgICAgICAgIG4yLmNvcHkobik7XG5cbiAgICAgICAgICAgIHQgPSB0YW4xW3ZdO1xuXG4gICAgICAgICAgICAvLyBHcmFtLVNjaG1pZHQgb3J0aG9nb25hbGl6ZVxuXG4gICAgICAgICAgICB0bXAuY29weSh0KTtcbiAgICAgICAgICAgIHRtcC5zdWIobi5tdWx0aXBseVNjYWxhcihuLmRvdCh0KSkpLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgaGFuZGVkbmVzc1xuXG4gICAgICAgICAgICB0bXAyLmNyb3NzVmVjdG9ycyhuMiwgdCk7XG4gICAgICAgICAgICB0ZXN0ID0gdG1wMi5kb3QodGFuMlt2XSk7XG4gICAgICAgICAgICB3ID0gdGVzdCA8IDAuMCA/IC0xLjAgOiAxLjA7XG5cbiAgICAgICAgICAgIHRhbmdlbnRzW3YgKiA0XSA9IHRtcC54O1xuICAgICAgICAgICAgdGFuZ2VudHNbdiAqIDQgKyAxXSA9IHRtcC55O1xuICAgICAgICAgICAgdGFuZ2VudHNbdiAqIDQgKyAyXSA9IHRtcC56O1xuICAgICAgICAgICAgdGFuZ2VudHNbdiAqIDQgKyAzXSA9IHc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBncm91cC5zdGFydDtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IGdyb3VwLmNvdW50O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQsIGpsID0gc3RhcnQgKyBjb3VudDsgaiA8IGpsOyBqICs9IDMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tqICsgMF0pO1xuICAgICAgICAgICAgICAgIGhhbmRsZVZlcnRleChpbmRpY2VzW2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgaGFuZGxlVmVydGV4KGluZGljZXNbaiArIDJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJpZXNcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSB1c2VHcm91cHNcbiAgICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cbiAgICAgKi9cbiAgICBtZXJnZUJ1ZmZlckdlb21ldHJpZXM6IGZ1bmN0aW9uIChnZW9tZXRyaWVzLCB1c2VHcm91cHMpIHtcbiAgICAgICAgdmFyIGlzSW5kZXhlZCA9IGdlb21ldHJpZXNbMF0uaW5kZXggIT09IG51bGw7XG5cbiAgICAgICAgdmFyIGF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldChPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGdlb21ldHJpZXNbMF0ubW9ycGhBdHRyaWJ1dGVzKSk7XG5cbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlcyA9IHt9O1xuXG4gICAgICAgIHZhciBtb3JwaFRhcmdldHNSZWxhdGl2ZSA9IGdlb21ldHJpZXNbMF0ubW9ycGhUYXJnZXRzUmVsYXRpdmU7XG5cbiAgICAgICAgdmFyIG1lcmdlZEdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXNDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IGFsbCBnZW9tZXRyaWVzIGFyZSBpbmRleGVkLCBvciBub25lXG5cbiAgICAgICAgICAgIGlmIChpc0luZGV4ZWQgIT09IChnZW9tZXRyeS5pbmRleCAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnLiBBbGwgZ2VvbWV0cmllcyBtdXN0IGhhdmUgY29tcGF0aWJsZSBhdHRyaWJ1dGVzOyBtYWtlIHN1cmUgaW5kZXggYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnYXRoZXIgYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxuXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLiBBbGwgZ2VvbWV0cmllcyBtdXN0IGhhdmUgY29tcGF0aWJsZSBhdHRyaWJ1dGVzOyBtYWtlIHN1cmUgXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCIgYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgYXR0cmlidXRlc1tuYW1lXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tuYW1lXS5wdXNoKGdlb21ldHJ5LmF0dHJpYnV0ZXNbbmFtZV0pO1xuXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc0NvdW50Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXNcblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNDb3VudCAhPT0gYXR0cmlidXRlc1VzZWQuc2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcuIE1ha2Ugc3VyZSBhbGwgZ2VvbWV0cmllcyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBhdHRyaWJ1dGVzLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnYXRoZXIgbW9ycGggYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxuXG4gICAgICAgICAgICBpZiAobW9ycGhUYXJnZXRzUmVsYXRpdmUgIT09IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJy4gLm1vcnBoVGFyZ2V0c1JlbGF0aXZlIG11c3QgYmUgY29uc2lzdGVudCB0aHJvdWdob3V0IGFsbCBnZW9tZXRyaWVzLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGlmICghbW9ycGhBdHRyaWJ1dGVzVXNlZC5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy4gIC5tb3JwaEF0dHJpYnV0ZXMgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobW9ycGhBdHRyaWJ1dGVzW25hbWVdID09PSB1bmRlZmluZWQpIG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZ2F0aGVyIC51c2VyRGF0YVxuXG4gICAgICAgICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YSA9IG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhIHx8IFtdO1xuICAgICAgICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEucHVzaChnZW9tZXRyeS51c2VyRGF0YSk7XG5cbiAgICAgICAgICAgIGlmICh1c2VHcm91cHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNJbmRleGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuaW5kZXguY291bnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuIFRoZSBnZW9tZXRyeSBtdXN0IGhhdmUgZWl0aGVyIGFuIGluZGV4IG9yIGEgcG9zaXRpb24gYXR0cmlidXRlJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtZXJnZWRHZW9tZXRyeS5hZGRHcm91cChvZmZzZXQsIGNvdW50LCBpKTtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1lcmdlIGluZGljZXNcblxuICAgICAgICBpZiAoaXNJbmRleGVkKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIG1lcmdlZEluZGV4ID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGdlb21ldHJpZXNbaV0uaW5kZXg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZGV4LmNvdW50OyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkSW5kZXgucHVzaChpbmRleC5nZXRYKGopICsgaW5kZXhPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluZGV4T2Zmc2V0ICs9IGdlb21ldHJpZXNbaV0uYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVyZ2VkR2VvbWV0cnkuc2V0SW5kZXgobWVyZ2VkSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWVyZ2UgYXR0cmlidXRlc1xuXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIG1lcmdlZEF0dHJpYnV0ZSA9IHRoaXMubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXNbbmFtZV0pO1xuXG4gICAgICAgICAgICBpZiAoIW1lcmdlZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgYXR0cmlidXRlLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZXJnZWRHZW9tZXRyeS5zZXRBdHRyaWJ1dGUobmFtZSwgbWVyZ2VkQXR0cmlidXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1lcmdlIG1vcnBoIGF0dHJpYnV0ZXNcblxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIG1vcnBoQXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIG51bU1vcnBoVGFyZ2V0cyA9IG1vcnBoQXR0cmlidXRlc1tuYW1lXVswXS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChudW1Nb3JwaFRhcmdldHMgPT09IDApIGJyZWFrO1xuXG4gICAgICAgICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgPSBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgfHwge307XG4gICAgICAgICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Nb3JwaFRhcmdldHM7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vcnBoQXR0cmlidXRlc1tuYW1lXS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlLnB1c2gobW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdW2ldKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbWVyZ2VkTW9ycGhBdHRyaWJ1dGUgPSB0aGlzLm1lcmdlQnVmZmVyQXR0cmlidXRlcyhtb3JwaEF0dHJpYnV0ZXNUb01lcmdlKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWVyZ2VkTW9ycGhBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBtb3JwaEF0dHJpYnV0ZS4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXS5wdXNoKG1lcmdlZE1vcnBoQXR0cmlidXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXJnZWRHZW9tZXRyeTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybiB7QnVmZmVyQXR0cmlidXRlfVxuICAgICAqL1xuICAgIG1lcmdlQnVmZmVyQXR0cmlidXRlczogZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFyIFR5cGVkQXJyYXk7XG4gICAgICAgIHZhciBpdGVtU2l6ZTtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWQ7XG4gICAgICAgIHZhciBhcnJheUxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZC4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFR5cGVkQXJyYXkgPT09IHVuZGVmaW5lZCkgVHlwZWRBcnJheSA9IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLmFycmF5IG11c3QgYmUgb2YgY29uc2lzdGVudCBhcnJheSB0eXBlcyBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW1TaXplID09PSB1bmRlZmluZWQpIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgICAgICAgICAgaWYgKGl0ZW1TaXplICE9PSBhdHRyaWJ1dGUuaXRlbVNpemUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLml0ZW1TaXplIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHVuZGVmaW5lZCkgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZS5ub3JtYWxpemVkO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IGF0dHJpYnV0ZS5ub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXJyYXlMZW5ndGggKz0gYXR0cmlidXRlLmFycmF5Lmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBhcnJheS5zZXQoYXR0cmlidXRlc1tpXS5hcnJheSwgb2Zmc2V0KTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IGF0dHJpYnV0ZXNbaV0uYXJyYXkubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJBdHRyaWJ1dGUoYXJyYXksIGl0ZW1TaXplLCBub3JtYWxpemVkKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJBdHRyaWJ1dGU+fSBhdHRyaWJ1dGVzXG4gICAgICogQHJldHVybiB7QXJyYXk8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxuICAgICAqL1xuICAgIGludGVybGVhdmVBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgICAvLyBJbnRlcmxlYXZlcyB0aGUgcHJvdmlkZWQgYXR0cmlidXRlcyBpbnRvIGFuIEludGVybGVhdmVkQnVmZmVyIGFuZCByZXR1cm5zXG4gICAgICAgIC8vIGEgc2V0IG9mIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBmb3IgZWFjaCBhdHRyaWJ1dGVcbiAgICAgICAgdmFyIFR5cGVkQXJyYXk7XG4gICAgICAgIHZhciBhcnJheUxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBzdHJpZGUgPSAwO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdGhlIGxlbmd0aCBhbmQgdHlwZSBvZiB0aGUgaW50ZXJsZWF2ZWRCdWZmZXJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAoVHlwZWRBcnJheSAhPT0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQXR0cmlidXRlQnVmZmVycyBvZiBkaWZmZXJlbnQgdHlwZXMgY2Fubm90IGJlIGludGVybGVhdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XG4gICAgICAgICAgICBzdHJpZGUgKz0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzZXQgb2YgYnVmZmVyIGF0dHJpYnV0ZXNcbiAgICAgICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEludGVybGVhdmVkQnVmZmVyKG5ldyBUeXBlZEFycmF5KGFycmF5TGVuZ3RoKSwgc3RyaWRlKTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgICAgdmFyIGdldHRlcnMgPSBbJ2dldFgnLCAnZ2V0WScsICdnZXRaJywgJ2dldFcnXTtcbiAgICAgICAgdmFyIHNldHRlcnMgPSBbJ3NldFgnLCAnc2V0WScsICdzZXRaJywgJ3NldFcnXTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IGF0dHJpYnV0ZS5jb3VudDtcbiAgICAgICAgICAgIHZhciBpYmEgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoaW50ZXJsZWF2ZWRCdWZmZXIsIGl0ZW1TaXplLCBvZmZzZXQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKGliYSk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBpdGVtU2l6ZTtcblxuICAgICAgICAgICAgLy8gTW92ZSB0aGUgZGF0YSBmb3IgZWFjaCBhdHRyaWJ1dGUgaW50byB0aGUgbmV3IGludGVybGVhdmVkQnVmZmVyXG4gICAgICAgICAgICAvLyBhdCB0aGUgYXBwcm9wcmlhdGUgb2Zmc2V0XG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvdW50OyBjKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWJhW3NldHRlcnNba11dKGMsIGF0dHJpYnV0ZVtnZXR0ZXJzW2tdXShjKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJ5XG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIGVzdGltYXRlQnl0ZXNVc2VkOiBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBlc3RpbWF0ZWQgbWVtb3J5IHVzZWQgYnkgdGhpcyBnZW9tZXRyeSBpbiBieXRlc1xuICAgICAgICAvLyBDYWxjdWxhdGUgdXNpbmcgaXRlbVNpemUsIGNvdW50LCBhbmQgQllURVNfUEVSX0VMRU1FTlQgdG8gYWNjb3VudFxuICAgICAgICAvLyBmb3IgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzLlxuICAgICAgICB2YXIgbWVtID0gMDtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0ciA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIG1lbSArPSBhdHRyLmNvdW50ICogYXR0ci5pdGVtU2l6ZSAqIGF0dHIuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgIG1lbSArPSBpbmRpY2VzID8gaW5kaWNlcy5jb3VudCAqIGluZGljZXMuaXRlbVNpemUgKiBpbmRpY2VzLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UIDogMDtcbiAgICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlXG4gICAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnk+fVxuICAgICAqL1xuICAgIG1lcmdlVmVydGljZXM6IGZ1bmN0aW9uIChnZW9tZXRyeSwgdG9sZXJhbmNlID0gMWUtNCkge1xuICAgICAgICB0b2xlcmFuY2UgPSBNYXRoLm1heCh0b2xlcmFuY2UsIE51bWJlci5FUFNJTE9OKTtcblxuICAgICAgICAvLyBHZW5lcmF0ZSBhbiBpbmRleCBidWZmZXIgaWYgdGhlIGdlb21ldHJ5IGRvZXNuJ3QgaGF2ZSBvbmUsIG9yIG9wdGltaXplIGl0XG4gICAgICAgIC8vIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUuXG4gICAgICAgIHZhciBoYXNoVG9JbmRleCA9IHt9O1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgIHZhciBwb3NpdGlvbnMgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG4gICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50IDogcG9zaXRpb25zLmNvdW50O1xuXG4gICAgICAgIC8vIG5leHQgdmFsdWUgZm9yIHRyaWFuZ2xlIGluZGljZXNcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gYXR0cmlidXRlcyBhbmQgbmV3IGF0dHJpYnV0ZSBhcnJheXNcbiAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWVzID0gT2JqZWN0LmtleXMoZ2VvbWV0cnkuYXR0cmlidXRlcyk7XG4gICAgICAgIHZhciBhdHRyQXJyYXlzID0ge307XG4gICAgICAgIHZhciBtb3JwaEF0dHJzQXJyYXlzID0ge307XG4gICAgICAgIHZhciBuZXdJbmRpY2VzID0gW107XG4gICAgICAgIHZhciBnZXR0ZXJzID0gWydnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJ107XG5cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgYXJyYXlzXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xuXG4gICAgICAgICAgICBhdHRyQXJyYXlzW25hbWVdID0gW107XG5cbiAgICAgICAgICAgIHZhciBtb3JwaEF0dHIgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgICAgICBpZiAobW9ycGhBdHRyKSB7XG4gICAgICAgICAgICAgICAgbW9ycGhBdHRyc0FycmF5c1tuYW1lXSA9IG5ldyBBcnJheShtb3JwaEF0dHIubGVuZ3RoKS5maWxsKCkubWFwKCgpID0+IFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnZlcnQgdGhlIGVycm9yIHRvbGVyYW5jZSB0byBhbiBhbW91bnQgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdHJ1bmNhdGUgdG9cbiAgICAgICAgdmFyIGRlY2ltYWxTaGlmdCA9IE1hdGgubG9nMTAoMSAvIHRvbGVyYW5jZSk7XG4gICAgICAgIHZhciBzaGlmdE11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgZGVjaW1hbFNoaWZ0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbmRpY2VzID8gaW5kaWNlcy5nZXRYKGkpIDogaTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBoYXNoIGZvciB0aGUgdmVydGV4IGF0dHJpYnV0ZXMgYXQgdGhlIGN1cnJlbnQgaW5kZXggJ2knXG4gICAgICAgICAgICB2YXIgaGFzaCA9ICcnO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2pdO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvdWJsZSB0aWxkZSB0cnVuY2F0ZXMgdGhlIGRlY2ltYWwgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaGFzaCArPSBgJHt+fihhdHRyaWJ1dGVbZ2V0dGVyc1trXV0oaW5kZXgpICogc2hpZnRNdWx0aXBsaWVyKX0sYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBhbm90aGVyIHJlZmVyZW5jZSB0byB0aGUgdmVydGV4IGlmIGl0J3MgYWxyZWFkeVxuICAgICAgICAgICAgLy8gdXNlZCBieSBhbm90aGVyIGluZGV4XG4gICAgICAgICAgICBpZiAoaGFzaCBpbiBoYXNoVG9JbmRleCkge1xuICAgICAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChoYXNoVG9JbmRleFtoYXNoXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvcHkgZGF0YSB0byB0aGUgbmV3IGluZGV4IGluIHRoZSBhdHRyaWJ1dGUgYXJyYXlzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vcnBoQXR0ciA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3YXJyYXkgPSBhdHRyQXJyYXlzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3TW9ycGhBcnJheXMgPSBtb3JwaEF0dHJzQXJyYXlzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlbVNpemU7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldHRlckZ1bmMgPSBnZXR0ZXJzW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3YXJyYXkucHVzaChhdHRyaWJ1dGVbZ2V0dGVyRnVuY10oaW5kZXgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vcnBoQXR0cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG0gPSAwLCBtbCA9IG1vcnBoQXR0ci5sZW5ndGg7IG0gPCBtbDsgbSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01vcnBoQXJyYXlzW21dLnB1c2gobW9ycGhBdHRyW21dW2dldHRlckZ1bmNdKGluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaGFzaFRvSW5kZXhbaGFzaF0gPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKG5leHRJbmRleCk7XG4gICAgICAgICAgICAgICAgbmV4dEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSB0eXBlZCBhcnJheXMgZnJvbSBuZXcgYXR0cmlidXRlIGFycmF5cyBhbmQgdXBkYXRlXG4gICAgICAgIC8vIHRoZSBhdHRyaWJ1dGVCdWZmZXJzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xuICAgICAgICAgICAgdmFyIG9sZEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBvbGRBdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IoYXR0ckFycmF5c1tuYW1lXSk7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShidWZmZXIsIG9sZEF0dHJpYnV0ZS5pdGVtU2l6ZSwgb2xkQXR0cmlidXRlLm5vcm1hbGl6ZWQpO1xuXG4gICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKG5hbWUsIGF0dHJpYnV0ZSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYXR0cmlidXRlIGFycmF5c1xuICAgICAgICAgICAgaWYgKG5hbWUgaW4gbW9ycGhBdHRyc0FycmF5cykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9ycGhBdHRyc0FycmF5c1tuYW1lXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkTW9ycGhBdHRyaWJ1dGUgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBvbGRNb3JwaEF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3Rvcihtb3JwaEF0dHJzQXJyYXlzW25hbWVdW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZE1vcnBoQXR0cmlidXRlLml0ZW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkTW9ycGhBdHRyaWJ1dGUubm9ybWFsaXplZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQubW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdID0gbW9ycGhBdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5kaWNlc1xuXG4gICAgICAgIHJlc3VsdC5zZXRJbmRleChuZXdJbmRpY2VzKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkcmF3TW9kZVxuICAgICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5Pn1cbiAgICAgKi9cbiAgICB0b1RyaWFuZ2xlc0RyYXdNb2RlOiBmdW5jdGlvbiAoZ2VvbWV0cnksIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVzRHJhd01vZGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IEdlb21ldHJ5IGFscmVhZHkgZGVmaW5lZCBhcyB0cmlhbmdsZXMuJyk7XG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlRmFuRHJhd01vZGUgfHwgZHJhd01vZGUgPT09IFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcblxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgaW5kZXggaWYgbm90IHByZXNlbnRcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb24uY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgoaW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vXG5cbiAgICAgICAgICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcbiAgICAgICAgICAgIHZhciBuZXdJbmRpY2VzID0gW107XG5cbiAgICAgICAgICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSkge1xuICAgICAgICAgICAgICAgIC8vIGdsLlRSSUFOR0xFX0ZBTlxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WCgwKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3SW5kaWNlcy5sZW5ndGggLyAzICE9PSBudW1iZXJPZlRyaWFuZ2xlcykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5hYmxlIHRvIGdlbmVyYXRlIGNvcnJlY3QgYW1vdW50IG9mIHRyaWFuZ2xlcy4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuICAgICAgICAgICAgdmFyIG5ld0dlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKTtcbiAgICAgICAgICAgIG5ld0dlb21ldHJ5LnNldEluZGV4KG5ld0luZGljZXMpO1xuICAgICAgICAgICAgbmV3R2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ld0dlb21ldHJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVua25vd24gZHJhdyBtb2RlOicsIGRyYXdNb2RlKTtcbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IEJ1ZmZlckdlb21ldHJ5VXRpbHMgfTtcbiIsIi8qKlxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqIEBhdXRob3IgbXIuZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjYW52YXM6ICEhd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICB3ZWJnbDogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICAgICAgcmV0dXJuICEhKFxuICAgICAgICAgICAgICAgIHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSkoKSxcblxuICAgIHdvcmtlcnM6ICEhd2luZG93LldvcmtlcixcbiAgICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgICBnZXRXZWJHTEVycm9yTWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtZW50LmlkID0gJ3dlYmdsLWVycm9yLW1lc3NhZ2UnO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5mb250U2l6ZSA9ICcxM3B4JztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICcjZmZmJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5jb2xvciA9ICcjMDAwJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICc0MDBweCc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luID0gJzVlbSBhdXRvIDAnO1xuXG4gICAgICAgIGlmICghdGhpcy53ZWJnbCkge1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgJ1lvdXIgZ3JhcGhpY3MgY2FyZCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIgLz4nLFxuICAgICAgICAgICAgICAgICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nXG4gICAgICAgICAgICAgICAgICBdLmpvaW4oJ1xcbicpXG4gICAgICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIvPicsXG4gICAgICAgICAgICAgICAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgICAgICAgICAgICAgIF0uam9pbignXFxuJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9LFxuXG4gICAgYWRkR2V0V2ViR0xNZXNzYWdlOiBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuICAgICAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVycyB8fCB7fTtcblxuICAgICAgICBwYXJlbnQgPSBwYXJhbWV0ZXJzLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5wYXJlbnQgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgICAgIGVsZW1lbnQgPSB0aGlzLmdldFdlYkdMRXJyb3JNZXNzYWdlKCk7XG4gICAgICAgIGVsZW1lbnQuaWQgPSBpZDtcblxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxufTtcbiIsIi8vIFByb3ZpZGVzIHNpbXBsZSBzdGF0aWMgZnVuY3Rpb25zIHRoYXQgYXJlIHVzZWQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIGFwcFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscGVycyB7XG4gICAgc3RhdGljIHRocm90dGxlKGZuLCB0aHJlc2hob2xkLCBzY29wZSkge1xuICAgICAgICB0aHJlc2hob2xkIHx8ICh0aHJlc2hob2xkID0gMjUwKTtcbiAgICAgICAgbGV0IGxhc3QsIGRlZmVyVGltZXI7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBzY29wZSB8fCB0aGlzO1xuXG4gICAgICAgICAgICBjb25zdCBub3cgPSArbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICAgICAgICBpZiAobGFzdCAmJiBub3cgPCBsYXN0ICsgdGhyZXNoaG9sZCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWZlclRpbWVyKTtcbiAgICAgICAgICAgICAgICBkZWZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0sIHRocmVzaGhvbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYXN0ID0gbm93O1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2dQcm9ncmVzcygpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgIGlmICh4aHIubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRDb21wbGV0ZSA9ICh4aHIubG9hZGVkIC8geGhyLnRvdGFsKSAqIDEwMDtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlLCAyKSArICclIGRvd25sb2FkZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbG9nRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHhocik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGhhbmRsZUNvbG9yQ2hhbmdlKGNvbG9yKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCcjJywgJzB4Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbG9yLnNldEhleCh2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHVwZGF0ZShtZXNoKSB7XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUobWVzaC5tYXRlcmlhbCwgbWVzaC5nZW9tZXRyeSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5lZWRzVXBkYXRlKG1hdGVyaWFsLCBnZW9tZXRyeSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbWF0ZXJpYWwuc2hhZGluZyA9ICttYXRlcmlhbC5zaGFkaW5nOyAvL0Vuc3VyZSBudW1iZXJcbiAgICAgICAgICAgIG1hdGVyaWFsLnZlcnRleENvbG9ycyA9ICttYXRlcmlhbC52ZXJ0ZXhDb2xvcnM7IC8vRW5zdXJlIG51bWJlclxuICAgICAgICAgICAgbWF0ZXJpYWwuc2lkZSA9ICttYXRlcmlhbC5zaWRlOyAvL0Vuc3VyZSBudW1iZXJcbiAgICAgICAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBnZW9tZXRyeS5ub3JtYWxzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBnZW9tZXRyeS5jb2xvcnNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdXBkYXRlVGV4dHVyZShtYXRlcmlhbCwgbWF0ZXJpYWxLZXksIHRleHR1cmVzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBtYXRlcmlhbFttYXRlcmlhbEtleV0gPSB0ZXh0dXJlc1trZXldO1xuICAgICAgICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImNvbnN0IEFMSUFTID0ge1xuICAgIGxlZnQ6IDM3LFxuICAgIHVwOiAzOCxcbiAgICByaWdodDogMzksXG4gICAgZG93bjogNDAsXG4gICAgc3BhY2U6IDMyLFxuICAgIHRhYjogOSxcbiAgICBlc2NhcGU6IDI3XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlib2FyZCB7XG4gICAgY29uc3RydWN0b3IoZG9tRWxlbWVudCkge1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb21FbGVtZW50IHx8IGRvY3VtZW50O1xuICAgICAgICB0aGlzLmtleUNvZGVzID0ge307XG5cbiAgICAgICAgLy8gYmluZCBrZXlFdmVudHNcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksIGZhbHNlKTtcblxuICAgICAgICAvLyBiaW5kIHdpbmRvdyBibHVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIHVuYmluZCB3aW5kb3cgYmx1ciBldmVudFxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHRoaXMub25CbHVyLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgb25CbHVyKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gdGhpcy5rZXlDb2RlcykgdGhpcy5rZXlDb2Rlc1twcm9wXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uS2V5Q2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIC8vIGxvZyB0byBkZWJ1Z1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdvbktleUNoYW5nZScsIGV2ZW50LCBldmVudC5rZXlDb2RlLCBldmVudC5zaGlmdEtleSwgZXZlbnQuY3RybEtleSwgZXZlbnQuYWx0S2V5LCBldmVudC5tZXRhS2V5KVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGlzLmtleUNvZGVzXG4gICAgICAgIGNvbnN0IGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgICAgICB0aGlzLmtleUNvZGVzW2tleUNvZGVdID0gZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nO1xuICAgIH1cblxuICAgIHByZXNzZWQoa2V5RGVzYykge1xuICAgICAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdCgnKycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKEFMSUFTKS5pbmRleE9mKGtleSkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1tBTElBU1trZXldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJlc3NlZCA9IHRoaXMua2V5Q29kZXNba2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXByZXNzZWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGV2ZW50TWF0Y2hlcyhldmVudCwga2V5RGVzYykge1xuICAgICAgICBjb25zdCBhbGlhc2VzID0gQUxJQVM7XG4gICAgICAgIGNvbnN0IGFsaWFzS2V5cyA9IE9iamVjdC5rZXlzKGFsaWFzZXMpO1xuICAgICAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdCgnKycpO1xuICAgICAgICAvLyBsb2cgdG8gZGVidWdcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2V2ZW50TWF0Y2hlcycsIGV2ZW50LCBldmVudC5rZXlDb2RlLCBldmVudC5zaGlmdEtleSwgZXZlbnQuY3RybEtleSwgZXZlbnQuYWx0S2V5LCBldmVudC5tZXRhS2V5KVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3NoaWZ0Jykge1xuICAgICAgICAgICAgICAgIHByZXNzZWQgPSBldmVudC5zaGlmdEtleSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnY3RybCcpIHtcbiAgICAgICAgICAgICAgICBwcmVzc2VkID0gZXZlbnQuY3RybEtleSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnYWx0Jykge1xuICAgICAgICAgICAgICAgIHByZXNzZWQgPSBldmVudC5hbHRLZXkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ21ldGEnKSB7XG4gICAgICAgICAgICAgICAgcHJlc3NlZCA9IGV2ZW50Lm1ldGFLZXkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWFzS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJlc3NlZCA9IGV2ZW50LmtleUNvZGUgPT09IGFsaWFzZXNba2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0ga2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICAgICAgICAgIHByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwcmVzc2VkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY29uc29sZSIsImxvZyIsIkNvbmZpZyIsIkRldGVjdG9yIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIk1haW4iLCJpbml0IiwiQ2FtZXJhIiwicmVuZGVyZXIiLCJ3aWR0aCIsImRvbUVsZW1lbnQiLCJoZWlnaHQiLCJ0aGlzIiwidGhyZWVDYW1lcmEiLCJUSFJFRSIsInBvc2l0aW9uIiwic2V0IiwidXAiLCJ1cGRhdGVTaXplIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJDb250cm9scyIsImNhbWVyYSIsInRocmVlQ29udHJvbHMiLCJPcmJpdENvbnRyb2xzIiwidGFyZ2V0IiwiYXV0b1JvdGF0ZSIsImF1dG9Sb3RhdGVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsIm1pblBvbGFyQW5nbGUiLCJtYXhQb2xhckFuZ2xlIiwiZW5hYmxlRGFtcGluZyIsImVuYWJsZVpvb20iLCJkYW1waW5nRmFjdG9yIiwiZW5hYmxlUm90YXRlIiwibWluQXppbXV0aEFuZ2xlIiwibWF4QXppbXV0aEFuZ2xlIiwiSW5maW5pdHkiLCJFbnZpcm9ubWVudCIsInNjZW5lX3NjYWxlIiwiZ2VvbWV0cnkiLCJtYXRlcmlhbCIsImNvbG9yIiwiZGVwdGhXcml0ZSIsInVzZXJEYXRhIiwib3JpZ2luYWxDb2xvciIsImdyb3VuZCIsInNjYWxlIiwicmVjZWl2ZVNoYWRvdyIsInNjZW5lIiwiYWRkIiwiZ3JpZCIsIk1hdGgiLCJyb3VuZCIsInJvdGF0aW9uIiwieCIsIlBJIiwib3BhY2l0eSIsInRyYW5zcGFyZW50IiwiR2VvbWV0cnkiLCJnZW8iLCJ0eXBlIiwid2lkdGhTZWdtZW50cyIsImhlaWdodFNlZ21lbnRzIiwicmFkaXVzIiwiTWF0ZXJpYWwiLCJzdGFuZGFyZCIsIm1lc2giLCJDU1MyRFJlbmRlcmVyIiwic2V0U2l6ZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInN0eWxlIiwidG9wIiwiaXNTaG93aW5nTGFibGVzIiwiaXNTaG93aW5nT2JzdGFjbGVMYWJsZXMiLCJpc1Nob3dpbmdSb2JvdExhYmxlcyIsImFkZExhYmVsIiwicHJlZml4Iiwib2JqZWN0IiwidmlzaWJpbGl0eSIsInVuZGVmaW5lZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidGV4dENvbnRlbnQiLCJuYW1lIiwicmVhbGl0eSIsIm1hcmdpblRvcCIsImVsZW1lbnRMYWJlbCIsIkNTUzJET2JqZWN0IiwiaWQiLCJ2aXNpYmxlIiwicmVtb3ZlTGFiZWwiLCJyZW1vdmUiLCJMaWdodCIsImFtYmllbnRMaWdodCIsInBvaW50TGlnaHQiLCJkaXJlY3Rpb25hbExpZ2h0IiwiY2FzdFNoYWRvdyIsInNoYWRvdyIsImJpYXMiLCJuZWFyIiwiZmFyIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwibWFwU2l6ZSIsImRpcmVjdGlvbmFsTGlnaHRIZWxwZXIiLCJoZW1pTGlnaHQiLCJsaWdodE5hbWUiLCJiYXNpYyIsInNpZGUiLCJzaGFkaW5nIiwicm91Z2huZXNzIiwibWV0YWxuZXNzIiwid2lyZSIsIndpcmVmcmFtZSIsIk9CU1RBQ0xFX1BSRUZJWCIsIk9ic3RhY2xlIiwiY2FsbGJhY2siLCJvYnN0YWNsZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsIm9icyIsImNyZWF0ZSIsIm9ic3RhY2xlIiwiY3JlYXRlR2VvbWV0cnkiLCJjcmVhdGVNYXRlcmlhbCIsImxhYmVsVmlzaWJpbGl0eSIsIm9yaWdpbmFsRW1taXNpdmUiLCJlbWlzc2l2ZSIsImdldEhleCIsInNlbGVjdGVkIiwiZmxvb3IiLCJyYW5kb20iLCJuYW1lX3RlbXAiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImRlbGV0ZUlmRXhpc3RzIiwieSIsInoiLCJjYWxjdWxhdGVaIiwicmFkWCIsInJhZFkiLCJyYWRaIiwiZyIsIlR5cGVFcnJvciIsImNyZWF0ZUJveEdlb21ldHJ5IiwiZGVwdGgiLCJjcmVhdGVDeWxpbmRlckdlb21ldHJ5IiwicmFkaXVzVG9wIiwicmFkaXVzQm90dG9tIiwiY3JlYXRlU3BoZXJlR2VvbWV0cnkiLCJyYWRpYWxTZWdtZW50cyIsIm0iLCJwcm9wZXJ0aWVzIiwiZ2V0T2JqZWN0QnlOYW1lIiwib2JqZWN0cyIsImNoaWxkcmVuIiwib2JqIiwic3RhcnRzV2l0aCIsIlJlbmRlcmVyIiwidGhyZWVSZW5kZXJlciIsImFudGlhbGlhcyIsInNldENsZWFyQ29sb3IiLCJmb2ciLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInJlbmRlciIsIlNUTExvYWRlciIsInJlcXVpcmUiLCJST0JPVF9QUkVGSVgiLCJSb2JvdCIsInRoYXQiLCJjcmVhdGVkIiwic2V0SW50ZXJ2YWwiLCJwcnVuZSIsIlIiLCJHIiwiQiIsImFtYmllbnQiLCJyIiwic2V0UkdCIiwiaGVhZGluZyIsIlJFQUxJVFkiLCJtaW4iLCJtYXgiLCJsb2FkIiwicm9ib3RJZCIsImNsaWNrRXZlbnQiLCJyb2JvdCIsImFsZXJ0IiwiZXJyb3IiLCJzZXRSZWFsaXR5IiwibW92ZSIsImN1cnJlbnRIZWFkaW5nIiwibmV3SGVhZGluZyIsInJvdGF0aW9uRmxhZyIsInNxcnQiLCJwb3ciLCJUV0VFTiIsInRvIiwib25VcGRhdGUiLCJvbkNvbXBsZXRlIiwiZGVsYXkiLCJzdGFydCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibXF0dCIsInB1Ymxpc2giLCJjaGFubmVsIiwiSlNPTiIsInN0cmluZ2lmeSIsIm5vZGVDb250ZW50IiwiZGlzcCIsInF1ZXJ5U2VsZWN0b3IiLCJwcmV2Q29udGVudCIsImNvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVUZXh0Tm9kZSIsInJlcXVlc3RTbmFwc2hvdCIsInJlcGxhY2VDaGlsZCIsImRpc3BsYXkiLCJzZXRUaW1lb3V0IiwidmFsaWQiLCJNZXNoSGVscGVyIiwid2lyZUxpbmUiLCJkZXB0aFRlc3QiLCJlZGdlcyIsImVkZ2VzTGluZSIsInZlcnRleEhlbHBlciIsIlZlcnRleE5vcm1hbHNIZWxwZXIiLCJib3hIZWxwZXIiLCJnZXRVcmxQYXJhbSIsInBhcmFtZXRlciIsImRlZmF1bHR2YWx1ZSIsInZhcnMiLCJ1cmxwYXJhbWV0ZXIiLCJsb2NhdGlvbiIsImhyZWYiLCJpbmRleE9mIiwicmVwbGFjZSIsImtleSIsInZhbHVlIiwiZ2V0Q3JlZGVudGlhbHMiLCJwYXRoIiwic3RvcmVkQ3JlZGVudGlhbHMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInBvcnQiLCJzZXJ2ZXIiLCJvcmlnaW4iLCJwYXRobmFtZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJ0aXRsZSIsInNldEl0ZW0iLCJwYXJzZSIsIl92MSIsIlZlY3RvcjMiLCJfdjIiLCJfbm9ybWFsTWF0cml4IiwiTWF0cml4MyIsIl9rZXlzIiwic2l6ZSIsImhleCIsIm5Ob3JtYWxzIiwib2JqR2VvbWV0cnkiLCJpc0dlb21ldHJ5IiwiZmFjZXMiLCJsZW5ndGgiLCJpc0J1ZmZlckdlb21ldHJ5IiwiYXR0cmlidXRlcyIsIm5vcm1hbCIsImNvdW50IiwiQnVmZmVyR2VvbWV0cnkiLCJwb3NpdGlvbnMiLCJGbG9hdDMyQnVmZmVyQXR0cmlidXRlIiwiTGluZVNlZ21lbnRzIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJ0b25lTWFwcGVkIiwibWF0cml4QXV0b1VwZGF0ZSIsInVwZGF0ZSIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwiaWR4IiwidXBkYXRlTWF0cml4V29ybGQiLCJnZXROb3JtYWxNYXRyaXgiLCJtYXRyaXhXb3JsZCIsInZlcnRpY2VzIiwiaSIsImwiLCJmYWNlIiwiaiIsImpsIiwidmVydGV4Tm9ybWFscyIsInZlcnRleCIsImNvcHkiLCJhcHBseU1hdHJpeDQiLCJhcHBseU1hdHJpeDMiLCJub3JtYWxpemUiLCJtdWx0aXBseVNjYWxhciIsInNldFhZWiIsIm9ialBvcyIsIm9iak5vcm0iLCJnZXRYIiwiZ2V0WSIsImdldFoiLCJuZWVkc1VwZGF0ZSIsIkdMVEZMb2FkZXIiLCJtYW5hZ2VyIiwiTG9hZGVyIiwiZHJhY29Mb2FkZXIiLCJkZHNMb2FkZXIiLCJHTFRGUmVnaXN0cnkiLCJnZXQiLCJyZW1vdmVBbGwiLCJhc3NpZ24iLCJ1cmwiLCJvbkxvYWQiLCJvblByb2dyZXNzIiwib25FcnJvciIsInJlc291cmNlUGF0aCIsInNjb3BlIiwiTG9hZGVyVXRpbHMiLCJpdGVtU3RhcnQiLCJfb25FcnJvciIsImUiLCJpdGVtRXJyb3IiLCJpdGVtRW5kIiwibG9hZGVyIiwiRmlsZUxvYWRlciIsInNldFBhdGgiLCJzZXRSZXNwb25zZVR5cGUiLCJjcm9zc09yaWdpbiIsInNldFdpdGhDcmVkZW50aWFscyIsImRhdGEiLCJnbHRmIiwic2V0RFJBQ09Mb2FkZXIiLCJzZXRERFNMb2FkZXIiLCJleHRlbnNpb25zIiwiVWludDhBcnJheSIsIkJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDIiwiRVhURU5TSU9OUyIsIktIUl9CSU5BUllfR0xURiIsIkdMVEZCaW5hcnlFeHRlbnNpb24iLCJqc29uIiwiYXNzZXQiLCJ2ZXJzaW9uIiwiRXJyb3IiLCJleHRlbnNpb25zVXNlZCIsImV4dGVuc2lvbk5hbWUiLCJleHRlbnNpb25zUmVxdWlyZWQiLCJLSFJfTElHSFRTX1BVTkNUVUFMIiwiR0xURkxpZ2h0c0V4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUIiwiR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfVU5MSVQiLCJHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIiwiR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbiIsIktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIiwiR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uIiwiTVNGVF9URVhUVVJFX0REUyIsIkdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uIiwiS0hSX1RFWFRVUkVfVFJBTlNGT1JNIiwiR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24iLCJLSFJfTUVTSF9RVUFOVElaQVRJT04iLCJHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiIsIndhcm4iLCJHTFRGUGFyc2VyIiwiZXh0ZW5zaW9uIiwibGlnaHREZWZzIiwibGlnaHRzIiwibG9hZExpZ2h0IiwibGlnaHRJbmRleCIsImxpZ2h0Tm9kZSIsImxpZ2h0RGVmIiwiQ29sb3IiLCJmcm9tQXJyYXkiLCJyYW5nZSIsIkRpcmVjdGlvbmFsTGlnaHQiLCJQb2ludExpZ2h0IiwiZGlzdGFuY2UiLCJTcG90TGlnaHQiLCJzcG90IiwiaW5uZXJDb25lQW5nbGUiLCJvdXRlckNvbmVBbmdsZSIsImFuZ2xlIiwicGVudW1icmEiLCJkZWNheSIsImludGVuc2l0eSIsImdldE1hdGVyaWFsVHlwZSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZXh0ZW5kUGFyYW1zIiwibWF0ZXJpYWxQYXJhbXMiLCJtYXRlcmlhbERlZiIsInBhcnNlciIsInBlbmRpbmciLCJtZXRhbGxpY1JvdWdobmVzcyIsInBick1ldGFsbGljUm91Z2huZXNzIiwiQXJyYXkiLCJpc0FycmF5IiwiYmFzZUNvbG9yRmFjdG9yIiwiYXJyYXkiLCJiYXNlQ29sb3JUZXh0dXJlIiwicHVzaCIsImFzc2lnblRleHR1cmUiLCJhbGwiLCJNZXNoUGh5c2ljYWxNYXRlcmlhbCIsImNsZWFyY29hdEZhY3RvciIsImNsZWFyY29hdCIsImNsZWFyY29hdFRleHR1cmUiLCJjbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IiLCJjbGVhcmNvYXRSb3VnaG5lc3MiLCJjbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlIiwiY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSIsImNsZWFyY29hdE5vcm1hbFNjYWxlIiwiVmVjdG9yMiIsIkJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCIsIkJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMiLCJCSU4iLCJib2R5IiwiaGVhZGVyVmlldyIsIkRhdGFWaWV3IiwiaGVhZGVyIiwibWFnaWMiLCJzbGljZSIsImdldFVpbnQzMiIsImNodW5rVmlldyIsImNodW5rSW5kZXgiLCJieXRlTGVuZ3RoIiwiY2h1bmtMZW5ndGgiLCJjaHVua1R5cGUiLCJjb250ZW50QXJyYXkiLCJieXRlT2Zmc2V0IiwicHJlbG9hZCIsIkdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsIiwicGFyYW1zIiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJpc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCIsInNwZWN1bGFyTWFwUGFyc0ZyYWdtZW50Q2h1bmsiLCJqb2luIiwiZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rIiwic3BlY3VsYXJNYXBGcmFnbWVudENodW5rIiwiZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsiLCJsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayIsInVuaWZvcm1zIiwic3BlY3VsYXIiLCJzZXRIZXgiLCJnbG9zc2luZXNzIiwic3BlY3VsYXJNYXAiLCJnbG9zc2luZXNzTWFwIiwiX2V4dHJhVW5pZm9ybXMiLCJvbkJlZm9yZUNvbXBpbGUiLCJzaGFkZXIiLCJ1bmlmb3JtTmFtZSIsImZyYWdtZW50U2hhZGVyIiwiZGVmaW5lUHJvcGVydGllcyIsInYiLCJkZWZpbmVzIiwiVVNFX0dMT1NTSU5FU1NNQVAiLCJVU0VfUk9VR0hORVNTTUFQIiwibWV0YWxuZXNzTWFwIiwicm91Z2huZXNzTWFwIiwic2V0VmFsdWVzIiwic3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zIiwicGJyU3BlY3VsYXJHbG9zc2luZXNzIiwiZGlmZnVzZUZhY3RvciIsImRpZmZ1c2VUZXh0dXJlIiwiZ2xvc3NpbmVzc0ZhY3RvciIsInNwZWN1bGFyRmFjdG9yIiwic3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSIsInNwZWNHbG9zc01hcERlZiIsIm1hcCIsImxpZ2h0TWFwIiwibGlnaHRNYXBJbnRlbnNpdHkiLCJhb01hcCIsImFvTWFwSW50ZW5zaXR5IiwiZW1pc3NpdmVJbnRlbnNpdHkiLCJlbWlzc2l2ZU1hcCIsImJ1bXBNYXAiLCJidW1wU2NhbGUiLCJub3JtYWxNYXAiLCJub3JtYWxNYXBUeXBlIiwiVGFuZ2VudFNwYWNlTm9ybWFsTWFwIiwibm9ybWFsU2NhbGUiLCJkaXNwbGFjZW1lbnRNYXAiLCJkaXNwbGFjZW1lbnRTY2FsZSIsImRpc3BsYWNlbWVudEJpYXMiLCJhbHBoYU1hcCIsImVudk1hcCIsImVudk1hcEludGVuc2l0eSIsInJlZnJhY3Rpb25SYXRpbyIsIkdMVEZDdWJpY1NwbGluZUludGVycG9sYW50IiwicGFyYW1ldGVyUG9zaXRpb25zIiwic2FtcGxlVmFsdWVzIiwic2FtcGxlU2l6ZSIsInJlc3VsdEJ1ZmZlciIsIkludGVycG9sYW50IiwiZGVjb2RlUHJpbWl0aXZlIiwicHJpbWl0aXZlIiwiYnVmZmVyVmlld0luZGV4IiwiYnVmZmVyVmlldyIsImdsdGZBdHRyaWJ1dGVNYXAiLCJ0aHJlZUF0dHJpYnV0ZU1hcCIsImF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAiLCJhdHRyaWJ1dGVUeXBlTWFwIiwiYXR0cmlidXRlTmFtZSIsInRocmVlQXR0cmlidXRlTmFtZSIsIkFUVFJJQlVURVMiLCJ0b0xvd2VyQ2FzZSIsImFjY2Vzc29yRGVmIiwiYWNjZXNzb3JzIiwiY29tcG9uZW50VHlwZSIsIldFQkdMX0NPTVBPTkVOVF9UWVBFUyIsIm5vcm1hbGl6ZWQiLCJnZXREZXBlbmRlbmN5IiwidGhlbiIsImRlY29kZURyYWNvRmlsZSIsImF0dHJpYnV0ZSIsImV4dGVuZFRleHR1cmUiLCJ0ZXh0dXJlIiwidHJhbnNmb3JtIiwiY2xvbmUiLCJvZmZzZXQiLCJyZXBlYXQiLCJ0ZXhDb29yZCIsInNvdXJjZSIsImNvcHlTYW1wbGVWYWx1ZV8iLCJpbmRleCIsInJlc3VsdCIsInZhbHVlcyIsInZhbHVlU2l6ZSIsImJlZm9yZVN0YXJ0XyIsImFmdGVyRW5kXyIsImludGVycG9sYXRlXyIsImkxIiwidDAiLCJ0IiwidDEiLCJzdHJpZGUiLCJzdHJpZGUyIiwic3RyaWRlMyIsInRkIiwicCIsInBwIiwicHBwIiwib2Zmc2V0MSIsIm9mZnNldDAiLCJzMiIsInMzIiwiczAiLCJzMSIsInAwIiwibTAiLCJwMSIsIm0xIiwiV0VCR0xfQ09OU1RBTlRTIiwiSW50OEFycmF5IiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJXRUJHTF9GSUxURVJTIiwiTmVhcmVzdEZpbHRlciIsIkxpbmVhckZpbHRlciIsIk5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyIiwiTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciIsIk5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIiLCJMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIiLCJXRUJHTF9XUkFQUElOR1MiLCJDbGFtcFRvRWRnZVdyYXBwaW5nIiwiTWlycm9yZWRSZXBlYXRXcmFwcGluZyIsIlJlcGVhdFdyYXBwaW5nIiwiV0VCR0xfVFlQRV9TSVpFUyIsIlNDQUxBUiIsIlZFQzIiLCJWRUMzIiwiVkVDNCIsIk1BVDIiLCJNQVQzIiwiTUFUNCIsIlBPU0lUSU9OIiwiTk9STUFMIiwiVEFOR0VOVCIsIlRFWENPT1JEXzAiLCJURVhDT09SRF8xIiwiQ09MT1JfMCIsIldFSUdIVFNfMCIsIkpPSU5UU18wIiwiUEFUSF9QUk9QRVJUSUVTIiwidHJhbnNsYXRpb24iLCJ3ZWlnaHRzIiwiSU5URVJQT0xBVElPTiIsIkNVQklDU1BMSU5FIiwiTElORUFSIiwiSW50ZXJwb2xhdGVMaW5lYXIiLCJTVEVQIiwiSW50ZXJwb2xhdGVEaXNjcmV0ZSIsIkFMUEhBX01PREVTIiwiTUlNRV9UWVBFX0ZPUk1BVFMiLCJSR0JBRm9ybWF0IiwiUkdCRm9ybWF0IiwicmVzb2x2ZVVSTCIsInRlc3QiLCJhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEiLCJrbm93bkV4dGVuc2lvbnMiLCJvYmplY3REZWYiLCJnbHRmRXh0ZW5zaW9ucyIsImFzc2lnbkV4dHJhc1RvVXNlckRhdGEiLCJnbHRmRGVmIiwiZXh0cmFzIiwidXBkYXRlTW9ycGhUYXJnZXRzIiwibWVzaERlZiIsImlsIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwidGFyZ2V0TmFtZXMiLCJtb3JwaFRhcmdldERpY3Rpb25hcnkiLCJjcmVhdGVBdHRyaWJ1dGVzS2V5IiwiYXR0cmlidXRlc0tleSIsImtleXMiLCJzb3J0Iiwib3B0aW9ucyIsImNhY2hlIiwicHJpbWl0aXZlQ2FjaGUiLCJ0ZXh0dXJlTG9hZGVyIiwiVGV4dHVyZUxvYWRlciIsInNldENyb3NzT3JpZ2luIiwiZmlsZUxvYWRlciIsImFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMiLCJwcmltaXRpdmVEZWYiLCJhc3NpZ25BdHRyaWJ1dGVBY2Nlc3NvciIsImFjY2Vzc29ySW5kZXgiLCJhY2Nlc3NvciIsImdsdGZBdHRyaWJ1dGVOYW1lIiwiaW5kaWNlcyIsInNldEluZGV4IiwiYm94IiwiQm94MyIsInRhcmdldHMiLCJtYXhEaXNwbGFjZW1lbnQiLCJ2ZWN0b3IiLCJzZXRYIiwiYWJzIiwic2V0WSIsInNldFoiLCJleHBhbmRCeVZlY3RvciIsImJvdW5kaW5nQm94Iiwic3BoZXJlIiwiU3BoZXJlIiwiZ2V0Q2VudGVyIiwiY2VudGVyIiwiZGlzdGFuY2VUbyIsImJvdW5kaW5nU3BoZXJlIiwiY29tcHV0ZUJvdW5kcyIsImhhc01vcnBoUG9zaXRpb24iLCJoYXNNb3JwaE5vcm1hbCIsInBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyIsInBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMiLCJwZW5kaW5nQWNjZXNzb3IiLCJtb3JwaFBvc2l0aW9ucyIsIm1vcnBoTm9ybWFscyIsIm1vcnBoQXR0cmlidXRlcyIsIm1vcnBoVGFyZ2V0c1JlbGF0aXZlIiwiYWRkTW9ycGhUYXJnZXRzIiwidG9UcmlhbmdsZXNEcmF3TW9kZSIsImRyYXdNb2RlIiwiZ2V0SW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJudW1iZXJPZlRyaWFuZ2xlcyIsIm5ld0luZGljZXMiLCJUcmlhbmdsZUZhbkRyYXdNb2RlIiwibmV3R2VvbWV0cnkiLCJtYXJrRGVmcyIsImdldERlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsInNjZW5lcyIsImFuaW1hdGlvbnMiLCJjYW1lcmFzIiwibm9kZURlZnMiLCJub2RlcyIsInNraW5EZWZzIiwic2tpbnMiLCJtZXNoRGVmcyIsIm1lc2hlcyIsIm1lc2hSZWZlcmVuY2VzIiwibWVzaFVzZXMiLCJza2luSW5kZXgiLCJza2luTGVuZ3RoIiwiam9pbnRzIiwiaXNCb25lIiwibm9kZUluZGV4Iiwibm9kZUxlbmd0aCIsIm5vZGVEZWYiLCJza2luIiwiaXNTa2lubmVkTWVzaCIsImNhY2hlS2V5IiwiZGVwZW5kZW5jeSIsImxvYWRTY2VuZSIsImxvYWROb2RlIiwibG9hZE1lc2giLCJsb2FkQWNjZXNzb3IiLCJsb2FkQnVmZmVyVmlldyIsImxvYWRCdWZmZXIiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkVGV4dHVyZSIsImxvYWRTa2luIiwibG9hZEFuaW1hdGlvbiIsImxvYWRDYW1lcmEiLCJkZWZzIiwiZGVmIiwiYnVmZmVySW5kZXgiLCJidWZmZXJEZWYiLCJidWZmZXJzIiwidXJpIiwiYnVmZmVyVmlld0RlZiIsImJ1ZmZlclZpZXdzIiwiYnVmZmVyIiwic3BhcnNlIiwicGVuZGluZ0J1ZmZlclZpZXdzIiwiYnVmZmVyQXR0cmlidXRlIiwiaXRlbVNpemUiLCJUeXBlZEFycmF5IiwiZWxlbWVudEJ5dGVzIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpdGVtQnl0ZXMiLCJieXRlU3RyaWRlIiwiaWJTbGljZSIsImliQ2FjaGVLZXkiLCJpYiIsIkludGVybGVhdmVkQnVmZmVyIiwiSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJCdWZmZXJBdHRyaWJ1dGUiLCJpdGVtU2l6ZUluZGljZXMiLCJUeXBlZEFycmF5SW5kaWNlcyIsImJ5dGVPZmZzZXRJbmRpY2VzIiwiYnl0ZU9mZnNldFZhbHVlcyIsInNwYXJzZUluZGljZXMiLCJzcGFyc2VWYWx1ZXMiLCJzZXRXIiwidGV4dHVyZUluZGV4IiwiVVJMIiwic2VsZiIsIndlYmtpdFVSTCIsInRleHR1cmVEZWYiLCJ0ZXh0dXJlcyIsInRleHR1cmVFeHRlbnNpb25zIiwic291cmNlVVJJIiwiaW1hZ2VzIiwiaXNPYmplY3RVUkwiLCJibG9iIiwiQmxvYiIsIm1pbWVUeXBlIiwiY3JlYXRlT2JqZWN0VVJMIiwiZ2V0SGFuZGxlciIsInJldm9rZU9iamVjdFVSTCIsImZsaXBZIiwiZm9ybWF0Iiwic2FtcGxlciIsInNhbXBsZXJzIiwibWFnRmlsdGVyIiwibWluRmlsdGVyIiwid3JhcFMiLCJ3cmFwVCIsIm1hcE5hbWUiLCJtYXBEZWYiLCJpc0NvbXByZXNzZWRUZXh0dXJlIiwiYXNzaWduRmluYWxNYXRlcmlhbCIsInVzZVZlcnRleFRhbmdlbnRzIiwidGFuZ2VudCIsInVzZVZlcnRleENvbG9ycyIsInVzZUZsYXRTaGFkaW5nIiwidXNlU2tpbm5pbmciLCJ1c2VNb3JwaFRhcmdldHMiLCJ1c2VNb3JwaE5vcm1hbHMiLCJpc1BvaW50cyIsInV1aWQiLCJwb2ludHNNYXRlcmlhbCIsIlBvaW50c01hdGVyaWFsIiwic2l6ZUF0dGVudWF0aW9uIiwiaXNMaW5lIiwibGluZU1hdGVyaWFsIiwiY2FjaGVkTWF0ZXJpYWwiLCJza2lubmluZyIsInZlcnRleFRhbmdlbnRzIiwidmVydGV4Q29sb3JzIiwiZmxhdFNoYWRpbmciLCJtb3JwaFRhcmdldHMiLCJ1djIiLCJ1diIsIm1hdGVyaWFsSW5kZXgiLCJtYXRlcmlhbFR5cGUiLCJtYXRlcmlhbHMiLCJtYXRlcmlhbEV4dGVuc2lvbnMiLCJzZ0V4dGVuc2lvbiIsImttdUV4dGVuc2lvbiIsIm1ldGFsbGljRmFjdG9yIiwicm91Z2huZXNzRmFjdG9yIiwibWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlIiwiZG91YmxlU2lkZWQiLCJEb3VibGVTaWRlIiwiYWxwaGFNb2RlIiwiYWxwaGFUZXN0IiwiYWxwaGFDdXRvZmYiLCJub3JtYWxUZXh0dXJlIiwib2NjbHVzaW9uVGV4dHVyZSIsInN0cmVuZ3RoIiwiZW1pc3NpdmVGYWN0b3IiLCJlbWlzc2l2ZVRleHR1cmUiLCJjbGVhcmNvYXRFeHRlbnNpb24iLCJlbmNvZGluZyIsInNSR0JFbmNvZGluZyIsImxvYWRHZW9tZXRyaWVzIiwicHJpbWl0aXZlcyIsImNyZWF0ZURyYWNvUHJpbWl0aXZlIiwiZHJhY29FeHRlbnNpb24iLCJnZW9tZXRyeVByb21pc2UiLCJtb2RlIiwiY2FjaGVkIiwicHJvbWlzZSIsIm1lc2hJbmRleCIsIkZyb250U2lkZSIsInJlc3VsdHMiLCJnZW9tZXRyaWVzIiwiU2tpbm5lZE1lc2giLCJNZXNoIiwic2tpbldlaWdodCIsIm5vcm1hbGl6ZVNraW5XZWlnaHRzIiwiVHJpYW5nbGVTdHJpcERyYXdNb2RlIiwiTGluZSIsIkxpbmVMb29wIiwiUG9pbnRzIiwiZ3JvdXAiLCJHcm91cCIsImNhbWVyYUluZGV4IiwiY2FtZXJhRGVmIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJNYXRoVXRpbHMiLCJ5Zm92IiwiYXNwZWN0UmF0aW8iLCJ6bmVhciIsInpmYXIiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJ4bWFnIiwieW1hZyIsInNraW5EZWYiLCJza2luRW50cnkiLCJpbnZlcnNlQmluZE1hdHJpY2VzIiwiYW5pbWF0aW9uSW5kZXgiLCJhbmltYXRpb25EZWYiLCJwZW5kaW5nTm9kZXMiLCJwZW5kaW5nSW5wdXRBY2Nlc3NvcnMiLCJwZW5kaW5nT3V0cHV0QWNjZXNzb3JzIiwicGVuZGluZ1NhbXBsZXJzIiwicGVuZGluZ1RhcmdldHMiLCJjaGFubmVscyIsIm5vZGUiLCJpbnB1dCIsInBhcmFtZXRlcnMiLCJvdXRwdXQiLCJpbnB1dEFjY2Vzc29ycyIsIm91dHB1dEFjY2Vzc29ycyIsInRyYWNrcyIsImlucHV0QWNjZXNzb3IiLCJvdXRwdXRBY2Nlc3NvciIsIlR5cGVkS2V5ZnJhbWVUcmFjayIsInVwZGF0ZU1hdHJpeCIsIk51bWJlcktleWZyYW1lVHJhY2siLCJRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayIsIlZlY3RvcktleWZyYW1lVHJhY2siLCJ0YXJnZXROYW1lIiwiaW50ZXJwb2xhdGlvbiIsInRyYXZlcnNlIiwiaXNNZXNoIiwib3V0cHV0QXJyYXkiLCJzY2FsZWQiLCJ0cmFjayIsImNyZWF0ZUludGVycG9sYW50IiwidGltZXMiLCJnZXRWYWx1ZVNpemUiLCJpc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSIsIkFuaW1hdGlvbkNsaXAiLCJpbnN0YW5jZU51bSIsIm8iLCJsaWdodCIsIkJvbmUiLCJPYmplY3QzRCIsIlByb3BlcnR5QmluZGluZyIsIm1hdHJpeCIsIk1hdHJpeDQiLCJxdWF0ZXJuaW9uIiwiYnVpbGROb2RlSGllcmFjaHkiLCJub2RlSWQiLCJwYXJlbnRPYmplY3QiLCJwZW5kaW5nSm9pbnRzIiwiam9pbnROb2RlcyIsImJvbmVzIiwiYm9uZUludmVyc2VzIiwiam9pbnROb2RlIiwibWF0IiwiYmluZCIsIlNrZWxldG9uIiwiY2hpbGQiLCJzY2VuZUluZGV4Iiwic2NlbmVEZWYiLCJub2RlSWRzIiwiSU5URVJTRUNURUQiLCJzZWxlY3RlZExhYmVsIiwicmF5Y2FzdGVyIiwibW91c2UiLCJjbG9jayIsInNlbGVjdGVkUmVhbGl0eSIsIk1RVFRDbGllbnQiLCJjb250cm9scyIsInBsYWNlIiwic3RhdHMiLCJTdGF0cyIsImRvbSIsImxhYmVsUmVuZGVyZXIiLCJsYWJlbCIsImd1aSIsIkRhdEdVSSIsIlRleHR1cmUiLCJlbnZpcm9ubWVudCIsInNob3ciLCJpdGVtIiwibG9hZGVkIiwidG90YWwiLCJJbnRlcmFjdGlvbiIsIm1lc2hIZWxwZXIiLCJtb2RlbCIsImVuYWJsZSIsIm9uRG9jdW1lbnRNb3VzZURvd24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY2xpZW50WCIsImNsaWVudFkiLCJzZXRGcm9tQ2FtZXJhIiwiaW50ZXJzZWN0cyIsImludGVyc2VjdE9iamVjdHMiLCJjdXJyZW50T3BhY2l0eSIsImxhYmVsc1Zpc2liaWxpdHkiLCJjdXJyZW50Q29sb3IiLCJoaWRkZW4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtYWluIiwiZGF0IiwiR1VJIiwidXNlTG9jYWxTdG9yYWdlIiwib25DaGFuZ2UiLCJzYXZlQ29uZmlnIiwibGFiZWxzRm9sZGVyIiwiYWRkRm9sZGVyIiwidG9nZ2xlTGFiZWxzIiwicmVhbGl0eUZvbGRlciIsImxpc3RlbiIsInRvZ2dsZVJlYWxpdHkiLCJvdGhlckZvbGRlciIsInJlbG9hZCIsImNsb3NlIiwidmFyaWFibGUiLCJkZXN0cm95IiwidGltZW91dCIsImtleWJvYXJkIiwiS2V5Ym9hcmQiLCJIZWxwZXJzIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlT3ZlciIsImV2ZW50TWF0Y2hlcyIsImNsZWFyVGltZW91dCIsIlRPUElDX1JPQk9UX0NSRUFURSIsIlRPUElDX1JPQk9UX0RFTEVURSIsIlRPUElDX1JPQk9UX0JST0FEQ0FTVCIsIlRPUElDX0xPQ19JTkZPX0ZST01fU0VSVkVSIiwiVE9QSUNfTE9DX0lORk9fRlJPTV9MT0NfU1lTVEVNUyIsIlRPUElDX0xPQ19SRVFVRVNUIiwiVE9QSUNfT0JTVEFDTEVfUkVRVUVTVCIsIlRPUElDX09CU1RBQ0xFU19MSVNUIiwiVE9QSUNfT0JTVEFDTEVTX0RFTEVURSIsIlRPUElDX09CU1RBQ0xFU19ERUxFVEVfQUxMIiwiVE9QSUNfQ0hBTkdFX0NPTE9SIiwiVE9QSUNfTUFOQUdFTUVOVF9WSVNVQUxJWkVSIiwiVE9QSUNfTUFOQUdFTUVOVF9TTkFQU0hPVCIsImNyZWRlbnRpYWxzIiwidXBkYXRlQ2hhbm5lbCIsImNsaWVudF9pZCIsImNsaWVudCIsIk1RVFQiLCJjb25uZWN0IiwidXNlck5hbWUiLCJyZWNvbm5lY3QiLCJ1c2VTU0wiLCJjbGVhblNlc3Npb24iLCJvblN1Y2Nlc3MiLCJzdWJzY3JpYmUiLCJvbk1lc3NhZ2VBcnJpdmVkIiwib25Db25uZWN0aW9uTG9zdCIsIm9uRmFpbHVyZSIsInJlc3BvbnNlT2JqZWN0IiwiZXJyb3JDb2RlIiwiZXJyb3JNZXNzYWdlIiwicGFja2V0IiwibXNnIiwicGF5bG9hZFN0cmluZyIsInRyaW0iLCJkZXN0aW5hdGlvbk5hbWUiLCJ0b3BpYyIsImV4aXN0cyIsImNyZWF0ZUxpc3QiLCJkZWxldGVBbGwiLCJjaGFuZ2VDb2xvciIsInNwbGl0IiwiaW5uZXJIVE1MIiwic25hcHNob3QiLCJzdWJFbGVtZW50IiwidGl0bGVFbGVtZW50IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic3ViVG9waWMiLCJtZXNzYWdlIiwicGF5bG9hZCIsInB1YlRvcGljIiwic2VuZCIsIk1vZGVsIiwicmVmIiwiaXNMaWdodCIsIkJ1ZmZlckdlb21ldHJ5VXRpbHMiLCJVViIsIm1heEFuaXNvdHJvcHkiLCJpbWFnZUZpbGVzIiwicHJvbWlzZUFycmF5IiwiaW1hZ2VGaWxlIiwiaW1hZ2UiLCJhbmlzb3Ryb3B5IiwibW9kZWxPQkoiLCJ4aHIiLCJyZWFzb24iLCJyZXNvbHZlZENvbmZpZyIsImNvbmZpZyIsImFyZW5hIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsInBhcnNlSW50IiwibWl4ZWRSZWFsaXR5Iiwicm9ib3RzIiwic2VsZWN0ZWRSZWFsaXRpZXMiLCJyZWFsIiwidmlydHVhbCIsImhpZGRlbk9wYWNpdHkiLCJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNTaG93aW5nUm9ib3RTbmFwc2hvdHMiLCJpc0xvYWRlZCIsImlzVHdlZW5pbmciLCJpc1JvdGF0aW5nIiwiaXNNb3VzZU1vdmluZyIsImlzTW91c2VPdmVyIiwiZHByIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJlbmFibGVIZWxwZXIiLCJ0cmFuc2x1Y2VudCIsImZvdiIsInBvc1giLCJwb3NZIiwicG9zWiIsImhlbHBlckVuYWJsZWQiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsImdyb3VuZENvbG9yIiwic3RvcmVkQ29uZmlnIiwiY29tcHV0ZVRhbmdlbnRzIiwibm9ybWFscyIsInV2cyIsIm5WZXJ0aWNlcyIsInRhbmdlbnRzIiwidGFuMSIsInRhbjIiLCJ2QSIsInZCIiwidkMiLCJ1dkEiLCJ1dkIiLCJ1dkMiLCJzZGlyIiwidGRpciIsImdyb3VwcyIsImhhbmRsZVRyaWFuZ2xlIiwidyIsInRtcCIsInRtcDIiLCJuIiwibjIiLCJoYW5kbGVWZXJ0ZXgiLCJhIiwiYiIsImMiLCJzdWIiLCJpc0Zpbml0ZSIsImFkZFNjYWxlZFZlY3RvciIsImRvdCIsImNyb3NzVmVjdG9ycyIsIm1lcmdlQnVmZmVyR2VvbWV0cmllcyIsInVzZUdyb3VwcyIsImlzSW5kZXhlZCIsImF0dHJpYnV0ZXNVc2VkIiwiU2V0IiwibW9ycGhBdHRyaWJ1dGVzVXNlZCIsIm1lcmdlZEdlb21ldHJ5IiwiYXR0cmlidXRlc0NvdW50IiwiaGFzIiwibWVyZ2VkVXNlckRhdGEiLCJhZGRHcm91cCIsImluZGV4T2Zmc2V0IiwibWVyZ2VkSW5kZXgiLCJtZXJnZWRBdHRyaWJ1dGUiLCJtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMiLCJudW1Nb3JwaFRhcmdldHMiLCJtb3JwaEF0dHJpYnV0ZXNUb01lcmdlIiwibWVyZ2VkTW9ycGhBdHRyaWJ1dGUiLCJhcnJheUxlbmd0aCIsImlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcmxlYXZlQXR0cmlidXRlcyIsImludGVybGVhdmVkQnVmZmVyIiwicmVzIiwiZ2V0dGVycyIsInNldHRlcnMiLCJpYmEiLCJrIiwiZXN0aW1hdGVCeXRlc1VzZWQiLCJtZW0iLCJhdHRyIiwibWVyZ2VWZXJ0aWNlcyIsInRvbGVyYW5jZSIsIk51bWJlciIsIkVQU0lMT04iLCJoYXNoVG9JbmRleCIsInZlcnRleENvdW50IiwibmV4dEluZGV4IiwiYXR0cmlidXRlTmFtZXMiLCJhdHRyQXJyYXlzIiwibW9ycGhBdHRyc0FycmF5cyIsIm1vcnBoQXR0ciIsImZpbGwiLCJkZWNpbWFsU2hpZnQiLCJsb2cxMCIsInNoaWZ0TXVsdGlwbGllciIsImhhc2giLCJuZXdhcnJheSIsIm5ld01vcnBoQXJyYXlzIiwiZ2V0dGVyRnVuYyIsIm1sIiwib2xkQXR0cmlidXRlIiwib2xkTW9ycGhBdHRyaWJ1dGUiLCJtb3JwaEF0dHJpYnV0ZSIsIlRyaWFuZ2xlc0RyYXdNb2RlIiwiY2xlYXJHcm91cHMiLCJjYW52YXMiLCJDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJ3ZWJnbCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0QWxpZ24iLCJiYWNrZ3JvdW5kIiwicGFkZGluZyIsIm1hcmdpbiIsImFkZEdldFdlYkdMTWVzc2FnZSIsInBhcmVudCIsImZuIiwidGhyZXNoaG9sZCIsImxhc3QiLCJkZWZlclRpbWVyIiwiY29udGV4dCIsIm5vdyIsIkRhdGUiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJsZW5ndGhDb21wdXRhYmxlIiwicGVyY2VudENvbXBsZXRlIiwidmVydGljZXNOZWVkVXBkYXRlIiwibm9ybWFsc05lZWRVcGRhdGUiLCJjb2xvcnNOZWVkVXBkYXRlIiwibWF0ZXJpYWxLZXkiLCJBTElBUyIsImRvd24iLCJzcGFjZSIsInRhYiIsImVzY2FwZSIsImtleUNvZGVzIiwib25LZXlDaGFuZ2UiLCJvbkJsdXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvcCIsImtleUNvZGUiLCJrZXlEZXNjIiwicHJlc3NlZCIsInRvVXBwZXJDYXNlIiwiY2hhckNvZGVBdCIsImFsaWFzZXMiLCJhbGlhc0tleXMiLCJzaGlmdEtleSIsImN0cmxLZXkiLCJhbHRLZXkiLCJtZXRhS2V5Il0sInNvdXJjZVJvb3QiOiIifQ==